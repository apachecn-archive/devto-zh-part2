# 牛逼 a11y

> 原文：<https://dev.to/napicella/awesome-a11y--bg8>

大家好！

今天我要讨论一个和我很接近的话题:
可达性(简称 a11y)。

我在易访问性团队工作了一年多一点，这段经历帮助我在个人和职业上成长。我最近转到了另一个团队，所以在我用新信息部分覆盖我所学到的东西之前，我想清空磁盘上的主内存，并写下主要指针供以后参考。
希望通过这篇文章，我可以一石二鸟，既记录又分享一些经验教训。

在我们开始之前，快速介绍一下什么是网页可访问性？

> 来自维基百科:
> 无障碍指的是为有残疾的人设计的产品、设备、服务或环境。

特别是网页可访问性，指的是对用户可用的网页体验的设计。

我觉得之前的定义有点奇怪。
你能猜到我的意思吗？小线索，这个词已经被强调了。
奇怪的是，这个定义指定一个 web 应用程序是`Accessible`如果可以被`all`我们的用户使用。

让我们考虑一下。我们即将建立一个新的可怕的网络应用程序，它的要求会是什么样的？

> 客户必须能够使用电子邮件和密码登录 web 应用程序...

我们说客户，但我们真正指的是所有愿意使用我们的应用程序的**客户。`All`是含蓄的。**

> 显然，我们不想把我们的应用程序限制在部分客户身上。是吗？

不幸的是，这正是当我们开始项目时忽略可访问性所发生的事情。我们对越来越多的客户关闭我们的应用程序。

在开始之前，让我定义一下我将在整篇文章中使用的一些术语。

*   辅助技术(简称 AT):一个总称，包括增强残疾人学习、工作和日常生活的产品、设备和系统。在网络环境中，这意味着像屏幕阅读器、放大镜、头部指针等工具。
*   屏幕阅读器:盲人或视力受损者用来阅读计算机屏幕内容的软件。例如 Windows 版 JAWS、NVDA 版或 Mac 版 Voiceover。
*   放大镜:允许用户控制屏幕上文本和/或图形的大小。与使用缩放功能不同，这些应用程序允许用户查看与屏幕其余部分相关的放大文本。这是通过在屏幕上模拟手持放大镜来实现的。
*   头部指针:直接安装在用户头部的棍子或物体，可以用来按键盘上的键。这种装置是由不能用手的人使用的。

话虽如此，我们开始吧！

### 1 -从第一天起就考虑到可访问性来设计你的应用程序。

这意味着几件事:

*   喜欢简单的设计而不是复杂的用户界面。
    这并不意味着你不能添加下拉菜单、
    转盘等。这意味着用户必须能够在不丢失他/她所在位置的上下文的情况下导航页面。
    有认知障碍的人可能会对长长的窗口小部件或弹出窗口链感到困惑(顺便说一下，尽量避免弹出窗口，稍后会详细介绍)。
    同样适用于屏幕阅读器用户。总的来说，一个简单的设计不仅有助于客户，也有助于非客户，他们会发现体验更加流畅。

*   注意对比度。根据[色盲认知](http://www.colourblindawareness.org/colour-blindness/)报道，色盲影响着世界上大约 1/12 的男性(8%)和 1/200 的女性。很多人，很多顾客。
    有很多工具可以帮助解决这个问题(谷歌有一个开发工具，除了其他功能之外，它还可以检查对比度)。
    这真是一个唾手可得的果实。

### 2 -尝试使用 HTML 原生元素

屏幕阅读器使用与元素关联的元数据向用户描述上下文。这意味着如果你使用一个锚或者一个 div 来创建一个自定义按钮，屏幕阅读器没有办法检测到那是一个按钮，这意味着用户不知道如何与元素交互。
如果你真的需要为你的按钮使用一个 div，一定要使用`role`属性，它可以为元素添加上下文。

这还不够，你还需要注意键盘导航和焦点。

> 对于本机 HTML `button`元素，按钮的 onclick 事件将在鼠标点击和按下空格键或回车键时触发，同时按钮具有焦点。但是，如果使用另一个标记来创建自定义按钮，onclick 事件只有在被鼠标光标单击时才会触发，即使使用了 role="button"。因此，我们必须向元素添加一个单独的键事件处理程序，以便当按下空格键或回车键时可以触发按钮。

```
<span role="button" 
      tabindex="0" 
      onclick="handleBtnClick()" 
      onKeyPress="handleBtnKeyPress()">
      Save
</span> 
```

Enter fullscreen mode Exit fullscreen mode

> 这里的要点是，将一个自定义元素转换成一个行为类似于本机元素的元素可能需要大量的工作。所以尽可能使用本地元素。如果你不喜欢这个元素的外观和感觉，那就设计它。

在这个问题上， [mozilla 开发者指南](https://developer.mozilla.org/en-US/docs/Web/Accessibility)是非常宝贵的。
这看起来可能有很多要读...嗯，确实是。但是请再忍耐一会儿。
看，我真的认为阅读所有的 Mozilla 文档或 W3C 可访问性指南并不是使 web 应用程序可访问的必要条件。
相反，一个更明智和可扩展的方法是在指南中查找您将要构建的建议方法。

### 3 -用不同的放大倍数测试页面

当使用不同的放大系数时，页面看起来会是什么样子？文本是否相应缩放？页面结构呢？
许多用户需要使用缩放系数或放大镜才能阅读页面。
真正验证用户界面行为的唯一方法是测试它。

### 4 -使用标题

使用从最高等级`h1`到最低等级`h6`的标题来传达页面内容的组织。
像屏幕阅读器这样的辅助技术允许在它们之间导航，提供了一种有效的方法来跳过页面的整个部分。

如果某样东西是一个标题，就用它来代替普通文本的样式，看起来就像一个标题。

### 5 -使用新的 html5 元素

与标题类似，新元素`header`、`nav`、`main`和`footer`提供了指定页面部分的能力。
元素为屏幕阅读器提供了额外的信息，也支持在其中导航/跳转的能力。

### 6 -宣布页面变更

现代 web 应用程序是为对内部或外部事件做出反应而构建的。一些例子:

*   “添加到购物车”按钮更改购物车的状态，显示购物车中的元素数量
*   收到新邮件后，通知栏会更新，显示要阅读的邮件数量
*   聊天应用程序中的新消息

所有这些例子都有一个共同点:web 应用程序通过动态改变页面的某些部分来对事件做出反应，而不需要重新加载整个页面。
虽然这些变化通常对能看到页面的用户来说是显而易见的，但对屏幕阅读器用户来说却不是。
我们如何为我们的用户填补这个空白？

进入`ARIA`。

> ARIA 定义了标记扩展(主要作为 HTML5 元素的属性)，web 应用程序开发人员可以使用这些标记扩展为辅助技术提供有关各种元素语义的附加信息。

在这种情况下，可以使用 Aria live 片段。

```
var result1 = 0;

function update1() {
    result1 = result1 + 1;
    document.getElementById("result1").innerHTML=result1;
}
</script>
</head>

<body>
...
<div id="result1" role="status" aria-live="polite"></div>

<div>
<button onclick="update1();">Update result 1</button>
</div>
...
</body> 
```

Enter fullscreen mode Exit fullscreen mode

网上有成千上万的例子，在这里粘贴一个快速参考的链接:
[例子](https://developer.paciellogroup.com/blog/2014/03/screen-reader-support-aria-live-regions/)。

### 7 -了解咏叹调

在上一节中，我提到 ARIA 帮助我们为辅助技术提供额外的信息。这是 W3C 的建议，这意味着在不同的浏览器和辅助技术中可能会有不同的实现。
我在 ARIA 上的经验是一个非常成熟的项目，并且受到业界的好评。
对于许多在这个领域比我准备得更充分的人来说，ARIA 很快就会成为一个标准。
同样，在开始构建你的网络应用程序之前，你不需要阅读所有的 [ARIA 指南](https://www.w3.org/TR/using-aria/#rule1)，而是把它作为参考。使用 ARIA 时，有一条重要的规则需要记住:

> **咏叹调的第一条规则是...不要使用 ARIA**
> 这正是前面提到的关于使用原生元素而不是自定义元素的概念。
> 如果您可以使用内置了您需要的语义和行为的原生 HTML 元素或属性，而不是重新使用元素并添加 ARIA 角色、状态或属性来使其可访问，那么就这样做。

### 8 -避开弹出的陷阱

> 我:我已经添加了一个弹出到应用程序的登录，它看起来太酷了！

几个小时后:

> 问题 1:屏幕阅读器不会显示 pop us，因此客户不知道他是如何进入登录页面的
> 
> 问题 2:已宣布弹出，但焦点仍在背景页面上。客户不能插入他的凭证
> 
> 问题 3:焦点在弹出窗口中，但是客户无法退出。他被困在弹出窗口中，直到他刷新页面

我不知道你怎么想，但是第二期之后我就准备放弃弹出窗口了。玩笑归玩笑，如果你真的需要，检查一下你用来设计应用程序的库是否已经提供了可访问的弹出窗口。
否则就远离它们，除非你愿意花大量的时间来制作一个可访问的弹出窗口。

### 9 -提供替代文本

不要忘记在`alt`属性中添加图像的适当描述。
另一方面，当一个图像仅用于装饰目的时(想想一个分隔线，背景图像等等。)，添加一个空的 alt 属性`alt=""`或者从页面内容中移除图片，并使用 CSS 将其添加为背景图片。

当处理复杂的图像时，比如无法用几行文字描述的图表或地图，那么应该通过`longdesc`在其他地方提供替代方案。

### 10 -用屏幕阅读器测试 Web 应用程序

> 看起来我在陈述显而易见的事情，但是我认为重要的是要指出，就像我们编写的任何其他代码一样，如果没有经过测试，它就不会工作。

下载画外音的备忘单(如果你是 windows 用户，可以下载 JAWS)，戴上耳机，启动屏幕阅读器，闭上眼睛。体验使用键盘浏览网站而不看屏幕的感觉。
检查你能到达页面的任何部分，你能跳过部分，没有焦点陷阱，等等。

## 结论

谢谢你读到这里。我可能忘记了一些东西，在这种情况下，我会写一篇后续文章。

请评论并分享你的经验，让这份清单更棒。

谢谢大家！