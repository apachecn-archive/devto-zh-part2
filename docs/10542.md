# 监视可疑的互联网机构-什么是证书透明？

> 原文:[https://dev . to/mortoray/keeping-tabs-on-shady-internet-authorities-what-is-certificate-transparency-mc0](https://dev.to/mortoray/keeping-tabs-on-shady-internet-authorities----what-is-certificate-transparency-mc0)

你知道别人可以窃取你的域名吗？即使您已经适当地保护了您的站点并获得了正确的安全证书，一些人仍然有可能访问错误的站点。这并不容易，它涉及邪恶的伎俩和利用错误，但一个坚定的攻击者可以滥用你的域名。证书透明是防止这种情况的一种方法。

## 安全域

要理解我们为什么需要证书透明性，需要一些背景知识。让我们快速看一下我们如何创建一个安全域；安全意味着用户确信他们在正确的网站上，而不是一个骗子。我们需要这样做，因为互联网是一个有点开放的地方。在用户和网络服务器之间有许多其他的计算机。中间的每一站都被委托做几件事:

*   而不是修改它得到的数据
*   将数据发送到正确的位置

加密解决了第一个问题。这是 HTTPS 标准的一部分，它向用户验证服务器消息的完整性。

第二个标准有点问题。你的数据在许多未知的计算机上传输；这些都是陌生人拥有和经营的。所有者可能是电信公司、托管公司，甚至是政府机构。其中任何一个都可以将你的数据发送到他们想要的任何地方，而不是发送到指定的服务器。

虽然我们知道来自服务器的加密数据不能被修改，但我们不能确定我们在正确的服务器上。HTTPS 也有一个证书形式的解决方案。证书颁发机构向域所有者颁发证书。他们使用该证书中的信息来签名和加密他们的数据。

> 证书是存储在文件中的一些数字和文本信息。您的计算机使用这些值来建立远程服务器的身份。

权威机构只将证书颁发给通过真实世界手段建立的适当的域所有者，而不将证书颁发给另一方。只要所有的权威都是可信的，这个系统就能防止假冒。

## 失信

一些证书颁发机构被证明不是可靠的合作伙伴。一些网站已被攻破或存储数据不正确，这可能会允许攻击者假冒网站。也许更麻烦的是，一些当局已经被证明是腐败的。

域名所有者拥有灵活性；他们可以从任意数量的权威机构获得他们的域证书。这是一个开放的市场，防止任何一个组织拥有太多的控制权。然而，越来越多的权威机构增加了其中一个做错事的机会。仅仅因为你只使用一个权威，他们中的任何一个仍然可以为你的域发布一个看起来有效的证书。

有一些机制可以防止这种情况。浏览器供应商维护有效授权的列表，并拥有跟踪证书来源的技术。它有助于识别主要网站，如谷歌或 Twitter，但对不太常用的网站或地区性网站就不太好了。此外，还容易出现未被发现的权力腐败。

## 证书透明度

证书透明性有助于检测无效注册和损坏的授权。这是由权威机构颁发的所有域证书的公共日志。无论何时颁发证书，它都会被记录在公共数据库中。

这有什么帮助？域名所有者可以监控日志，发现他们域名的所有注册。每当他们的某个域的证书被注册时，他们就会收到一个警报。如果注册不是有意的，他们可以追踪来源，并在未经授权的情况下发出适当的警报。

直到最近，这一直是一个可选的机制。添加日志条目不需要证书颁发机构。尽管从 4 月份开始，Chrome 要求所有新的证书都使用这种机制，Firefox 和 Chrome 几年来都支持一些检查。Chrome 拒绝来自不使用日志记录的权威机构的新证书，从而阻止对网站的访问。

现在，仅仅有日志记录是不够的，域名所有者必须监控日志以发现域名的滥用。日志当然是公开的；如果有问题，任何人都可以随时查看。此外，许多您不直接访问的流行站点和支持站点会受到安全社区和浏览器供应商的定期审查。

证书透明堵住了在线安全的又一个潜在漏洞。