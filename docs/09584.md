# 6 个瞬间

> 原文:[https://dev.to/henrikwarne/6-git-aha-moments-3097](https://dev.to/henrikwarne/6-git-aha-moments-3097)

当我四年前换工作时，我从使用 subversion (svn)转向使用 git 作为版本控制系统。尽管我学得很快，但我花了很长时间才真正理解 git。我读了很多关于 git 如何工作的书，但即使如此，我也并不总是意识到如何使用 git 的含义。以下是我在如何使用 git 上的六个重大“顿悟时刻”。

### [](#aha-moments)顿悟时刻

现在看这些啊哈时刻，都觉得真的很明显。但是我记得当我理解一个概念并意识到我可以使用 git 的方式时，我真的想到了“啊哈”。

[![](../Images/26b07c6195336b83a8eae85b10a86220.png)T2】](https://henrikwarne1.files.wordpress.com/2018/06/dscf6999.jpg)

**1。本地和远程更改是独立的。**我经常使用“svn status -u”来查看如果我运行 svn update 会得到什么变化。一开始，我对 git 中的等价操作感到困惑。您可以运行 git status，它将显示与上次获取的内容相比的本地更改。但是要看到服务器上的变化，我首先需要做一个 git 获取。有两组独立的变更——本地变更和服务器上的变更(由其他人推送到那里)—这个概念花了我一段时间才真正理解。

**2。合并使旧的提交变得可访问。我花了很长时间才意识到合并只是让已经存在的提交变得可访问。最初，我对合并的心理模型是，在合并时，来自合并分支的所有变更都变成了提交*。意识到来自一个分支的提交仍然存在，合并只是允许它们在另一个分支中“被看到”,这有助于解释一些奇怪的事情。例如，显示文件的 git 日志(例如在 PyCharm 中)可以显示来自两个不同分支的交叉提交。显示两次提交之间的差异(时间上相邻，但是在两个不同的分支上)可能会产生很大的差异。***

**3。合并提交的含义。由于我对合并的理解不完整，合并提交曾经对我来说有点神秘。我认为提交仅仅是“这个提交的代码有什么不同”，从这个角度来看，合并提交没有任何意义。通常它们是空，没有任何代码差异。现在，我当然明白了，了解来自另一个分支的提交在什么时候通过合并变得可达是很重要的。**

**4。你可以向两个方向合并。**如果您有一个长期运行的分支*b _ 您最终想要合并回主分支，您可以通过定期将主分支合并到 _b* 来解决合并冲突(并修复任何出现的合并冲突)。最终，我想将所有来自 *b* 的更改合并到 master 中，但这只能在 *b* 按预期工作时才能实现。当我意识到我不必等到 *b* 完成后再解决一些合并冲突时，这对我来说是一个重大的概念性顿悟时刻。定期将 master 合并到 *b* 中意味着当我最终将 *b* 合并到 master 中时，大部分合并冲突都已经得到了处理。

**5。如果合并失败，您可以重新开始。**当我使用 svn 时，我经常使用–预演，看看如果我执行某个操作(但没有实际执行)会发生什么。在 git 中，我花了一段时间才意识到同样的功能是存在的，但是没有明确定义。例如，如果我合并了一些变更，并且我在解决合并冲突时搞砸了，我可以简单地返回一步，然后再做一次。只要我没有推送到服务器，做一个“git reset-hard HEAD ~”就可以回去了。现在我可以简单地再次进行合并，希望这次能够正确地解决冲突。知道我用 git 做的几乎任何事情都可以很容易地恢复、撤销或重做，这让我非常欣慰。

**6。提交的更改可以重新设置为本地更改。**有时我在一个分支 *b* 上工作，有局部的变化，我需要检查另一个分支并在那里做一些工作。在过去，我经常藏起本地的零钱。但是最近，我经常提交本地变更，并给出一条提交消息，说明这是正在进行的工作(WIP)。我不会将这些更改推送到服务器。当我回到分支 *b* 时，我做了一个“git reset HEAD~”来再次将提交的更改作为本地更改取回。在一个分支上进行 WIP 提交意味着我不必跟踪隐藏的变更是针对哪个分支的。对我来说，意识到我可以再次“撤销”提交到本地更改是一个真正的啊哈时刻。

### [](#conclusion)结论

我记得读过很多关于如何使用 git 的教程，以及 git 是如何组织的。但是即使知道 git 是如何工作的，也不能马上理解我如何使用 git。以上的顿悟时刻只取决于对一些事情的理解——存在局部变化，以及分支和合并是如何工作的。以我现在所知，所有这些见解都显得微不足道。但是，我记得相当清楚，在我刚开始学习 git 的时候，这些对我来说并不明显。希望这些顿悟的时刻能够对其他新接触 git 的人有用。