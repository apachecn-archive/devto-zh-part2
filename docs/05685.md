# 反对化名的案例

> 原文:[https://dev.to/moopet/the-case-against-aliases-2mb1](https://dev.to/moopet/the-case-against-aliases-2mb1)

快速浏览一下时间线，您会发现 shell 别名是一个热门话题。shell 函数、git 别名和包装脚本仍然很流行，但程度较低。

喜欢化名没有错！

但是我认为，和所有事情一样，你应该在做之前明白你在做什么。

## 文案要点

当你使用别人的化名时，通常是通过粘贴一大堆或者从一个完整的文件中获取。你是否通读并理解了所有内容？里面有什么恶意的东西吗？有没有什么不那么恶意，但放在那里开玩笑的东西？

## 货物邪教

你在网上找到的一些化名非常固执己见。举个小例子，`mkdir`是否应该遮蔽`command mkdir -p`？你知道*为什么*你会选择这么做吗，或者这只是别人的偏好？

## 递归

如果一个别名调用另一个别名，而另一个别名又调用另一个别名(或自己)，会发生什么？
您通常可以通过显式指定别名使用`command`来避免这种情况，如果合适的话，或者通过确保提供别名的脚本被很好地排序和注释。

我打赌你得花几秒钟才能弄明白。

## 效率

```
alias gcma='git commit -a -m' 
```

Enter fullscreen mode Exit fullscreen mode

输入`gcma`肯定比输入`git commit -a -m`更有效率吧？这不是很明显吗？如果你把它放到肌肉记忆里，那就是了。在此之前，有一个学习阶段，你的缩写是你每次都必须查找或解决的。

## 预见性

如果它是一个别名，你会记得`gcma`的消息参数是强制的*和*必须包括在引号中，因为它是一个单一的参数吗？
如果您将它构建为一个 shell 函数...

```
gcma() {
  git commit -a -m "$@"
} 
```

Enter fullscreen mode Exit fullscreen mode

...您可以键入`gcma foo bar baz`而不是别名来包含引号，如果您第二次包含引号，或者如果您完全忘记消息，会发生什么情况？

如果你想传递另一个参数给`git commit`，比如`--squash`呢？你可以用别名来做，但不能用现有的函数。省去额外的引号限制了您的选择。

当你有一个很长的快捷方式列表时，你能预测所有别名的行为，而不用自己测试它们吗？

## 可用性(本地)

如果您习惯于使用别名，并且尝试在终端会话之外的某个地方使用它，您确定您知道会发生什么吗？如果脚本或`cron`行中的别名遮蔽了可执行文件，那么它要么不起作用，要么做其他事情。你有足够的信心不会因为过度依赖化名而犯错误吗？

## 便携性(远程)

当你使用外国系统时，你的别名不在那里。如果出于某种原因，您使用 shell 进入 VPS 或本地容器，您会怎么做？如果你被那些宣传`zsh`的文章所左右，决定尝试使用不同的外壳，该怎么办？

## (系统间)遮蔽

如果您没有注意到您的别名不在那里，但是您键入的命令没有达到您预期的效果，因为您在本地隐藏了它，该怎么办？你想了一分钟，打开`man`页面，浏览它，想知道过去一切是如何工作的，以及你是否健忘或有点疯狂。

## 审计线索

查看您的 shell 历史记录，找出上周遇到相同问题时您做了什么——您还记得要搜索什么吗？是隐晦的别名还是完整的命令？到底是什么被跟踪了？

让我借用一下 Python 的[禅:](https://www.python.org/dev/peps/pep-0020/)

> 显性比隐性好。可读性很重要。

大多数情况下，这些警告都是为了提醒你何时何地使用别名。别名可能非常方便，但是...小心点，好吗？

morguefile.com[ArielleJay 的封面图片(基本无关)](https://morguefile.com/creative/ArielleJay)