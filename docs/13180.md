# 重写 Chess.com 的 Android 应用程序

> 原文:[https://dev . to/autonomous apps/rewriting-chescoms-Android-app-4 AIJ](https://dev.to/autonomousapps/rewriting-chesscoms-android-app-4aij)

Chess.com 的 Android 应用程序每天有大约 30 万人使用，每月有 100 万人使用，他们说超过 69 种语言，现在正在进行重写！

现在，你很可能会问“但是你在 [Google Play](https://play.google.com/store/apps/details?id=com.chess) 上的评分是 4.4 星，你的无崩溃率是 99.97%，你是盈利的——为什么要付出这么多努力？”首先谢谢，被人欣赏真好。其次，如果你知道我们的首席执行官 Erik Allebest 也有同样的问题，你不会感到惊讶。以下是我告诉他的:

我们目前正计划对该应用进行彻底的重新设计(哦，顺便说一下，我们正在计划彻底的重新设计，你应该感到兴奋，因为它很棒)，在我花了太多时间在一封电子邮件的“发送”按钮上徘徊了几个月后，我最终得出结论，这是不可能逐步实现的。Chess.com 对其移动应用程序(Android 和 iOS)有很大的计划，Android 团队认为最好、最安全的方法是从头开始。

目前的应用程序确实很好，但它肯定有它的怪癖(“这不是一个错误，这是一个功能！”-你知道)，而且添加新功能有时也是一个挑战。作为一家公司，我们总是希望使用最新的稳定技术，坦率地说，现有的应用程序在 2011 年 1 月首次承诺进行版本控制！实际上我不确定第一行代码是什么时候写的，但这个应用程序兼容 Android 2(或者是 1？没人记得)。Android 9 今年就要出来了。我认为可以肯定地说，一个最初为 Android 2 设计的项目不能被认为是“最新的稳定技术”。

然而，让我们花点时间向一款真正经受住了时间考验的手机应用致敬。我们并不总是完美的，但我们一直致力于改善玩家的体验，为他们提供新的功能，并为他们提供可以说是卓越的移动直播象棋体验。

现在这个问题解决了，未来会是什么样子呢？这是一个移动的目标，但有几件事我是肯定的:

*   新的应用程序将完全重新设计，它将是华丽的。材质设计、流畅的动画和过渡、更快的速度，通常只是一种享受。

*   新的应用程序将有一个最低要求的 Android 版本 5.0 /棉花糖(如果你是一个 Android 开发者，minSdk 21)。我们预计这意味着 5%的现有玩家将无法在他们当前的设备上升级，我们对此感到非常抱歉。然而，对于其他 95%的人来说，这意味着使用更好、功能更丰富的技术会有更流畅的体验。这也意味着我们将更快地完成新版本，因为我们不必努力支持旧版本的 Android。

*   新的应用程序将主要用 Kotlin 编程语言编写，而不是 Java。我承认我对 Kotlin 有很长一段时间的怀疑(我更喜欢稳定性高于一切)，但是当谷歌[宣布支持该语言作为 Java 的主要语言时，我不得不加入进来。为什么？科特林让整班的虫子都消失了。Kotlin 比 Java 更简洁，这意味着我的团队更有效率。Kotlin 有扩展功能，这意味着我可以扩展一些缺少特性的类的 API。Kotlin 使不变性变得非常容易——参见上面关于消除整类 bug 的观点。我可以继续——我会在以后的文章中继续。](https://youtu.be/fPzxfeDJDzY)

*   新的应用程序将从一开始就对 [Dagger2](https://google.github.io/dagger/) 和它的`dagger.android`包进行适当的依赖注入，而不是在 10 年后用撬棍塞进去。这是什么意思？这意味着改进的可测试性(以及稳定性)，更好的内存管理，以及对象创建和对象使用之间关注点的清晰分离。稍后我会写一篇关于这个问题的更技术性的文章——敬请期待！

重申第一点，我们真正关注的是为我们的玩家提供更好的体验。即使是最深奥的技术问题也是关于改进 UX 的。我希望你和我一样兴奋，我欢迎你跟随 Chess.com Android 团队的冒险，因为我们为现代重写了 20 万行代码的应用程序！谢了。