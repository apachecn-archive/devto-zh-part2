# ç”¨ Sass æ˜ å°„å¹²ç‡¥ CSS é€‰æ‹©å™¨

> åŸæ–‡:[https://dev . to/claire codes/drying-out-CSS-selectors-with-sass-maps-1gm](https://dev.to/clairecodes/drying-out-css-selectors-with-sass-maps-1gem)

## [](#first-attempt-repetitive-selectors)ç¬¬ä¸€æ¬¡å°è¯•:é‡å¤é€‰æ‹©å™¨

æˆ‘æœ€è¿‘å†™äº†ä¸€äº›ç±»ä¼¼è¿™æ ·çš„ Sass ä»£ç :

```
$color-apple: green;
$color-lemon: yellow;
$color-strawberry: red;

.apple-button {
  background-color: $color-apple;
}

.strawberry-button {
  background-color: $color-strawberry;
}

.lemon-button {
  background-color: $color-lemon;
}

// This compiles to:

// .apple-button {
//   background-color: green;
// }
//
// .strawberry-button {
//   background-color: red;
// }
//
// .lemon-button {
//   background-color: yellow;
// } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

(ä¸ï¼Œæˆ‘ä¸æ˜¯åœ¨ä¸€ä¸ªè”¬èœæ°´æœå•†çš„ç½‘ç«™ä¸Šå·¥ä½œï¼Œæ°´æœä¸»é¢˜åªæ˜¯ä¸ºäº†ä¸¾ä¾‹ï¼ğŸğŸ“ğŸ‹)

ä¹ä¸€çœ‹ï¼Œè¿˜è¡Œã€‚

ä½†æ˜¯è¿™æ®µä»£ç éå¸¸é‡å¤ã€‚é™¤äº†åç§°å’Œé¢œè‰²å€¼ä¸­çš„ä¸€ä¸ªå•è¯ä¹‹å¤–ï¼Œæ¯ä¸ªé€‰æ‹©å™¨çš„ç»“æ„æ˜¯ç›¸åŒçš„ã€‚

æ­¤å¤–ï¼Œè¿™ç§æ¨¡å¼ä¸èƒ½æœ‰æ•ˆåœ°æ‰©å±•ã€‚å¦‚æœæˆ‘æƒ³æ·»åŠ ä¸€ä¸ª`blueberry-button`å’Œä¸€ä¸ª`grape-button`æ€ä¹ˆåŠï¼Ÿæˆ‘éœ€è¦ç¼–å†™æ›´å¤šå‡ ä¹ç›¸åŒçš„é€‰æ‹©å™¨ã€‚å¦‚æœæˆ‘æƒ³å°†é¢œè‰²åº”ç”¨äºå­—ä½“è€Œä¸æ˜¯èƒŒæ™¯ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿæˆ‘å¿…é¡»åœ¨å¤šè¡Œä¸­æ›´æ”¹ CSS å±æ€§ã€‚è¿™æ˜¯ä½æ•ˆçš„ï¼

æˆ‘ä»¬æ€æ ·æ‰èƒ½æŠŠè¿™æ®µä»£ç å†™å¾—æ›´çŸ­æ›´ç®€æ´å‘¢ï¼Ÿä¹Ÿå°±æ˜¯éµå¾ª*çš„[å¹²åŸåˆ™](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself)ä¸é‡å¤è‡ªå·±*ï¼Ÿåƒè¿™æ ·:

## [](#refactor-dry-selectors)é‡æ„:å¹²é€‰æ‹©å™¨

```
$fruit-map: (
  apple: green,
  lemon: yellow,
  strawberry: red
);

@each $fruit, $fruit-colour in $fruit-map {
  .#{$fruit}-button--dry {
    background-color: #{$fruit-colour};
  }
}

// This compiles to:

// .apple-button--dry {
//   background-color: green;
// }
//
// .lemon-button--dry {
//   background-color: yellow;
// }
//
// .strawberry-button--dry {
//   background-color: red;
// } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸€ä¸ª [Sass map](http://sass-lang.com/documentation/file.SASS_REFERENCE.html#maps) æ˜¯ä¸€ä¸ªé”®å€¼å¯¹çš„é›†åˆï¼Œå¾ˆåƒ JavaScript ä¸­çš„ä¸€ä¸ªå¯¹è±¡ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`$fruit-map`æ˜¯ä¸€å¼ åœ°å›¾ã€‚æœåæ˜¯å…³é”®ï¼Œé¢œè‰²æ˜¯ä»·å€¼ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ [Sass each æŒ‡ä»¤](http://sass-lang.com/documentation/file.SASS_REFERENCE.html#each-directive)æ¥è¿­ä»£æ¯ä¸€å¯¹ã€‚æˆ‘ä»¬å°†é”®å’Œå€¼èµ‹ç»™å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨[å˜é‡æ’å€¼](http://sass-lang.com/documentation/file.SASS_REFERENCE.html#interpolation_)(ä¹Ÿå°±æ˜¯è¿™ä¸ªè¯­æ³•`#{$foobar}`)æ¥æ„é€ æˆ‘ä»¬çš„é€‰æ‹©å™¨ã€‚

è¿™æ®µä»£ç ä¼¸ç¼©æ€§å¾ˆå¥½ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦ç”Ÿæˆä¸€ä¸ªæ–°çš„é€‰æ‹©å™¨ï¼Œæˆ‘ä»¬åªéœ€è¦å‘æ˜ å°„æ·»åŠ ä¸€ä¸ªæ–°çš„é”®å€¼å¯¹ï¼Œä¾‹å¦‚`blueberry: blue`ã€‚å¦‚æœæˆ‘ä»¬æƒ³æŠŠé¢œè‰²åˆ†é…ç»™å­—ä½“è€Œä¸æ˜¯èƒŒæ™¯ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ä¸€è¡Œä¸­æ”¹å˜ CSS å±æ€§ï¼Œè€Œä¸æ˜¯å¾ˆå¤šè¡Œã€‚å¤ªå¥½äº†ï¼

## [](#enhancement-multiple-values)å¢å¼º:å¤šå€¼

ä½†æ˜¯ç­‰ç­‰ï¼Œæˆ‘ä»¬å¯ä»¥æ›´è¿›ä¸€æ­¥ï¼ç°åœ¨æ¯ä¸ªæ°´æœä¸»é¢˜çš„æŒ‰é’®ä¹Ÿæœ‰äº†ä¸åŒçš„è¾¹æ¡†æ ·å¼ã€‚æˆ‘ä»¬å¦‚ä½•è°ƒæ•´æˆ‘ä»¬çš„æ˜ å°„æ¥åŒ…å«æ¯ä¸ªé”®çš„å¤šä¸ªå€¼ï¼Ÿè¯•è¯•è¿™ä¸ª:

```
$fruitier-map: (
  apple: (green, 1px solid black),
  lemon: (yellow, 2px dashed grey),
  strawberry: (red, 3px dotted orange)
);

@each $fruit, $fruit-colours in $fruitier-map {
  $bg-colour: nth($fruit-colours, 1);
  $border-style: nth($fruit-colours, 2);

  .#{$fruit}-button--fruitier {
    background-color: #{$bg-colour};
    border: #{$border-style};
  }
}

// This compiles to:

// .apple-button--fruitier {
//   background-color: green;
//   border: 1px solid black;
// }
//
// .lemon-button--fruitier {
//   background-color: yellow;
//   border: 2px dashed grey;
// }
//
// .strawberry-button--fruitier {
//   background-color: red;
//   border: 3px dotted orange;
// } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

*   å°†æ¯ä¸ªé”®çš„å€¼è½¬æ¢ä¸ºæ˜ å°„ã€‚ç»™åœ°å›¾æ·»åŠ é¢œè‰²å’Œæ–°çš„è¾¹ç•Œå€¼ã€‚
*   ä½¿ç”¨ç¬¬[ä¸ªå‡½æ•°](http://sass-lang.com/documentation/Sass/Script/Functions.html#nth-instance_method)è®¿é—®æ¯ä¸ªåœ°å›¾å…ƒç´ ï¼Œå¹¶å°†å®ƒä»¬åˆ†é…ç»™å˜é‡ã€‚
*   åƒä»¥å‰ä¸€æ ·ï¼Œä½¿ç”¨è¿™äº›å˜é‡åˆ›å»ºå¸¦æœ‰æ’å€¼çš„åŠ¨æ€ CSS é€‰æ‹©å™¨ã€‚

æœ€ç»ˆçš„ Sass ä»£ç æ˜“äºæ‰©å±•å’Œç»´æŠ¤ï¼Œä¹Ÿæ˜¯ dryã€‚å…¨é¢çš„ [Sass æ–‡æ¡£](http://sass-lang.com/documentation/file.SASS_REFERENCE.html)åŒ…å«äº†å…³äºè¿™äº›ç‰¹æ€§å’Œè®¸å¤šå…¶ä»–ç‰¹æ€§çš„æ›´å¤šç»†èŠ‚ã€‚