# Git 是什么？

> 原文:[https://dev.to/raddevon/what-is-git-2fak](https://dev.to/raddevon/what-is-git-2fak)

## [](#and-why-should-web-developers-care)还有为什么 web 开发者要在意？

Git 是一个版本控制系统。让我们打破行话，弄清楚这对我们 web 开发人员意味着什么。

## [](#what-is-version-control)什么是“版本控制？”

[![Safes aboard the Nixon-era Air Force One](../Images/43956cdf256a7b475635961f09d19b29.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--8vFf9AYQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raddevon.com/wp-content/uploads/2018/10/safes.jpg)

对于任何好奇的人来说，上图是尼克松时代的空军一号上的内置保险箱。

一个**版本控制系统**允许你跟踪的不仅仅是文件中当前的内容。您还可以跟踪不同时间点的变化。如果你的硬盘上只有一个 HTML 文件，那么这个文件的内容就是你最后一次在编辑器中点击“保存”时的内容。再做一些更改，然后再次单击“保存”:文件现在将反映您的最新更改。以前的更改将永远丢失。

## [](#what-is-a-commit)什么是“提交？”

Git 为您提供了一个额外的节省“类”。普通保存和以前一样，用新版本覆盖以前保存的内容。您还可以将您的更改提交到版本控制。提交设置了一个时间点，您可以使用 Git 回滚到这个时间点。如果您意识到在过去的某个时刻犯了错误，Git 允许您回滚到以前的任何提交。

## [](#committing-in-practice)在实践中招摇撞骗

我正在开发一个社交网络应用程序。我刚刚添加了一个标签，允许人们在应用程序中看到他们的联系。这需要更改我的项目中的几个文件。我已经做了那些修改并保存了所有的文件。现在，我可以将这些新的更改提交给 Git。我将运行`git commit -am "Adds connections tab"`到 stage(稍后将详细介绍)并提交所有更改。`-am`选项用于`a`将所有未登台的更改添加到舞台，并分别为提交提供`m`消息。

自从 connections 选项卡以来，我添加了一些附加功能，但是我的用户对 connections 选项卡非常不满。我正在以惊人的速度流失用户，我需要撤回这个功能。

如果没有源代码控制，这将是一件非常痛苦的事情，因为一些后续的特性是建立在 connections 选项卡之上的。我将不得不追寻那次改变后我所做的一切。相反，我可以恢复到之前的提交，回到连接之前的位置。

这就是提交的工作方式，但是让我们来看一个完整的 Git 工作流。不过，首先，让我们后退一步，学习如何在您的系统上设置 Git。

## Git 入门

在 Mac 上安装 Git 的最好方法是使用[自制](https://brew.sh/)包管理器。如果你安装了自制软件，你可以在你的终端上运行`brew install git`。一旦完成，您可以从终端运行`git`来确认安装工作。

##### [](#homebrew)🍺公司自产自用

> Homebrew 是一个用于 Mac 的软件包管理器。它使得安装和更新命令行应用程序更加容易。通过将他们网页上显示的安装命令粘贴到您的 Mac 终端来安装它。

在 Windows 上，你可以从 [Git 下载页面](https://git-scm.com/downloads)下载 Git 安装程序。Windows installer 应该安装 Git-Bash，它在 Windows 中为您提供了一个 shell 命令行。(您将像在 Mac 或 Linux 上使用终端一样使用它。d

大多数 Linux 发行版的默认包存储库中都有 Git。

### [](#git-gui-vs-command-line)Git GUI 与命令行

直接使用 GUI 的诱惑是很大的，尤其是对于像 Git 这样拥有如此多不同特性的应用程序。如果你决定走那条路，你有相当多的选择。

我建议您学习命令行界面。原因如下:

1.  没有哪个 Git GUI 会公开 Git 的所有功能。看一下[命令](https://git-scm.com/docs/git-commit)的参考。如果单个 GUI 甚至可以只显示这一个命令的选项，我会感到震惊，更不用说所有其他 Git 命令了。
2.  您每天需要使用的命令非常容易学习。尽管 git 有几十个命令，但您可能会学习其中的 3-4 个，并在需要执行其他命令时搜索正确的命令。

命令行缺乏良好 GUI 的可发现性，但这没什么大不了的，因为您经常只需要几个命令。再加上通过命令行，您可以访问 Git 的所有功能，这让我推荐使用命令行。

* * *

*你想离开你的💩成为一名网络开发人员。我想帮忙。前往[拉德德文](https://raddevon.com/)报名参加**免费辅导课程**！*

* * *

## [](#git-basic-workflow)Git 基本工作流程

我们已经看了一个如何提交的快速示例，但是我们错过了很多相关的上下文。让我们看一个简单的工作流程，看看如何使用 git。

### [](#git-init)去初始化

第一步是初始化一个 git **库**。存储库只是存储项目所有版本历史的容器。您可以在终端中导航到您计算机上的项目目录，并从那里运行`git init`。

您可以在为一个全新的项目创建了一个新目录之后这样做，或者如果您想开始对那个项目使用 Git 版本控制，也可以在一个现有的项目目录中这样做。这是一个重要的命令，但是您在每个项目中只会使用一次。

### [](#git-add)去添加

现在您已经在项目目录中初始化了一个存储库，但是它不知道它需要关注哪些文件。默认情况下，它不会关心其中任何一个。您使用`git add`告诉它要跟踪哪些文件。

你可以开始一个接一个地添加文件，直到你添加了所有你关心的东西，但是这听起来像是很大的工作量。您可能希望大多数文件都在版本控制之下。告诉 Git 哪些文件是您不想让它关心的，然后添加其他的，这不是更容易吗？幸运的是，Git 也有办法做到这一点。

在项目的根目录下创建一个名为`.gitignore`的文本文件。(记下前导点。这使得文件不可见，这样它就不会弄乱你的目录列表。如果你忽略它，Git 不知道忽略什么。)这只是一个标准的文本文件。每一行都是一个文件模式。Git 将忽略任何匹配这些模式的文件。

这些模式与您在其他终端命令中使用的模式相同。也许你已经用`rm *.txt`删除了一个目录下的所有文本文件。`*.txt`是一个文件模式。它们可以有通配符(比如`*`)来匹配任何东西，或者它们可以只是一个文件或目录的名称(比如`node-modules`)。如果你想了解更多关于`.gitignore`文件的信息，请查看[Git 文档](https://git-scm.com/docs/gitignore)。

##### [](#which-files-to-ignore)🙈要忽略哪些文件

> 你现在知道如何忽略文件了，但是你想要忽略哪些文件可能并不明显。一般来说，您只需要在源代码控制中自己编写的文件。在像 HTML 和 CSS 这样的简单项目中，这可能就是一切。如果您的项目有依赖项，或者是在项目目录中构建的，您可能希望忽略这些依赖项。您可能还想忽略任何编辑器配置文件或任何特定于您或您的计算机的文件。

这里有一个来自 [GatsbyJS](https://www.gatsbyjs.org/) 项目的示例`.gitignore`文件:

```
node_modules/
public
.gatsby-context.js
.DS_Store
.intermediate-representation/
.cache/
yarn.lock 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

`node_modules`被忽略，因为它是安装依赖项的地方。`public`被忽略，因为这是项目构建的地方。`.DS_Store`是 macOS 在每个目录下创建的文件。`.gatsby-context.js`是盖茨比自动生成的。`yarn.lock`根据 Yarn 应该在版本控制中，但是 Gatsby 的 project scaffolding 把它加到了 ignore 文件中。

如果您使用一个`.gitignore`文件忽略了所有您不希望在版本控制中的文件，那么现在您可以使用`git add .`添加所有其他文件。

### [](#git-status)git status

`git status`显示哪些文件是暂存的，哪些文件有*没有*暂存的更改，以及哪些文件尚未被查看(但也不会被忽略)。我经常在其他命令之间运行它，只是为了查看所有东西的确切状态，并确保我没有意外地上演我认为被忽略的东西。

### [](#git-commit)去委员会

一旦您用`git add`暂存了一些更改(或新添加的文件)，您将使用`git commit`创建一个提交。同样，这将创建一个快照，如果出现问题，您可以恢复到该快照。提交可以将单个保存捕获到单个文件中。它可以捕获多个保存到一个文件。一次提交可以代表一次保存到多个文件，也可以代表多次保存到多个文件。

当您考虑提交的频率时，请记住**您将无法返回到提交**之间的任何状态。如果你做了一周的工作，但忘记提交，在最后提交一次，你唯一的历史记录就是所有工作的一次提交。这意味着，如果您需要恢复，您可以恢复整周的工作，也可以一周都不恢复。

### Git 循环

现在您已经有了自己的项目，您将开始经历 Git 循环。它看起来是这样的:

1.  进行您的更改
2.  拯救他们
3.  使用`git add`准备您的更改
4.  使用`git commit`提交更改
5.  重复

您偶尔会运行`git status`来确保一切都如您所料地被跟踪和准备，但是，除此之外，这是您作为 web 开发人员的大部分 Git 生活。您不知道使用 Git 需要知道的所有事情(您甚至不能恢复对版本控制的价值至关重要的更改。)，但你可能暂时不会需要做任何其他事情。到时候，**用你的搜索技能**找到完成你面前任务的命令。(这是我成为一名 web 开发人员的核心原则之一:及时了解你需要知道的东西！)

## [](#building-a-git-habit)养成饭桶习惯

你现在面临的挑战是养成使用 Git 的习惯……即使你不需要。当你真的把事情搞砸了的时候，你将需要使用 Git，但是，一旦发生了，开始使用它就太晚了。

确保每个新项目都以 git 提交开始，并且在进行过程中提交。现在就养成这个习惯，这样当有一天*来临时*你需要回到上周(它会的)，你就已经有了你的 Git 安全网。