# 为什么无服务器新手应该使用部署框架

> 原文：<https://dev.to/paulswail/why-serverless-newbies-should-use-a-deployment-framework-3ea4>

作为一名使用新技术构建第一个应用的开发人员，成功部署一个有效的端到端解决方案可能会非常令人满意。但是在你到达那里之前，你需要学习技术的基本原理。

为了优化你的学习过程，坚持核心技术及其现成的工具似乎是明智的。如果你想在 Rails 上构建 Ruby web 应用，你应该在学习 Rails 之前学习普通的 Ruby。如果你想构建丰富的前端体验，你应该在研究 React-Router、Redux 或 Webpack 之前先学习纯 React。不得不并行选择补充工具和框架的认知负担可能是压倒性的。它们会让你慢下来，甚至让你彻底放弃。

在大多数情况下，我同意这种方法。但是，如果您的目标是使用 AWS Lambda 和 API Gateway 构建您的第一个无服务器 web 应用程序，我可以例外。

编写 Lambda 函数代码(通常)是容易的部分。但是我看到许多新手无服务器开发人员在配置和部署功能及其相关服务时遇到了一个又一个障碍。有些人甚至[引用这些绊脚石](https://codeburst.io/why-serverless-architecture-isnt-the-holy-grail-yet-94a095325fa4)作为他们采用无服务器的交易破坏者。这些开发人员大多使用 AWS 控制台或 CLI 以及自主开发的配置代码来管理他们的功能和相关资源。

我几乎总是推荐一个简单的解决方案— **使用一个已经为您解决了这些问题的无服务器部署框架**。

我甚至可以说**不存在不应该使用部署框架**的最低复杂程度。即使您想部署一个简单的 Hello World 应用程序，也应该使用部署框架来完成。您将跳过更少的环节，同时使用相同的机制来部署具有许多移动部件的更复杂的应用程序。

💌 ***想了解更多关于构建无服务器 web 应用程序的信息吗？**然后订阅我的[每周简讯](https://winterwindsoftware.com/newsletter/)。*

## 部署框架缓解的难题

如果你决定不听从这个建议，而是坚持使用 AWS 控制台或 CLI 来管理和部署你的无服务器应用程序，这里有一些你可以花时间解决的问题...

*   确定调用函数并将其与触发或下游服务集成所需的 IAM 权限
*   千方百计用 Lambda 设置 API 网关，作为一个简单的 REST API
*   手动压缩 Lambda 代码和包依赖项
*   为失败的 Lambda 调用设置死信队列(以及必需的 IAM 权限)
*   提出管理特定于环境的配置的方法
*   调用 API 网关时调试 CORS 问题
*   将您的 Lambda 连接到 VPC

但是通过选择使用部署框架，几乎所有这些都“正常工作”,或者是默认的，或者只需要很少的配置。

## 我应该使用什么框架？

我个人推荐[无服务器框架](https://serverless.com/framework/)(没错，和架构概念同名，有点混乱)。我在许多项目中使用过它，发现它非常容易理解，并且插件模型非常灵活。它已经存在好几年了，我相信它是当今无服务器社区中最流行的部署框架。可以肯定地说，这是新手无服务器开发人员的可靠选择。

另一个值得一提的是 AWS 自己的 [SAM(无服务器应用模型)](https://docs.aws.amazon.com/lambda/latest/dg/serverless_app.html)框架。我现在不会讨论其他选项，但是你可以[到这里](http://blog.epsagon.com/the-most-popular-deployment-tools-for-serverless)比较最常用的框架。

## 更少的摩擦=无服务器方式

无服务器运动的一个共同准则是，通过最小化对基础设施管理和扩展问题的需求，开发人员可以更专注于他们的应用程序代码。

Lambda 消除了管理服务器和编排复杂的容器集群来处理负载的痛苦。API Gateway 消除了担心负载平衡和限制 HTTP 请求的需要。AWS(和其他云提供商)在提供如此强大的服务原语以实现无服务器架构方面做得非常好。

但是，如果开发人员仍然需要编写大量的管道代码/配置来将这些服务连接到一个应用程序中并进行部署，那么这只是不必要的摩擦。我不认为我们应该依赖云提供商给我们一个把我们的应用捆绑在一起的蓝图。这应该是跨所有服务的专业框架的角色。

总会有一些人避开所有方便的工具，而喜欢通过尽可能多的困难来获得一些工作，只是为了能够说他们知道技术的所有内部工作。

但是对于我们这些只想把应用程序发布给用户的人来说，我们可以使用部署框架，只在绝对需要的时候才查看。

* * *

💌 ***如果你喜欢这篇文章，你可以注册[到我的关于在 AWS 中构建无服务器网络应用的每周时事通讯](https://winterwindsoftware.com/newsletter/)。***

*原载于 winterwindsoftware.com*。