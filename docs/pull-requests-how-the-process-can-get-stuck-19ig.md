# 拉请求:流程是如何被卡住的

> 原文：<https://dev.to/mfurmaniuk/pull-requests-how-the-process-can-get-stuck-19ig>

在我目前的工作场所，我们有通常的拉式请求流程:

*   开分店
*   做工作
*   提交我所有的工作
*   推到树枝上
*   之前的步骤...令人作呕
*   当准备好打开一个公关！

拉取请求可以是审核或合并。在此之前，我将把拉请求称为 PR。

我有时会做检查，以确保工作符合我们正在做的一切，通常是在尝试新的、新奇的或危险的东西时。一旦在评审上有一些签字，并且我们试图在不到 48 小时内扭转这些局面，那么它就成为一个合并，或者我们生成一个新的合并，以获得回购中的所有更新和更改(如果有的话)。

合并是相当简单的，得到一些评论或代码审查。它是否符合风格指南，核心文件是否正确更新并与其他人的代码交叉测试，这样我们就不会在其他领域出现回归失败。一旦所有这些都完成了，我们再一次快速地，或者试着，把它们转过来，然后合并发生，我们继续我们的路。

偶尔，我们在这个过程中会遇到一些棘手的事情。

大公关。我是说巨大！到处都涉及到代码和库的东西，这些往往是罕见的，或者是由于一些主要的功能变化。像这样的公关可能需要几天的时间来审查和检查，有时会有很多后退和伪造，合并冲突，因为其他人已经被合并了。它们变成了一个巨大的烂摊子，虽然很少，但可以像噩梦一样出现，在队列中等待很长一段时间，直到它最终准备好并被放入，在合并按钮上有一点犹豫，因为你知道在一天内会有东西打破，并且会有后续。虽然通常这是自然的，你只是希望后续与轻微。

由于人们所做的工作将会随着时间的推移而延长，PRs 正在等待核心功能在另一个领域完成，或者这是一个巨大的团队工作。这些是最让我讨厌的，因为它们不应该那么早就被打开，至少对我来说是这样。当我看到他们的时候，我能感觉到我的呼吸停止了，我只知道在我继续之前我需要走一会儿，他们让我无止境的烦恼。

在一家全球性公司，人们在不同的地区生活和工作，有不同的时间表，感觉这是最好的沟通方式。有了所有其他工具(团队、Slack、HipChat、电子邮件[还记得那个吗？])有时候人们觉得这是最好的沟通机制。我可能是少数派，不同意，如果需要的话，你可以和不同的人在一个分支上工作，或者那个分支可能需要等待，但是没有必要这么早就打开它，它还没有准备好这里除了弹出一个标记说“审阅我，还有另一个签入！”。在外交上，我向人们提到还有其他机制，但迄今为止，这就像是在风车上倾斜。虽然我梦想有一天人们会倾听。

假期！是的，甚至有这样的 PRs，所有者在周五下午的最后几个小时打开并提交所有东西，然后在接下来的一周休息一段时间，不会查看电子邮件。这些人无所事事，人们想知道反馈是否会被查看，或者失败的单元测试是否会被解决。你能做的不多，但是等他们回来，在赶上之后，再回到公关上。

就像一个假期，作者可能会被新的事情或更优先的任务淹没，所以公关平静地坐在评论和问题的队列中，作者决定回去，但没有真正通知任何人。所以它一直在等待。

大部分问题可以通过良好的沟通解决，但有时只是“事情本来就是这样”。

我个人认为我们总是可以做得更好，我有几个领域需要我不断努力，所以我自己也在进步，但我喜欢看到 PRs 快速，简单地完成，并从我的队列中消失。

尤其是当我的经理正在监控那个队列，并且一直想知道为什么那里会有一个队列时。

嘘...它可能在睡觉。