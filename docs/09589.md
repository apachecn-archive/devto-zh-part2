# ä¸ Reactã€Spring Boot å’Œæ°æ™®æ–¯ç‰¹ä¸€èµ·å»ºç«‹ä¸€ä¸ªç…§ç‰‡å›¾åº“ PWA

> åŸæ–‡:[https://dev . to/oktadev/build-a-photo-gallery-pwa-with-react-spring-boot-and-jhipster-5 gon](https://dev.to/oktadev/build-a-photo-gallery-pwa-with-react-spring-boot-and-jhipster-5gon)

ä»æœ¬è´¨ä¸Šè®²ï¼ŒReact åªæ˜¯ä¸€ä¸ª UI å·¥å…·åŒ…ï¼Œala GWTï¼Œä½†å®ƒå‘¨å›´æœ‰ä¸€ä¸ªéå¸¸å¥åº·çš„ç”Ÿæ€ç³»ç»Ÿï¼Œä¸ºæ‚¨æä¾›æ„å»ºä¸€ä¸ªå‡ºè‰²çš„æ¸è¿›å¼ web åº”ç”¨ç¨‹åº(PWA)æ‰€éœ€çš„ä¸€åˆ‡ã€‚pwa å¾ˆé…·ï¼Œå› ä¸ºå¦‚æœåšå¾—å¥½ï¼Œå®ƒä»¬å¯ä»¥ä¸ºä½ çš„ç”¨æˆ·æä¾›ç±»ä¼¼æœ¬æœºçš„ä½“éªŒï¼Œå…è®¸ä»–ä»¬å®‰è£…ä½ çš„åº”ç”¨ç¨‹åºï¼Œå¹¶åœ¨ç¦»çº¿æ—¶ä½¿ç”¨å®ƒã€‚

ä½†æ˜¯ï¼Œâ€œä¸ºä»€ä¹ˆè¦ååº”ï¼Ÿâ€ä½ ç°åœ¨å¯èƒ½ä¼šé—®è‡ªå·±ï¼Œå¯¹å§ï¼Ÿå—¯ï¼Œä½ å¯èƒ½å¬è¯´è¿‡ Angular æ˜¯æƒ³å­¦ä¹  JavaScript çš„ Java å¼€å‘äººå‘˜çš„å…¥é—¨è¯ç‰©ã€‚å¦‚æœæ‚¨æ˜¯ä¸€åäº†è§£ Angular çš„ç»éªŒä¸°å¯Œçš„ Java å¼€å‘äººå‘˜ï¼Œé‚£ä¹ˆæ‚¨å¾ˆå¯èƒ½æ˜¯ä» AngularJS å¼€å§‹çš„ã€‚AngularJS ä¸ Java MVC æ¡†æ¶æœ‰ç±»ä¼¼çš„æ¦‚å¿µï¼Œæ¯”å¦‚æ§åˆ¶å™¨ã€æœåŠ¡å’ŒæŒ‡ä»¤(æˆ‘ç›¸ä¿¡è¿™ä¸ JSP æ ‡ç­¾ IMHO ç±»ä¼¼)ã€‚å¦‚æœæ‚¨ä»ç„¶åœ¨è¿›è¡Œ Angular å¼€å‘ï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å­¦åˆ°äº† TypeScriptã€‚æ‚¨å–œæ¬¢ TypeScript æ˜¯å› ä¸ºå®ƒæœ‰åƒ Java è¿™æ ·çš„ç±»å‹ï¼Œè€Œä¸”å®ƒä¹Ÿæ˜¯ä¸€ç§éå¸¸å¥½çš„è¯­è¨€ï¼

æˆ‘æ•¢æ‰“èµŒï¼Œå¦‚æœä½ å·²ç»çŸ¥é“ Angularï¼Œä½ å¯èƒ½æƒ³äº†è§£ä¸€ä¸‹å®ƒçš„ä¸»è¦ç«äº‰å¯¹æ‰‹ Reactã€‚ç¼–å†™ web åº”ç”¨ç¨‹åºæ€»ä¼šæœ‰å‡ ç§æ–¹æ³•ï¼ŒReact æä¾›äº†ä¸€ç§å®Œå…¨ä¸åŒçš„æ–¹æ³•ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ TypeScriptï¼

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•æ„å»ºä¸€ä¸ªå®‰å…¨çš„ PWA æ¥ä¸Šä¼ å’Œå¤„ç†å›¾åƒï¼Œåœ¨ç±»ä¼¼ Flickr çš„ç½‘æ ¼ä¸­æ˜¾ç¤ºå›¾åƒï¼Œå¹¶ä½¿ç”¨ Spring Boot ä½œä¸ºåç«¯ã€‚

## [](#get-started-with-react-and-spring-boot)å’Œ Spring Boot ä¸€èµ·ä¸Šæ‰‹ååº”è¿‡æ¥

å¼€å§‹ä½¿ç”¨ React æœ€ç®€å•çš„æ–¹æ³•ä¹‹ä¸€æ˜¯ä½¿ç”¨ [Create React App](https://github.com/facebookincubator/create-react-app) (CRA)ã€‚æ‚¨åœ¨æœ¬åœ°å®‰è£…å®ƒï¼Œç„¶åè¿è¡Œ`create-react-app $projectName`æ¥ç”Ÿæˆä¸€ä¸ªå…·æœ‰æœ€å°ä¾èµ–æ€§çš„ React åº”ç”¨ç¨‹åºæ¡†æ¶ã€‚å®ƒä½¿ç”¨ webpack æ¥æ„å»ºé¡¹ç›®ï¼Œå¯åŠ¨ web æœåŠ¡å™¨ï¼Œå¹¶è¿è¡Œå®ƒçš„æµ‹è¯•ã€‚

Spring Boot æœ‰ä¸€ä¸ªç±»ä¼¼çš„å·¥å…·ï¼Œå«åš [Spring Initializr](https://start.spring.io) ã€‚Spring Initializer å’Œ CRA æœ‰ç‚¹ä¸åŒï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªä½ ç”¨æ¥åˆ›å»ºåº”ç”¨ç¨‹åºçš„ç½‘ç«™(å’Œ API)ã€‚

è¿™ä¸¤ä¸ªå·¥å…·éƒ½å€¼å¾—ç ”ç©¶ï¼Œä½ å¯ä»¥é€šè¿‡é˜…è¯»æˆ‘çš„[boot iful Development with Spring Boot å’Œ React](/blog/2017/12/06/bootiful-development-with-spring-boot-and-react) æ•™ç¨‹æ¥å­¦ä¹ å¦‚ä½•ç”¨å®ƒä»¬åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„åº”ç”¨ç¨‹åºã€‚

ä»Šå¤©ï¼Œæˆ‘å°†å‘ä½ å±•ç¤ºå¦‚ä½•ç”¨ React å’Œ Spring Boot ä¸ºç…§ç‰‡æ„å»ºä¸€ä¸ª CRUD åº”ç”¨ç¨‹åºã€‚ä½†æ˜¯ï¼Œæˆ‘è¦ä½œå¼Šã€‚æˆ‘å°†ä½¿ç”¨ [JHipster](https://www.jhipster.tech) ï¼Œè€Œä¸æ˜¯ä»å¤´å¼€å§‹æ„å»ºä¸€åˆ‡ã€‚JHipster æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºç”Ÿæˆå™¨ï¼Œæœ€åˆåªæ”¯æŒè§’åº¦å’Œ Spring Bootã€‚åœ¨å…¶ 5.0 ç‰ˆæœ¬ä¸­ï¼Œå®ƒå¢åŠ äº†å¯¹ Reactã€webpack 4 å’Œ Spring Boot 2 çš„æ”¯æŒã€‚

JHipster é™„å¸¦äº†è®¸å¤šæ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½éœ€è¦çš„ç‰¹æ€§ï¼ŒåŒ…æ‹¬èº«ä»½éªŒè¯/æˆæƒã€å•å…ƒå’Œç«¯åˆ°ç«¯æµ‹è¯•æ”¯æŒï¼Œä»¥åŠä¾¿äºéƒ¨ç½²åˆ°äº‘çš„å·¥å…·ã€‚

## JHipster 5 å…¥é—¨

è¦å¼€å§‹ä½¿ç”¨ JHipsterï¼Œæ‚¨éœ€è¦æœ‰ä¸€ä¸ªäº’è”ç½‘è¿æ¥å¹¶å®‰è£…äº† [Node.js](https://nodejs.org/) ã€‚è¯¥é¡¹ç›®å»ºè®®æ‚¨ä½¿ç”¨æœ€æ–°çš„ LTS(é•¿æœŸæ”¯æŒ)ç‰ˆæœ¬ï¼Œåœ¨æ’°å†™æœ¬æ–‡æ—¶æ˜¯ 8.3.11ã€‚ä½ å¯ä»¥ä½¿ç”¨ npmï¼Œä½†æ˜¯ JHipster ä¼šä½¿ç”¨ [Yarn](https://yarnpkg.org/) å¦‚æœä½ å·²ç»å®‰è£…äº†çš„è¯ã€‚è¦è¿è¡Œè¿™ä¸ªåº”ç”¨ç¨‹åºï¼Œä½ éœ€è¦å®‰è£… [Java 8](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html) ã€‚å¦‚æœæ‚¨å®‰è£…äº† Gitï¼ŒJHipster å°†åœ¨åˆ›å»ºé¡¹ç›®åè‡ªåŠ¨æäº¤é¡¹ç›®ï¼Œå¹¶å…è®¸æ‚¨åœ¨ä¸åŒç‰ˆæœ¬ä¹‹é—´å‡çº§ã€‚

è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… JHipster:

```
npm i -g generator-jhipster@5.0.1 
```

è¦ä½¿ç”¨ JHipster åˆ›å»ºç…§ç‰‡åº“åº”ç”¨ç¨‹åºï¼Œåˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸­è¿è¡Œ`jhipster`ã€‚

```
mkdir gallery
cd gallery
jhipster 
```

JHipster è¯¢é—®äº†è®¸å¤šå…³äºæ‚¨æƒ³è¦åˆ›å»ºçš„åº”ç”¨ç¨‹åºç±»å‹ä»¥åŠæ‚¨æƒ³è¦åŒ…å«å“ªäº›æŠ€æœ¯çš„é—®é¢˜ã€‚ä¸‹è¡¨æ˜¾ç¤ºäº†æ‚¨æƒ³è¦åšå‡ºçš„é€‰æ‹©:

| é—®é¢˜ | å›ç­” |
| --- | --- |
| ç”³è¯·ç±»å‹ï¼Ÿ | `Monolithic application` |
| åå­—ï¼Ÿ | `gallery` |
| Java åŒ…åï¼Ÿ | `com.okta.developer` |
| ä½¿ç”¨ JHipster æ³¨å†Œè¡¨ï¼Ÿ | `No` |
| è®¤è¯ç±»å‹ï¼Ÿ | `OAuth 2.0 / OIDC` |
| æ•°æ®åº“çš„ç±»å‹ï¼Ÿ | `SQL` |
| ç”Ÿäº§æ•°æ®åº“ï¼Ÿ | `PostgreSQL` |
| å¼€å‘æ•°æ®åº“ï¼Ÿ | `H2 with disk-based persistence` |
| ä½¿ç”¨ Spring cacheï¼Ÿ | `Yes, with Ehcache` |
| ä½¿ç”¨ä¼‘çœ äºŒçº§ç¼“å­˜ï¼Ÿ | `Yes` |
| è…¹éƒ¨è¿˜æ˜¯é˜´é“ï¼Ÿ | `Maven` |
| å…¶ä»–æŠ€æœ¯ï¼Ÿ | `<blank>` |
| å®¢æˆ·ç«¯æ¡†æ¶ï¼Ÿ | `React` |
| å¯ç”¨ SASS æ”¯æŒï¼Ÿ | `No` |
| å¯ç”¨ i18nï¼Ÿ | `Yes` |
| åº”ç”¨ç¨‹åºçš„æ¯è¯­ï¼Ÿ | `English` |
| å…¶ä»–è¯­è¨€ï¼Ÿ | `French` |
| é¢å¤–çš„æµ‹è¯•æ¡†æ¶ï¼Ÿ | `Protractor` |
| å®‰è£…å…¶ä»–å‘ç”µæœºï¼Ÿ | `No` |

å›ç­”å®Œæ‰€æœ‰è¿™äº›é—®é¢˜åï¼ŒJHipster å°†åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºå¤§é‡æ–‡ä»¶ï¼Œå¹¶è¿è¡Œ`yarn`(æˆ–`npm install`)æ¥å®‰è£…`package.json`ä¸­æŒ‡å®šçš„æ‰€æœ‰ä¾èµ–é¡¹ã€‚

### [](#verify-everything-works-with-protractor-and-keycloak)ç”¨é‡è§’å™¨å’Œé’¥åŒ™é”éªŒè¯ä¸€åˆ‡æ­£å¸¸

å½“æ‚¨é€‰æ‹© OAuth 2.0 å’Œ OIDC è¿›è¡Œèº«ä»½éªŒè¯æ—¶ï¼Œç”¨æˆ·å­˜å‚¨åœ¨åº”ç”¨ç¨‹åºä¹‹å¤–ï¼Œè€Œä¸æ˜¯å­˜å‚¨åœ¨åº”ç”¨ç¨‹åºä¸­ã€‚è¿™æ„å‘³ç€ä½ éœ€è¦ä¸€ä¸ªèº«ä»½æä¾›å•†(IdP)æ¥å­˜å‚¨ä½ çš„ç”¨æˆ·ï¼Œå¹¶å…è®¸ä½ çš„åº”ç”¨ç¨‹åºæ£€ç´¢å…³äºä»–ä»¬çš„ä¿¡æ¯ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒJHipster é™„å¸¦äº†ä¸€ä¸ªç”¨äº Docker ç¼–å†™çš„ [Keycloak](https://keycloak.org) æ–‡ä»¶ã€‚å¯åŠ¨æ—¶ä¼šå¯¼å…¥ä¸€ç»„é»˜è®¤çš„ç”¨æˆ·å’Œç»„ï¼Œå¹¶ä¸”å®ƒæœ‰ä¸€ä¸ªä¸ºæ‚¨çš„ JHipster åº”ç”¨ç¨‹åºæ³¨å†Œçš„å®¢æˆ·ç«¯ã€‚

ä¸‹é¢æ˜¯åº”ç”¨ç¨‹åºçš„`src/main/docker`ç›®å½•ä¸­çš„`keycloak.yml`çš„æ ·å­:

```
version: '2'
services:
  keycloak:
    image: jboss/keycloak:4.0.0.Final
    command: ["-b", "0.0.0.0", "-Dkeycloak.migration.action=import", "-Dkeycloak.migration.provider=dir", "-Dkeycloak.migration.dir=/opt/jboss/keycloak/realm-config", "-Dkeycloak.migration.strategy=OVERWRITE_EXISTING", "-Djboss.socket.binding.port-offset=1000"]
    volumes:
      - ./realm-config:/opt/jboss/keycloak/realm-config
    environment:
      - KEYCLOAK_USER=admin
      - KEYCLOAK_PASSWORD=admin
    ports:
      - 9080:9080
      - 9443:9443
      - 10990:10990 
```

è¦å¯åŠ¨ Keycloakï¼Œä½ éœ€è¦[å®‰è£… Docker Compose](https://docs.docker.com/compose/install/) ã€‚ç„¶ååœ¨ç»ˆç«¯çª—å£ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤:

```
docker-compose -f src/main/docker/keycloak.yml up 
```

æ‚¨å¯ä»¥é€šè¿‡åœ¨ä¸€ä¸ªç»ˆç«¯ä¸­ä½¿ç”¨ Maven å¯åŠ¨åº”ç”¨ç¨‹åºæ¥éªŒè¯ä¸€åˆ‡æ˜¯å¦æ­£å¸¸:

```
./mvnw 
```

ç„¶ååœ¨å¦ä¸€ä¸ªç»ˆç«¯ä¸­è¿è¡Œæ‰€æœ‰é‡è§’å™¨æµ‹è¯•:

```
yarn e2e 
```

å¦‚æœæ‚¨çš„ç¯å¢ƒè®¾ç½®æ­£ç¡®ï¼Œæ‚¨å°†çœ‹åˆ°å¦‚ä¸‹è¾“å‡º:

```
yarn run v1.7.0
$ protractor src/test/javascript/protractor.conf.js
(node:97048) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.
[15:36:33] W/configParser - pattern ./e2e/entities/**/*.spec.ts did not match any files.
[15:36:33] I/launcher - Running 1 instances of WebDriver
[15:36:33] I/direct - Using ChromeDriver directly...

  Account
    âœ“ should fail to login with bad password
    âœ“ should login with admin account (2720ms)

  Administration
    âœ“ should load metrics
    âœ“ should load health
    âœ“ should load configuration
    âœ“ should load audits
    âœ“ should load logs

  7 passing (10s)

[15:36:45] I/launcher - 0 instance(s) of WebDriver still running
[15:36:45] I/launcher - chrome #01 passed
âœ¨ Done in 13.67s. 
```

### [](#enable-user-registration-for-your-react-spring-boot-app-in-keycloak)åœ¨ Keycloak ä¸­ä¸ºæ‚¨çš„ React + Spring Boot åº”ç”¨å¯ç”¨ç”¨æˆ·æ³¨å†Œ

åœ¨ JHipster ä¸­ä½¿ç”¨ OIDC è®¤è¯æ—¶ï¼Œä¼¼ä¹ç¼ºå°‘çš„ä¸€ä¸ªç‰¹æ€§æ˜¯ç”¨æˆ·æ³¨å†Œã€‚å¦‚æœä½ ä½¿ç”¨ä¼šè¯æˆ– JWT è®¤è¯ï¼Œä¸»é¡µä¸Šæœ‰ä¸€ä¸ªæ³¨å†Œé“¾æ¥ã€‚å¯¹äº OIDCï¼Œæ‚¨éœ€è¦åœ¨æ‚¨çš„ IdP ä¸­å¯ç”¨å®ƒã€‚å¯¹äº Keycloakï¼Œä½ å¯ä»¥é€šè¿‡å¯¼èˆªåˆ°`http://localhost:9080`å¹¶ç‚¹å‡»**ç®¡ç†æ§åˆ¶å°**æ¥å®Œæˆã€‚ç”¨`admin/admin`ç™»å½•ï¼Œç‚¹å‡»**ç™»å½•**æ ‡ç­¾ã€‚æ­¤å±å¹•å…è®¸æ‚¨å¯ç”¨å¿˜è®°å¯†ç ã€è®°ä½æˆ‘ï¼Œä»¥åŠé€šè¿‡ç”µå­é‚®ä»¶è¿›è¡ŒéªŒè¯ã€‚

[![Keycloak User Registration](../Images/53b0b256d9426f043dbbcf0c7c865fd4.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--glgrqOBM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets-jekyll/blog/react-photo-gallery-pwa/keycloak-registration-c598822c1db8884cf1d35a170fc1a4e1f196fbb26225b3b4df57da126a1b6f8c.png)

å¯ç”¨æ­¤è®¾ç½®åï¼Œæ‚¨å°†åœ¨ Keycloak çš„ç™»å½•è¡¨å•ä¸Šçœ‹åˆ°ä¸€ä¸ª**æ³¨å†Œ**é“¾æ¥ã€‚

[![Keycloak Login Form with Register link](../Images/4d11db7c67ea93e0d076627604a0fb08.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--1bHAdIxx--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets-jekyll/blog/react-photo-gallery-pwa/keycloak-login-with-registration-13938c9fc2f2ce64cd6407e27c13154d542d4490b250682015220eb81a39662d.png)

æ‚¨éœ€è¦åœ¨ Keycloak ä¸­ä¸ºæ–°ç”¨æˆ·é…ç½®ä¸€ä¸ªé»˜è®¤è§’è‰²ã€‚å¯¼èˆªåˆ°**è§’è‰²**å¹¶ç‚¹å‡»**é»˜è®¤è§’è‰²**é€‰é¡¹å¡ã€‚é€‰æ‹©`ROLE_USER`å¹¶ç‚¹å‡»**æ·»åŠ é€‰ä¸­çš„**ã€‚è¦é…ç½®é»˜è®¤ç»„ï¼Œè¯·è½¬åˆ°**ç»„** > **é»˜è®¤ç»„**ã€‚ç‚¹å‡»`Users`å’Œ**æ·»åŠ **ã€‚æ·»åŠ é»˜è®¤ç»„æ˜¯å¿…è¦çš„ï¼Œå› ä¸º JHipster å¸Œæœ›ç”¨æˆ·æ‹¥æœ‰ä¸€ä¸ª`ROLE_USER`æˆ–`ROLE_ADMIN`ç»„(æˆ–è§’è‰²)ä½œä¸ºä»–ä»¬çš„ ID ä»¤ç‰Œå£°æ˜çš„ä¸€éƒ¨åˆ†ã€‚

### [](#saving-user-data-for-jpa-relationships)ä¿å­˜ JPA å…³ç³»çš„ç”¨æˆ·æ•°æ®

æˆ‘ç»™ JHipster æ·»åŠ çš„ä¸€ä¸ªåŠŸèƒ½æ˜¯æˆ‘å–œæ¬¢ç§°ä¹‹ä¸º*ä¿å­˜ç”¨æˆ·å¿«ç…§*ã€‚å½“ä½¿ç”¨ JPA æ—¶ï¼Œèƒ½å¤Ÿä¸ JHipster çš„`User`å®ä½“å»ºç«‹å…³ç³»æ˜¯å¾ˆå¥½çš„ã€‚è¿™å…è®¸ä½ è¯´â€œè¿™ä¸ªç”¨æˆ·æ‹¥æœ‰è¿™ä¸ªç›¸å†Œâ€ä¹‹ç±»çš„è¯ï¼Œå¹¶æ ¹æ®è¿™äº›ä¿¡æ¯é™åˆ¶è®¿é—®ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤åŠŸèƒ½å¤„äºæ‰“å¼€çŠ¶æ€ï¼Œå·¥ä½œæ–¹å¼å¦‚ä¸‹:

1.  ç™»å½•åï¼Œå‘`/api/account`å‘å‡ºè¯·æ±‚ã€‚
2.  `AccountResource.java`ä¸­çš„`getAccount()`æ–¹æ³•è¢«æ˜ å°„åˆ°è¿™ä¸ªç«¯ç‚¹ï¼Œå®ƒäº¤ç»™`UserService#getUserFromAuthentication()`æ¥æå–ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ã€‚
3.  `getUserFromAuthentication()`æ–¹æ³•ä» Spring Security ä¸­æå–ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ï¼Œå°† ID ä»¤ç‰Œä¸­çš„ç»„/è§’è‰²æ˜ å°„åˆ°æƒé™ï¼Œå¹¶åœ¨æ•°æ®åº“ä¸­æ·»åŠ /æ›´æ–°ç”¨æˆ·ã€‚

æ­¤åŠŸèƒ½å…è®¸æ‚¨åˆ›å»ºä¸`User`å®ä½“çš„å…³ç³»ã€‚å”¯ä¸€çš„ç¼ºç‚¹æ˜¯ï¼Œå½“ä½ æœ‰ä¸€ä¸ªç”¨æˆ·å…³ç³»çš„å®ä½“ï¼Œç”¨æˆ·ä¸‹æ‹‰åˆ—è¡¨å°†åªåŒ…å«ç™»å½•åˆ°ä½ çš„åº”ç”¨ç¨‹åºçš„ç”¨æˆ·ã€‚

## [](#change-your-identity-provider-to-okta)å°†æ‚¨çš„èº«ä»½æä¾›å•†æ›´æ”¹ä¸º Okta

JHipster åˆ©ç”¨ Spring Security çš„ OAuth 2.0 æ”¯æŒæ¥é…ç½®åº”è¯¥ä»å“ªä¸ª IdP è·å–ç”¨æˆ·ä¿¡æ¯ã€‚åœ¨ Spring Boot ä¸­ä½¿ç”¨ Spring Security æ—¶ï¼Œæ‚¨å¯ä»¥åœ¨å±æ€§æ–‡ä»¶ä¸­é…ç½®å¤§å¤šæ•°é…ç½®è®¾ç½®ã€‚æ‚¨ç”šè‡³å¯ä»¥ç”¨ç¯å¢ƒå˜é‡è¦†ç›–å±æ€§ã€‚

è¦ä» Keycloak åˆ‡æ¢åˆ° Okta(æˆ–ä»»ä½•å…¶ä»– IdP)ï¼Œæ‚¨å¯ä»¥è¦†ç›–é»˜è®¤å±æ€§(å¯¹äº Spring Security OAuth)ã€‚

> **ä¸ºä»€ä¹ˆæ˜¯ Okta è€Œä¸æ˜¯ Keycloakï¼Ÿ**
> 
> Keycloak åœ¨å¼€å‘ä¸­å·¥ä½œå¾—å¾ˆå¥½ï¼ŒOkta æœ‰å…è´¹çš„å¤šå› ç´ èº«ä»½éªŒè¯ã€ç”µå­é‚®ä»¶æ”¯æŒå’Œç”¨äºç”Ÿäº§çš„å‡ºè‰²æ€§èƒ½ã€‚ä½ å¯ä»¥åœ¨[developer.okta.com/pricing](https://developer.okta.com/pricing/)çœ‹åˆ°å…¶ä»–å…è´¹åŠŸèƒ½å’Œæˆ‘ä»¬çš„é€æ˜å®šä»·ã€‚

è¦äº†è§£å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œåˆ›å»ºä¸€ä¸ªå…·æœ‰ä»¥ä¸‹å±æ€§çš„`~/.okta.env`æ–‡ä»¶:

```
export SECURITY_OAUTH2_CLIENT_ACCESS_TOKEN_URI="https://{yourOktaDomain}/oauth2/default/v1/token"
export SECURITY_OAUTH2_CLIENT_USER_AUTHORIZATION_URI="https://{yourOktaDomain}/oauth2/default/v1/authorize"
export SECURITY_OAUTH2_RESOURCE_USER_INFO_URI="https://{yourOktaDomain}/oauth2/default/v1/userinfo"
export SECURITY_OAUTH2_CLIENT_CLIENT_ID="{clientId}"
export SECURITY_OAUTH2_CLIENT_CLIENT_SECRET="{clientSecret}" 
```

æ‚¨éœ€è¦åœ¨ Okta ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ OIDC å®¢æˆ·ç«¯ï¼Œå¹¶å¡«å……å˜é‡ã€‚å®Œæˆåï¼Œæ‚¨å¯ä»¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥è®¾ç½®è¿™äº›ç¯å¢ƒå˜é‡ã€‚

```
source ~/.okta.env 
```

é‡å¯ä½ çš„åº”ç”¨ç¨‹åºï¼Œç§ï¼Œä½ ç°åœ¨æ­£åœ¨ä½¿ç”¨ Oktaï¼

å¦‚æœä½ ä¸çŸ¥é“å¦‚ä½•åœ¨ Okta ä¸Šè®¾ç½® OIDC åº”ç”¨ç¨‹åºï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå¿«é€Ÿæ€»ç»“ã€‚

### [](#set-up-an-oidc-app-on-okta)åœ¨ Okta ä¸Šè®¾ç½®ä¸€ä¸ª OIDC App

[ç™»å½•](https://login.okta.com/?SAMLRequest=fc%2B7CsJAEAXQXvAflu1NNJUMeZBGELTx1a%2FrYILJTtyZGD%2FfSBRiYzlw77lMnD3rSj3Qc0ku0YtgrhU6S5fSXRN9PKxmS52l00nMpq6iBvJWCrfDe4ss6vStRe9aDzmGIZfo1jsgwyWDMzUyiIV9vt1AH4XGk5ClSvewUgMNa%2BYW%2FVj5jxhm9NLP67QQaSAMu64L6CYmsFSHlnzT4ZlLwTgcL6Sf8%2FeX9AU%3Dhttps://login.okta.com/?SAMLRequest=fc%2B7CsJAEAXQXvAflu1NNJUMeZBGELTx1a%2FrYILJTtyZGD%2FfSBRiYzlw77lMnD3rSj3Qc0ku0YtgrhU6S5fSXRN9PKxmS52l00nMpq6iBvJWCrfDe4ss6vStRe9aDzmGIZfo1jsgwyWDMzUyiIV9vt1AH4XGk5ClSvewUgMNa%2BYW%2FVj5jxhm9NLP67QQaSAMu64L6CYmsFSHlnzT4ZlLwTgcL6Sf8%2FeX9AU%3D)åˆ°ä½ çš„ Okta å¼€å‘è€…è´¦æˆ·(æˆ–è€…[æ³¨å†Œ](https://developer.okta.com/signup/)ï¼Œå¦‚æœä½ æ²¡æœ‰è´¦æˆ·ï¼Œç„¶åå¯¼èˆªåˆ°**åº”ç”¨** > **æ·»åŠ åº”ç”¨**ã€‚ç‚¹å‡»**ç½‘é¡µ**å¹¶ç‚¹å‡»**ä¸‹ä¸€ä¸ª**ã€‚ç»™è¿™ä¸ªåº”ç”¨å–ä¸€ä¸ªä½ å®¹æ˜“è®°ä½çš„åå­—ï¼Œå¹¶å°†`http://localhost:8080/login`æŒ‡å®šä¸ºç™»å½•é‡å®šå‘ URIã€‚ç‚¹å‡»**å®Œæˆ**å¹¶è®°ä¸‹å®¢æˆ·ç«¯ ID å’Œå¯†ç ã€‚ä½ éœ€è¦é©¬ä¸Šå°†å®ƒä»¬å¤åˆ¶/ç²˜è´´åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚

åˆ›å»ºä¸€ä¸ª`ROLE_ADMIN`å’Œ`ROLE_USER`ç»„(**ç”¨æˆ·** > **ç»„** > **æ·»åŠ ç»„**)å¹¶å‘å…¶ä¸­æ·»åŠ ç”¨æˆ·ã€‚æˆ‘å»ºè®®å°†æ‚¨æ³¨å†Œçš„å¸æˆ·æ·»åŠ åˆ°`ROLE_ADMIN`ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·(**ç”¨æˆ·** > **æ·»åŠ äººå‘˜**)æ·»åŠ åˆ°`ROLE_USER`ã€‚

å¯¼èˆªåˆ° **API** > **æˆæƒæœåŠ¡å™¨**ï¼Œç‚¹å‡»åä¸º**é»˜è®¤**çš„æˆæƒæœåŠ¡å™¨è¿›è¡Œç¼–è¾‘ã€‚ç‚¹å‡»**ç´¢èµ”**æ ‡ç­¾å’Œ**æ·»åŠ ç´¢èµ”**ã€‚å°†å…¶å‘½åä¸ºâ€œrolesâ€ï¼Œå¹¶å°†å…¶åŒ…å«åœ¨ ID æ ‡è®°ä¸­ã€‚å°†å€¼ç±»å‹è®¾ç½®ä¸ºâ€œGroupsâ€ï¼Œå¹¶å°†è¿‡æ»¤å™¨è®¾ç½®ä¸º`.*`çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ç‚¹å‡»**åˆ›å»º**å®Œæˆè¯¥è¿‡ç¨‹ã€‚

### [](#what-is-okta)ä»€ä¹ˆæ˜¯ Oktaï¼Ÿ

ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬ä½¿[èº«ä»½ç®¡ç†](https://developer.okta.com/product/user-management/)æ¯”æ‚¨å¯èƒ½ä¹ æƒ¯çš„æ›´å®¹æ˜“ã€æ›´å®‰å…¨ã€æ›´å¯æ‰©å±•ã€‚Okta æ˜¯ä¸€ç§äº‘æœåŠ¡ï¼Œå…è®¸å¼€å‘äººå‘˜åˆ›å»ºã€ç¼–è¾‘å’Œå®‰å…¨å­˜å‚¨ç”¨æˆ·å¸æˆ·å’Œç”¨æˆ·å¸æˆ·æ•°æ®ï¼Œå¹¶å°†å®ƒä»¬ä¸ä¸€ä¸ªæˆ–å¤šä¸ªåº”ç”¨ç¨‹åºè¿æ¥ã€‚æˆ‘ä»¬çš„ API ä½¿æ‚¨èƒ½å¤Ÿ:

*   [è®¤è¯](https://developer.okta.com/product/authentication/)å’Œ[æˆæƒ](https://developer.okta.com/product/authorization/)æ‚¨çš„ç”¨æˆ·
*   å­˜å‚¨ç”¨æˆ·æ•°æ®
*   æ‰§è¡ŒåŸºäºå¯†ç çš„[ç¤¾äº¤ç™»å½•](https://developer.okta.com/authentication-guide/social-login/)
*   é€šè¿‡[å¤šé‡èº«ä»½éªŒè¯](https://developer.okta.com/use_cases/mfa/)ä¿æŠ¤æ‚¨çš„åº”ç”¨
*   è¿˜æœ‰æ›´å¤šï¼æŸ¥çœ‹æˆ‘ä»¬çš„[äº§å“æ–‡æ¡£](https://developer.okta.com/documentation/)

æƒ³è¦ä¸€ä¸ªæœˆä¸€åƒç”¨æˆ·å…è´¹ï¼Ÿ[æ³¨å†Œä¸€ä¸ªå…è´¹çš„å¼€å‘è€…è´¦æˆ·](https://developer.okta.com/signup/)ï¼Œå½“ä½ å®Œæˆåï¼Œè¯·å›æ¥ï¼Œè¿™æ ·ä½ å°±å¯ä»¥äº†è§£æ›´å¤šå…³äºä½¿ç”¨ Spring Boot 2.0 å’Œ JHipster æ„å»º React PWA çš„ä¿¡æ¯ï¼

### [](#enable-selfservice-registration-in-okta)å¯ç”¨ Okta è‡ªåŠ©æ³¨å†Œ

è¦åœ¨ Okta ä¸­å¯ç”¨è‡ªåŠ©æ³¨å†Œï¼Œæ‚¨éœ€è¦ä» Okta å¼€å‘äººå‘˜ä»ªè¡¨æ¿å¯¼èˆªåˆ° Classic UIã€‚åœ¨å±å¹•çš„å·¦ä¸Šè§’æœ‰ä¸€ä¸ªé“¾æ¥å¯ä»¥åœ¨ä¸¤è€…ä¹‹é—´åˆ‡æ¢ã€‚

[![Classic UI Toggle](../Images/951e7322680be237448bc0554504d8fe.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--89txnJGb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets-jekyll/blog/react-photo-gallery-pwa/classic-ui-toggle-f4b4c2108b4d7878d0a04aba8e5ec83b888ebb63e33b97f9cc5b83df847a7915.png)

ç„¶åå¯¼èˆªåˆ°**ç›®å½•** > **è‡ªåŠ©æ³¨å†Œ**ï¼Œç‚¹å‡»**å¯ç”¨æ³¨å†Œ**ã€‚å°†é»˜è®¤ç»„è®¾ç½®ä¸º`ROLE_USER`ï¼Œ**é»˜è®¤é‡å®šå‘**åˆ°ä¸€ä¸ªè‡ªå®šä¹‰ URLï¼Œå…¶å€¼ä¸º`http://localhost:8080`ï¼Œç‚¹å‡»**ä¿å­˜**ã€‚

**æ³¨æ„:**å¦‚æœä½ å¾—åˆ°ä¸€ä¸ªæ˜¾ç¤º`'http://localhost:8080' is not a valid redirect URI`çš„é”™è¯¯ï¼Œé‚£æ˜¯å› ä¸ºä½ éœ€è¦åœ¨**å®‰å…¨** > **API** > **å¯ä¿¡èµ·æº**ä¸‹æ·»åŠ `http://localhost:8080`ä½œä¸ºå¯ä¿¡é‡å®šå‘ã€‚è¿›è¡Œæ­¤æ›´æ”¹åï¼Œå¯¼èˆªè‡³**ç›®å½•** > **è‡ªåŠ©æ³¨å†Œ**å¹¶ç¼–è¾‘è®¾ç½®ä»¥å†æ¬¡é…ç½®è‡ªå®šä¹‰ URLã€‚è¿™æ¬¡åº”è¯¥èƒ½æˆåŠŸã€‚

[![Okta Self-Service Registration Settings](../Images/5bc91de0dfb4a2bb8eb1c03d058a1c3d.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--21jTX_Qz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets-jekyll/blog/react-photo-gallery-pwa/registration-settings-055bb514524fd134b99f0ca3aa95496204e9149b531b7df127a8c787e837c8b8.png)

**æç¤º:**åœ¨ä½ éƒ¨ç½²å¥½ä½ çš„åº”ç”¨ç¨‹åºåï¼Œä½ éœ€è¦å°†**é»˜è®¤é‡å®šå‘**æ”¹ä¸ºä½ çš„ç”Ÿäº§ URLã€‚

### [](#okta-customization-options)Okta å®šåˆ¶é€‰é¡¹

é™¤äº†å…è®¸è‡ªæˆ‘æ³¨å†Œä¹‹å¤–ï¼ŒOkta è¿˜å…è®¸æ‚¨å®šåˆ¶å…¶ç™»å½•å±å¹•çš„å¤–è§‚å’Œæ„Ÿè§‰ï¼Œä»¥åŠä½¿ç”¨å®šåˆ¶çš„åŸŸå’Œç”µå­é‚®ä»¶ã€‚ä½ å¯ä»¥åœ¨æˆ‘ä»¬çš„[ç™»å½•å°å·¥å…·æŒ‡å—](https://developer.okta.com/code/javascript/okta_sign-in_widget)ä¸­äº†è§£æ›´å¤šä¿¡æ¯ã€‚

ä½ ä¹Ÿå¯ä»¥å°è¯•ä½¿ç”¨æˆ‘ä»¬çš„ä¾¿æ·çš„ [live widget](https://developer.okta.com/live-widget/) é¡µé¢å®æ—¶å®šåˆ¶ widgetã€‚

## [](#create-entities-to-allow-crud-on-your-photo-gallery)åˆ›å»ºå®ä½“ä»¥å…è®¸æ‚¨çš„ç…§ç‰‡åº“ä¸­å‡ºç° CRUD

æˆ‘å·²ç»èŠ±äº†å¾ˆå¤šæ—¶é—´è®¨è®ºå¦‚ä½•ä¿æŠ¤æ‚¨çš„åº”ç”¨ç¨‹åºï¼Œç°åœ¨è®©æˆ‘ä»¬å®é™…æ„å»ºå®ƒå§ï¼JHipster æœ‰ä¸€ä¸ª JDL (JHipster é¢†åŸŸè¯­è¨€)ç‰¹æ€§ï¼Œå…è®¸ä½ åœ¨åº”ç”¨ä¸­å»ºæ¨¡æ•°æ®ï¼Œå¹¶ä»ä¸­ç”Ÿæˆå®ä½“ã€‚ä½ å¯ä»¥ä½¿ç”¨å®ƒçš„ [JDL å·¥ä½œå®¤](https://start.jhipster.tech/jdl-studio/)åŠŸèƒ½åœ¨çº¿å®Œæˆè¿™é¡¹å·¥ä½œï¼Œå¹¶åœ¨å®Œæˆåä¿å­˜åœ¨æœ¬åœ°ã€‚

æˆ‘ä¸ºè¿™ä¸ªåº”ç”¨ç¨‹åºåˆ›å»ºäº†ä¸€ä¸ªæ•°æ®æ¨¡å‹ï¼Œå®ƒæœ‰ä¸€ä¸ª`Album`ã€`Photo`å’Œ`Tag`å®ä½“ï¼Œå¹¶åœ¨å®ƒä»¬ä¹‹é—´å»ºç«‹äº†å…³ç³»ã€‚ä¸‹é¢æ˜¯ JDL å·¥ä½œå®¤çš„æˆªå›¾ã€‚

[![Photo Gallery JDL in JDL Studio](../Images/5f2e3185513c379bb865117446773fac.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Ub3R-ffH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets-jekyll/blog/react-photo-gallery-pwa/photo-gallery-jdl-studio-5027bab7a49e1cb39a6a9bd43634e3dc814748e7d204cbbaa6879f4962d53c8d.png)

ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œæ‚¨å¯ä»¥å¤åˆ¶ä¸‹é¢çš„ JDLï¼Œå¹¶å°†å…¶ä¿å­˜åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ä¸€ä¸ª`gallery.jh`æ–‡ä»¶ä¸­ã€‚

```
entity Album {
    title String required,
    description TextBlob,
    created Instant
}

entity Photo {
    title String required,
    description TextBlob,
    image ImageBlob required,
    height Integer,
    width Integer,
    taken Instant,
    uploaded Instant
}

entity Tag {
    name String required minlength(2)
}

relationship ManyToOne {
    Album{user(login)} to User,
    Photo{album(title)} to Album
}

relationship ManyToMany {
    Photo{tag(name)} to Tag{photo}
}

paginate Album with pagination
paginate Photo, Tag with infinite-scroll 
```

ä½ å¯ä»¥ç”Ÿæˆå®ä½“å’Œ CRUD ä»£ç (Java for Spring Bootï¼›React çš„ç±»å‹è„šæœ¬å’Œ JSX)ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤:

```
jhipster import-jdl gallery.jh 
```

å‡ºç°æç¤ºæ—¶ï¼Œé”®å…¥`a`ä»¥å…è®¸è¦†ç›–ç°æœ‰æ–‡ä»¶ã€‚

è¿™ä¸ªè¿‡ç¨‹å°†åˆ›å»º [Liquibase](https://www.liquibase.org/) changelog æ–‡ä»¶(åˆ›å»ºæ•°æ®åº“è¡¨)ã€å®ä½“ã€å­˜å‚¨åº“ã€Spring MVC æ§åˆ¶å™¨ä»¥åŠåˆ›å»ºã€è¯»å–ã€æ›´æ–°å’Œåˆ é™¤æ•°æ®å¯¹è±¡æ‰€éœ€çš„æ‰€æœ‰ React ä»£ç ã€‚å®ƒç”šè‡³å¯ä»¥ç”Ÿæˆ Jest å•å…ƒæµ‹è¯•å’Œé‡è§’å™¨ç«¯åˆ°ç«¯æµ‹è¯•ï¼

åœ¨è¿™ä¸ªè¿‡ç¨‹å®Œæˆåï¼Œä½ å¯ä»¥é‡å¯ä½ çš„åº”ç”¨ç¨‹åº(Ctrl+C è¿™ä¸ª`./mvnw`è¿‡ç¨‹å¹¶é‡å¯å®ƒ),ç„¶åå†æ¬¡è¿è¡Œ`yarn e2e`,ä»¥å¿«é€Ÿç¡®è®¤ä¸€åˆ‡éƒ½æ­£ç¡®ç”Ÿæˆäº†ã€‚

ç°åœ¨ï¼Œæ‚¨å¯ä»¥çœ‹åˆ° JHipster éå¸¸å¼ºå¤§ã€‚å®ƒè¯†åˆ«å‡ºæ‚¨æœ‰ä¸€ä¸ª`ImageBlob`ç±»å‹çš„`image`å±æ€§ï¼Œå¹¶è‡ªåŠ¨åˆ›å»ºæ‚¨éœ€è¦ä¸Šä¼ å’Œå­˜å‚¨å›¾åƒåˆ°æ‚¨çš„æ•°æ®åº“ä¸­çš„ç®¡é“ï¼*ä¸‡å²ï¼*

## [](#add-image-exif-processing-in-your-spring-boot-api)åœ¨ä½ çš„ Spring Boot API ä¸­æ·»åŠ å›¾åƒ EXIF å¤„ç†

`Photo`å®ä½“æœ‰ä¸€äº›å±æ€§ï¼Œå¯ä»¥é€šè¿‡ä»ä¸Šä¼ çš„ç…§ç‰‡ä¸­è¯»å– EXIF(å¯äº¤æ¢å›¾åƒæ–‡ä»¶æ ¼å¼)æ•°æ®æ¥è®¡ç®—ã€‚ä½ å¯èƒ½ä¼šé—®ï¼Œç”¨ Java æ€ä¹ˆåšåˆ°çš„ï¼Ÿ

è°¢å¤©è°¢åœ°ï¼Œå¾·é²Â·è¯ºå…‹æ–¯åˆ›å»ºäº†ä¸€ä¸ª[å…ƒæ•°æ®æå–å™¨](https://github.com/drewnoakes/metadata-extractor)åº“æ¥åšè¿™ä»¶äº‹ã€‚å°†å¯¹ Drew åº“çš„ä¾èµ–æ·»åŠ åˆ°æ‚¨çš„`pom.xml`:

```
<dependency>
    <groupId>com.drewnoakes</groupId>
    <artifactId>metadata-extractor</artifactId>
    <version>2.11.0</version>
</dependency> 
```

ç„¶åä¿®æ”¹`PhotoResource#createPhoto()`æ–¹æ³•ï¼Œåœ¨ä¸Šä¼ å›¾åƒæ—¶è®¾ç½®å…ƒæ•°æ®ã€‚

```
import com.drew.imaging.ImageMetadataReader;
import com.drew.imaging.ImageProcessingException;
import com.drew.metadata.Metadata;
import com.drew.metadata.MetadataException;
import com.drew.metadata.exif.ExifSubIFDDirectory;
import com.drew.metadata.jpeg.JpegDirectory;

import javax.xml.bind.DatatypeConverter;
import java.io.BufferedInputStream;
import java.io.ByteArrayInputStream;
import java.io.IOException;
import java.io.InputStream;

import java.time.Instant;
import java.util.Date;

public class PhotoResource {
    ...

    public ResponseEntity<Photo> createPhoto(@Valid @RequestBody Photo photo) throws Exception {
        log.debug("REST request to save Photo : {}", photo);
        if (photo.getId() != null) {
            throw new BadRequestAlertException("A new photo cannot already have an ID", ENTITY_NAME, "idexists");
        }

        try {
            photo = setMetadata(photo);
        } catch (ImageProcessingException ipe) {
            log.error(ipe.getMessage());
        }

        Photo result = photoRepository.save(photo);
        return ResponseEntity.created(new URI("/api/photos/" + result.getId()))
            .headers(HeaderUtil.createEntityCreationAlert(ENTITY_NAME, result.getId().toString()))
            .body(result);
    }

    private Photo setMetadata(Photo photo) throws ImageProcessingException, IOException, MetadataException {
        String str = DatatypeConverter.printBase64Binary(photo.getImage());
        byte[] data2 = DatatypeConverter.parseBase64Binary(str);
        InputStream inputStream = new ByteArrayInputStream(data2);
        BufferedInputStream bis = new BufferedInputStream(inputStream);
        Metadata metadata = ImageMetadataReader.readMetadata(bis);
        ExifSubIFDDirectory directory = metadata.getFirstDirectoryOfType(ExifSubIFDDirectory.class);

        if (directory != null) {
            Date date = directory.getDateDigitized();
            if (date != null) {
                photo.setTaken(date.toInstant());
            }
        }

        if (photo.getTaken() == null) {
            log.debug("Photo EXIF date digitized not available, setting taken on date to now...");
            photo.setTaken(Instant.now());
        }

        photo.setUploaded(Instant.now());

        JpegDirectory jpgDirectory = metadata.getFirstDirectoryOfType(JpegDirectory.class);
        if (jpgDirectory != null) {
            photo.setHeight(jpgDirectory.getImageHeight());
            photo.setWidth(jpgDirectory.getImageWidth());
        }

        return photo;
    }
    ...
} 
```

å› ä¸ºæ‚¨æ­£åœ¨æå–ä¿¡æ¯ï¼Œæ‰€ä»¥æ‚¨å¯ä»¥ä» UI å’Œæµ‹è¯•ä¸­ç§»é™¤å­—æ®µï¼Œè¿™æ ·ç”¨æˆ·å°±ä¸èƒ½è®¾ç½®è¿™äº›å€¼ã€‚

åœ¨`src/main/webapp/app/entities/photo/photo-update.tsx`ä¸­ï¼Œæ·»åŠ `metadata`å’Œ`metadataRows`å˜é‡ï¼Œä»¥åŠä½¿å®ƒä»¬åœ¨æ·»åŠ ç…§ç‰‡æ—¶éšè—å’Œåœ¨æ›´æ–°ç…§ç‰‡æ—¶åªè¯»çš„é€»è¾‘ã€‚æ‰¾åˆ°ä¸‹é¢ä»£ç å—çš„ç¬¬ä¸€è¡Œï¼Œå¹¶ç”¨ä¸‹é¢çš„ä»£ç æ›¿æ¢è¯¥è¡Œã€‚

```
const { description, image, imageContentType } = photoEntity;

const metadata = (
  <div>
    <AvGroup>
      <Label id="heightLabel" for="height">
        <Translate contentKey="galleryApp.photo.height">Height</Translate>
      </Label>
      <AvField id="photo-height" type="number" className="form-control" name="height" readOnly />
    </AvGroup>
    <AvGroup>
      <Label id="widthLabel" for="width">
        <Translate contentKey="galleryApp.photo.width">Width</Translate>
      </Label>
      <AvField id="photo-width" type="number" className="form-control" name="width" readOnly />
    </AvGroup>
    <AvGroup>
      <Label id="takenLabel" for="taken">
        <Translate contentKey="galleryApp.photo.taken">Taken</Translate>
      </Label>
      <AvInput
        id="photo-taken"
        type="datetime-local"
        className="form-control"
        name="taken"
        readOnly
        value={isNew ? null : convertDateTimeFromServer(this.props.photoEntity.taken)}
      />
    </AvGroup>
    <AvGroup>
      <Label id="uploadedLabel" for="uploaded">
        <Translate contentKey="galleryApp.photo.uploaded">Uploaded</Translate>
      </Label>
      <AvInput
        id="photo-uploaded"
        type="datetime-local"
        className="form-control"
        name="uploaded"
        readOnly
        value={isNew ? null : convertDateTimeFromServer(this.props.photoEntity.uploaded)}
      />
    </AvGroup>
  </div> );
const metadataRows = isNew ? '' : metadata; 
```

ç„¶åï¼Œåœ¨`return`å—ä¸­ï¼Œåˆ é™¤`image`å±æ€§å’Œ`album`å±æ€§ä¹‹é—´çš„ JSXï¼Œæ›¿æ¢ä¸º`{metadataRows}`ã€‚

```
 <input id="file_image" type="file" onChange={this.onBlobChange(true, 'image')} accept="image/*" />
  </AvGroup>
</AvGroup>
{metadataRows}
<AvGroup>
  <Label for="album.title">
    <Translate contentKey="galleryApp.photo.album">Album</Translate>
  </Label> 
```

åœ¨`src/test/javascript/e2e/entities/photo/photo.spec.ts`ä¸­ï¼Œåˆ é™¤è®¾ç½®è¿™äº›å­—æ®µæ•°æ®çš„ä»£ç :

```
photoUpdatePage.setHeightInput('5');
expect(await photoUpdatePage.getHeightInput()).to.eq('5');
photoUpdatePage.setWidthInput('5');
expect(await photoUpdatePage.getWidthInput()).to.eq('5');
photoUpdatePage.setTakenInput('01/01/2001' + protractor.Key.TAB + '02:30AM');
expect(await photoUpdatePage.getTakenInput()).to.contain('2001-01-01T02:30');
photoUpdatePage.setUploadedInput('01/01/2001' + protractor.Key.TAB + '02:30AM');
expect(await photoUpdatePage.getUploadedInput()).to.contain('2001-01-01T02:30'); 
```

æ‚¨è¿˜å¯ä»¥åˆ é™¤`src/test/javascript/e2e/entities/photo/photo-update.page-object.ts`ä¸­è¿™äº›å­—æ®µçš„æ‰€æœ‰ getters å’Œ setters:

```
setHeightInput(height) {
  this.heightInput.sendKeys(height);
}

getHeightInput() {
  return this.heightInput.getAttribute('value');
}

setWidthInput(width) {
  this.widthInput.sendKeys(width);
}

getWidthInput() {
  return this.widthInput.getAttribute('value');
}

setTakenInput(taken) {
  this.takenInput.sendKeys(taken);
}

getTakenInput() {
  return this.takenInput.getAttribute('value');
}

setUploadedInput(uploaded) {
  this.uploadedInput.sendKeys(uploaded);
}

getUploadedInput() {
  return this.uploadedInput.getAttribute('value');
} 
```

åœæ­¢æ‚¨çš„ Maven è¿›ç¨‹ï¼Œè¿è¡Œ`yarn webpack:build`ï¼Œå†æ¬¡å¯åŠ¨ Mavenï¼Œç„¶åè¿è¡Œ`yarn e2e`ä»¥ç¡®ä¿ä¸€åˆ‡ä»ç„¶å·¥ä½œã€‚å¦‚æœä½ ä¸Šä¼ äº†ä¸€å¼ ç”¨æ™ºèƒ½æ‰‹æœºæ‹æ‘„çš„å›¾ç‰‡ï¼Œé‚£ä¹ˆé«˜åº¦ã€å®½åº¦å’Œæ‹æ‘„å€¼éƒ½åº”è¯¥è¢«å¡«å……ã€‚å¦‚æœä¸æ˜¯ï¼Œå¾ˆå¯èƒ½ä½ çš„å›¾åƒä¸­æ²¡æœ‰æ•°æ®ã€‚

> éœ€è¦ä¸€äº› EXIF æ•°æ®çš„æ ·æœ¬ç…§ç‰‡å—ï¼Ÿä½ å¯ä»¥ä» Flickr ä¸Šçš„ç›¸å†Œä¸‹è½½æˆ‘ 1966 å¹´çš„å¤§ä¼—æ±½è½¦ç…§ç‰‡ã€‚

## [](#add-react-photo-gallery-to-your-react-pwa)å°† React ç…§ç‰‡åº“æ·»åŠ åˆ° React PWA ä¸­

æ‚¨å·²ç»åœ¨åç«¯æ·»åŠ äº†å…ƒæ•°æ®æå–ï¼Œä½†æ‚¨çš„ç…§ç‰‡ä»ç„¶æ˜¾ç¤ºåœ¨åˆ—è¡¨ä¸­ï¼Œè€Œä¸æ˜¯ç½‘æ ¼ä¸­(åƒ Flickr)ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ [React ç…§ç‰‡åº“](https://github.com/neptunian/react-photo-gallery)ç»„ä»¶ã€‚ç”¨çº±çº¿å®‰è£…:

```
yarn add react-photo-gallery@6.0.28 
```

æˆ– npm:

```
npm i --save-exact react-photo-gallery@6.0.28 
```

**æ³¨æ„:**æˆ‘ç¬¬ä¸€æ¬¡å°è¯•ä½¿ç”¨[é›·æ¡‘Â·å¡å…¹ä¼¯ç½—å¨ƒçš„](https://www.linkedin.com/in/lkazberova/) [react-photo-feed](https://github.com/lkazberova/react-photo-feed) ï¼Œä½†æ˜¯åœ¨æŠŠå®ƒæ·»åŠ åˆ°æˆ‘çš„é¡¹ç›®ä¸­ä¹‹åï¼Œå‘ç°å®ƒå¯¼è‡´äº†ç¼–è¯‘é”™è¯¯ã€‚

åœ¨`src/main/webapp/app/entities/photo/photo.tsx`ä¸­ï¼Œä¸º`Gallery`æ·»åŠ ä¸€ä¸ªå¯¼å…¥:

```
import Gallery from 'react-photo-gallery'; 
```

ç„¶ååœ¨`render()`æ–¹æ³•ä¸­æ·»åŠ ä¸€ä¸ª`photoSet`å˜é‡ï¼Œå¹¶åœ¨`</h2>`ç»“æŸåæ·»åŠ `<Gallery>`ç»„ä»¶ã€‚

```
render() {
  const { photoList, match } = this.props;
  const photoSet = photoList.map(photo => ({
    src: `data:${photo.imageContentType};base64,${photo.image}`,
    width: photo.height > photo.width ? 3 : photo.height === photo.width ? 1 : 4,
    height: photo.height > photo.width ? 4 : photo.height === photo.width ? 1 : 3
  }));

  return (
    <div>
      <h2 id="photo-heading">
        ...
      </h2>
      <Gallery photos={photoSet} />
      ...
  );
} 
```

å› ä¸ºæ‚¨åªä¿®æ”¹äº†å‰ç«¯ä»£ç ï¼Œæ‰€ä»¥æ‚¨å¯ä»¥è¿è¡Œ`yarn start`æ¥å¯åŠ¨ webpack-dev-server çš„ä¸€ä¸ªå®ä¾‹ï¼Œè¯¥å®ä¾‹å°†è¯·æ±‚ä»£ç†åˆ°åç«¯ï¼Œå¹¶åœ¨æ¯æ¬¡æ‚¨æ›´æ”¹ä»»ä½• React æ–‡ä»¶æ—¶è‡ªåŠ¨åˆ·æ–°æ‚¨çš„æµè§ˆå™¨(ä½¿ç”¨ Browsersync)ã€‚

ç™»å½•å¹¶åœ¨é¡¶éƒ¨å¯¼èˆªæ ä¸­å¯¼èˆªè‡³**å®ä½“** > **ç…§ç‰‡**ã€‚ä½ åº”è¯¥èƒ½å¤Ÿä¸Šä¼ ç…§ç‰‡ï¼Œå¹¶åœ¨åˆ—è¡¨é¡¶éƒ¨çš„ä¸€ä¸ªæ¼‚äº®çš„ç½‘æ ¼ä¸­çœ‹åˆ°ç»“æœã€‚

[![Gallery with Photos](../Images/095899b7fd7951573c8fa8ae9d746fec.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--QqhtdSlF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets-jekyll/blog/react-photo-gallery-pwa/photo-gallery-7ef745b8ec67972172408e77e70ac09a15a57b708764a1376bcf405e41fb2aeb.png)

ä½ è¿˜å¯ä»¥åœ¨ç½‘æ ¼ä¸­æ·»åŠ ä¸€ä¸ªâ€œç¯ç®±â€åŠŸèƒ½ï¼Œè¿™æ ·ä½ å°±å¯ä»¥ç‚¹å‡»ç…§ç‰‡å¹¶æ”¾å¤§ã€‚React ç…§ç‰‡åº“æ–‡æ¡£å±•ç¤ºäº†å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ã€‚æˆ‘å·²ç»å°†å®ƒé›†æˆåˆ°æœ¬æ–‡çš„ç¤ºä¾‹ä¸­ï¼Œä½†æ˜¯ä¸ºäº†ç®€æ´èµ·è§ï¼Œæˆ‘ä¸ä¼šåœ¨è¿™é‡Œå±•ç¤ºä»£ç ã€‚ä½ å¯ä»¥åœ¨ GitHub ä¸Šçœ‹åˆ°æ·»åŠ äº† Lightbox çš„ [final `photo.tsx`æˆ–è€…ä¸€ä¸ªå¿…è¦ä¿®æ”¹çš„](https://github.com/oktadeveloper/okta-react-photo-gallery-example/blob/master/src/main/webapp/app/entities/photo/photo.tsx)[diff](https://github.com/oktadeveloper/okta-react-photo-gallery-example/commit/47f9ceab2b00f1d7f41d286686c9159f79decc11)ã€‚

## [](#make-your-react-spring-boot-app-into-a-pwa)æŠŠä½ çš„ React + Spring Boot App åšæˆ PWA

æˆä¸º PWA éœ€è¦å…·å¤‡ä¸‰ä¸ªç‰¹å¾:

1.  æ‚¨çš„åº”ç”¨ç¨‹åºå¿…é¡»åœ¨ HTTPS æä¾›
2.  æ‚¨çš„åº”ç”¨ç¨‹åºå¿…é¡»æ³¨å†Œä¸€ä¸ªæœåŠ¡å·¥ä½œè€…ï¼Œä»¥ä¾¿å®ƒå¯ä»¥ç¼“å­˜è¯·æ±‚å¹¶ç¦»çº¿å·¥ä½œ
3.  æ‚¨çš„åº”ç”¨ç¨‹åºå¿…é¡»æœ‰ä¸€ä¸ªåŒ…å«å®‰è£…ä¿¡æ¯å’Œå›¾æ ‡çš„ webapp æ¸…å•

å¯¹äº HTTPSï¼Œæ‚¨å¯ä»¥[ä¸ºæœ¬åœ°ä¸»æœº](https://letsencrypt.org/docs/certificates-for-localhost/)è®¾ç½®ä¸€ä¸ªè¯ä¹¦ï¼Œæˆ–è€…(ç”šè‡³æ›´å¥½)ï¼Œå°†å®ƒéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¸­ï¼åƒ Heroku å’Œ Cloud Foundry è¿™æ ·çš„äº‘æä¾›å•†å°†ä¸ºä½ æä¾›ç°æˆçš„ HTTPSï¼Œä½†ä»–ä»¬ä¸ä¼šå¼ºè¿« T4 ä½¿ç”¨ HTTPSã€‚è¦å¼ºåˆ¶ HTTPSï¼Œè¯·æ‰“å¼€`src/main/java/com/okta/developer/config/SecurityConfiguration.java`å¹¶æ·»åŠ ä¸€æ¡è§„åˆ™ï¼Œä»¥ä¾¿åœ¨å‘é€`X-Forwarded-Proto`æŠ¥å¤´æ—¶å¼ºåˆ¶ä½¿ç”¨å®‰å…¨é€šé“ã€‚

```
@Override
protected void configure(HttpSecurity http) throws Exception {
    http
        ...
    .and()
        .headers()
        .frameOptions()
        .disable()
    .and()
        .requiresChannel()
        .requestMatchers(r -> r.getHeader("X-Forwarded-Proto") != null)
        .requiresSecure()
    .and()
        .authorizeRequests()
        ...
} 
```

å·²ç»é…ç½®äº† [workbox-webpack-plugin](https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin) ç”¨äºç”ŸæˆæœåŠ¡å·¥ä½œè€…ï¼Œä½†æ˜¯å®ƒä»…åœ¨ä½¿ç”¨ç”Ÿäº§é…ç½®æ–‡ä»¶è¿è¡Œæ‚¨çš„åº”ç”¨ç¨‹åºæ—¶æ‰èµ·ä½œç”¨ã€‚è¿™å¾ˆå¥½ï¼Œå› ä¸ºè¿™æ„å‘³ç€åœ¨å¼€å‘æ—¶ï¼Œæ•°æ®ä¸ä¼šç¼“å­˜åœ¨æµè§ˆå™¨ä¸­ã€‚

è¦æ³¨å†Œä¸€ä¸ªæœåŠ¡å·¥ä½œè€…ï¼Œæ‰“å¼€`src/main/webapp/index.html`å¹¶å–æ¶ˆå¯¹ä¸‹é¢ä»£ç å—çš„æ³¨é‡Šã€‚

```
<script>
    if ('serviceWorker' in navigator) {
         navigator.serviceWorker
            .register('./service-worker.js')
            .then(function() { console.log('Service Worker Registered'); });
    }
</script> 
```

æœ€åä¸€ä¸ªç‰¹æ€§â€”â€”web app æ¸…å•â€”â€”åŒ…å«åœ¨`src/main/webapp/manifest.webapp`ä¸­ã€‚å®ƒå®šä¹‰äº†åº”ç”¨ç¨‹åºçš„åç§°ã€é¢œè‰²å’Œå›¾æ ‡ã€‚ä½ å¯èƒ½éœ€è¦è°ƒæ•´è¿™äº›æ¥é€‚åº”ä½ çš„åº”ç”¨ã€‚

## [](#deploy-your-react-spring-boot-app-to-heroku)å°†æ‚¨çš„ React + Spring Boot åº”ç”¨éƒ¨ç½²åˆ° Heroku

è¦å°†ä½ çš„åº”ç”¨éƒ¨ç½²åˆ° Herokuï¼Œä½ é¦–å…ˆéœ€è¦å®‰è£… [Heroku CLI](https://devcenter.heroku.com/articles/heroku-cli) ã€‚æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œ`heroku --version`æ¥ç¡®è®¤å…¶å·²å®‰è£…ã€‚

> å¦‚æœä½ æ²¡æœ‰ Heroku è´¦æˆ·ï¼Œè¯·åˆ°[heroku.com](https://www.heroku.com/)æ³¨å†Œã€‚åˆ«æ‹…å¿ƒï¼Œè¿™æ˜¯å…è´¹çš„ï¼Œè€Œä¸”ä½ å¾ˆå¯èƒ½ä¼šå–œæ¬¢è¿™ç§ä½“éªŒã€‚

è¿è¡Œ`heroku login`ç™»å½•æ‚¨çš„å¸æˆ·ï¼Œç„¶åä½¿ç”¨ JHipster å¯åŠ¨éƒ¨ç½²è¿‡ç¨‹:

```
jhipster heroku 
```

è¿™å°†å¯åŠ¨ [Heroku å­ç”Ÿæˆå™¨](https://www.jhipster.tech/heroku/)ï¼Œå®ƒä¼šé—®ä½ å‡ ä¸ªå…³äºä½ çš„åº”ç”¨ç¨‹åºçš„é—®é¢˜:ä½ æƒ³ç»™å®ƒèµ·ä»€ä¹ˆåå­—ï¼Œä½ æ˜¯æƒ³æŠŠå®ƒéƒ¨ç½²åˆ°ç¾å›½åœ°åŒºè¿˜æ˜¯æ¬§ç›Ÿã€‚ç„¶åå®ƒä¼šæç¤ºä½ é€‰æ‹©åœ¨æœ¬åœ°æ„å»ºè¿˜æ˜¯åœ¨ Heroku çš„æœåŠ¡å™¨ä¸Šç”¨ Git æ„å»ºã€‚é€‰æ‹© Gitï¼Œè¿™æ ·å°±ä¸ç”¨ä¸Šä¼  fat JAR äº†ï¼Œéƒ¨ç½²è¿‡ç¨‹å°±å¼€å§‹äº†ã€‚

å¦‚æœä½ æœ‰ä¸€ä¸ªç¨³å®šå’Œå¿«é€Ÿçš„äº’è”ç½‘è¿æ¥ï¼Œä½ çš„åº”ç”¨ç¨‹åºåº”è¯¥åœ¨å…­åˆ†é’Ÿå·¦å³ä¸Šçº¿ï¼

```
remote: -----> Compressing...
remote: Done: 134.5M
remote: -----> Launching...
remote: Released v5
remote: https://gallery-pwa.herokuapp.com/ deployed to Heroku
remote:
remote: Verifying deploy... done.
To https://git.heroku.com/gallery-pwa.git
 * [new branch] HEAD -> master

Your app should now be live. To view it run
    heroku open
And you can view the logs with this command
    heroku logs --tail
After application modification, redeploy it with
    jhipster heroku
Congratulations, JHipster execution is complete!
Execution time: 5 min. 31 s. sec 
```

### [](#configure-your-react-spring-boot-app-for-okta-and-analyze-your-pwa-score-with-lighthouse)ä¸º Okta é…ç½®ä½ çš„ React + Spring Boot Appï¼Œç”¨ Lighthouse åˆ†æä½ çš„ PWA åˆ†æ•°

è¦é…ç½®æ‚¨çš„åº”ç”¨ç¨‹åºåœ¨ Heroku ä¸Šä½¿ç”¨ Oktaï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å°†æ‚¨çš„æœ¬åœ° Okta ç›¸å…³ç¯å¢ƒå˜é‡ä¼ è¾“åˆ° Herokuã€‚

```
heroku config:set \
  SECURITY_OAUTH2_CLIENT_ACCESS_TOKEN_URI="$SECURITY_OAUTH2_CLIENT_ACCESS_TOKEN_URI" \
  SECURITY_OAUTH2_CLIENT_USER_AUTHORIZATION_URI="$SECURITY_OAUTH2_CLIENT_USER_AUTHORIZATION_URI" \
  SECURITY_OAUTH2_RESOURCE_USER_INFO_URI="$SECURITY_OAUTH2_RESOURCE_USER_INFO_URI" \
  SECURITY_OAUTH2_CLIENT_CLIENT_ID="$SECURITY_OAUTH2_CLIENT_CLIENT_ID" \
  SECURITY_OAUTH2_CLIENT_CLIENT_SECRET="$SECURITY_OAUTH2_CLIENT_CLIENT_SECRET" 
```

Heroku é‡å¯ä½ çš„åº”ç”¨åï¼Œç™»å½•ï¼Œç„¶åç”¨ Lighthouse æµ‹è¯•ã€‚çœ‹èµ·æ¥ä¸é”™ï¼Œæ˜¯å§ï¼Ÿï¼ğŸ’¯

[![Lighthouse Score ğŸ’¯](../Images/dbfdb7fd1fcf287eecfc476311f7b7eb.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--VhqeLtx1--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://developer.okta.com/assets-jekyll/blog/react-photo-gallery-pwa/lighthouse-score-4f95c4462e97330d1566ec3e8844a1a712c20aed9bf47cdfe10b0736b7f8289e.png)

## [](#learn-more-about-react-spring-boot-jhipster-and-oauth)äº†è§£æ›´å¤šå…³äº Reactã€Spring Bootã€JHipster å’Œ OAuth çš„ä¿¡æ¯

è¿™ç¯‡æ•™ç¨‹å‘ä½ å±•ç¤ºäº†å¦‚ä½•ç”¨ Spring Bootï¼ŒReactï¼ŒJHipster å’Œ OIDC å¼€å‘ä¸€ä¸ªå›¾ç‰‡åº“ PWAã€‚å®ƒå‘æ‚¨å±•ç¤ºäº†ä¸€äº›æœ‰ç”¨çš„å¼€æºåº“æ¥ç®€åŒ–å®ç°ï¼Œç”šè‡³ç”Ÿæˆæµ‹è¯•ã€‚

å¦‚æœæ‚¨æƒ³äº†è§£ Reactã€Spring Boot æˆ– OAuth 2.0 çš„æ›´å¤šä¿¡æ¯ï¼Œæˆ‘å»ºè®®æ‚¨æŸ¥çœ‹ä»¥ä¸‹èµ„æº:

*   [ä¸ Spring Boot å’Œ React çš„è‰¯å¥½å‘å±•](/blog/2017/12/06/bootiful-development-with-spring-boot-and-react)
*   [é€šè¿‡ JHipster ä½¿ç”¨ OpenID è¿æ¥æ”¯æŒ](https://developer.okta.com/blog/2017/10/20/oidc-with-jhipster)
*   [ä»€ä¹ˆæ˜¯ OAuth 2.0 æˆæƒç æˆäºˆç±»å‹ï¼Ÿ](/blog/2018/04/10/oauth-authorization-code-grant-type)
*   [ä½¿ç”¨ JHipster æ–‡æ¡£ä¸­çš„ React(å¸¦ Redux)](https://www.jhipster.tech/using-react/)
*   [ä½¿ç”¨ OAuth 2.0 å’Œ JHipster å¼€å‘å¾®æœåŠ¡æ¶æ„](https://developer.okta.com/blog/2018/03/01/develop-microservices-jhipster-oauth)

å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·åœ¨ä¸‹é¢ç•™ä¸‹è¯„è®ºï¼Œåœ¨ [Twitter @mraible](https://twitter.com/mraible) ä¸Š ping æˆ‘ï¼Œæˆ–è€…åœ¨æˆ‘ä»¬çš„[å¼€å‘è€…è®ºå›](https://devforum.okta.com/)ä¸Šå‘å¸–ã€‚å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·å…³æ³¨ [@oktadev](https://twitter.com/oktadev) ï¼Œå½“å…¶ä»–äººå–œæ¬¢è¿™ç¯‡æ–‡ç« æ—¶ï¼Œä½ ä¼šæ”¶åˆ°é€šçŸ¥ã€‚