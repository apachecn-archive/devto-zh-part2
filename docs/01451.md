# weekly random # 1:sindresorhus/ua-string

> åŸæ–‡:[https://dev . to/vintage sucks/weekly random-1-sindresorhusua-string-2bkg](https://dev.to/vintagesucks/weeklyrandom-1-sindresorhusua-string-2bkg)

*æ¬¢è¿æ¥åˆ° [**WeeklyRandom**](https://dev.to/t/weeklyrandom) ï¼Œè¿™æ˜¯ä¸€ä¸ªåšå®¢ç³»åˆ—ï¼Œåœ¨è¿™ä¸ªç³»åˆ—ä¸­ï¼Œæˆ‘æŒ‘æˆ˜è‡ªå·±ï¼Œæ¯å‘¨æ¢ç´¢ä¸€ä¸ªç”±æˆ‘ä¸»æ¼”çš„éšæœº GitHub çŸ¥è¯†åº“ã€‚*

ç¬¬ä¸€å‘¨çš„æ¡ç›®æœ¬åº”åœ¨ä¸Šå‘¨å‘å¸ƒï¼Œä½†ã€Šç”Ÿå‘½ã€‹ã€ŠT2ã€‹ã€çº¢è‰²æ­»äº¡æ•‘èµ 2ã€‘é˜»æŒ äº†æˆ‘çš„è®¡åˆ’ã€‚ğŸ¤ 

æ²¡å…³ç³»ï¼è®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªæ˜ŸæœŸæˆ‘å¯ä»¥æ¢ç´¢å“ªç§å›è´­ã€‚

ğŸ¥

```
node index.js vintagesucks
https://github.com/sindresorhus/ua-string 
```

[ua-string](https://github.com/sindresorhus/ua-string) ä½œè€…[è¾›å¾·é›·Â·ç´¢èƒ¡æ–¯](https://github.com/sindresorhus)ã€‚è¿™ä¸ä¼šèŠ±å¾ˆé•¿æ—¶é—´ã€‚å›è´­çš„æè¿°å¦‚ä¸‹:

> è®© Chrome æœ€æ–°ç‰ˆæœ¬çš„ç”¨æˆ·ä»£ç†åœ¨ç½‘ç»œè¯·æ±‚ä¸­ä¼ªè£…æˆæµè§ˆå™¨

å¥½å§ã€‚è®©æˆ‘ä»¬è¯•ä¸€ä¸ªè¦æ±‚å»[whatismybrowser.com](https://www.whatismybrowser.com/)è€Œä¸å»`ua-string` :

```
// index.js
const got = require('got');
const HTMLParser = require('fast-html-parser');

(async () => {
    try {
        got('https://developers.whatismybrowser.com/useragents/parse/?analyse-my-user-agent=yes')
        .then((res) =>
            HTMLParser.parse(res.body).querySelector('.useragent')
        )
        .then((result) =>
            console.log(result.childNodes[0].rawText)
        );
    } catch (error) {
        console.log(error.response.body);
    }
})(); 
```

è®©æˆ‘ä»¬è¿è¡Œå®ƒ:

```
node index.js
got/9.2.2 (https://github.com/sindresorhus/got) 
```

è‡ªä»æˆ‘ç”¨äº† [`got`](https://github.com/sindresorhus/got) (ç”±[è¾›å¾·é›·åˆ›é€ çš„](https://github.com/sindresorhus)ä¹Ÿæ˜¯ğŸ‘‹)æå‡ºè¯·æ±‚ï¼Œè¢«æŠ¥å‘Šçš„ç”¨æˆ·ä»£ç†æ˜¯`got`ã€‚

ç°åœ¨è®©æˆ‘ä»¬è¯•è¯•`ua-string`ã€‚

```
npm install ua-string 
```

è¿™ä¸ªè„šæœ¬ï¼Œç°åœ¨ä½¿ç”¨`ua-string` :

```
const got = require('got');
const uaString = require('ua-string');
const HTMLParser = require('fast-html-parser');

(async () => {
    try {
        got('https://developers.whatismybrowser.com/useragents/parse/?analyse-my-user-agent=yes', {
            headers: {
                'user-agent': uaString
            }
        })
        .then((res) =>
            HTMLParser.parse(res.body).querySelector('.useragent')
        )
        .then((result) =>
            console.log(result.childNodes[0].rawText)
        );
    } catch (error) {
        console.log(error.response.body);
    }
})(); 
```

å¼€å§‹äº†:

```
node index.js
Mozilla/5.0 (Macintosh; Intel Mac OS X 10\_13\_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36 
```

å®Œç¾ã€‚ğŸ‰

ä½ å¯ä»¥åœ¨ GitHub çš„[vintage sucks/weekly random](https://github.com/vintagesucks/weeklyrandom/tree/master/sindresorhus/ua-string)æ‰¾åˆ°å®Œæ•´çš„ä»£ç ã€‚éå¸¸æ¬¢è¿æœ‰æ”¹è¿›çš„æ‹‰åŠ¨è¯·æ±‚ï¼

ç›´åˆ°ä¸‹å‘¨ï¼Œæˆ‘å°†æ£€æŸ¥æˆ‘çš„ä¸‹ä¸€ä¸ª [*WeeklyRandom*](https://dev.to/t/weeklyrandom) åº“ã€‚