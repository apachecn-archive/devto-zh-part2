# windsâ€”â€”ä¸€ä¸ªå…³äºå¦‚ä½•ä¸ºå¼€æºè½¯ä»¶åšå‡ºç¬¬ä¸€ä»½è´¡çŒ®çš„æ·±åº¦æ•™ç¨‹

> åŸæ–‡:[https://dev.to/nickparsons/winds-å¯¹å¼€æºè½¯ä»¶åšå‡ºç¬¬ä¸€ä»½è´¡çŒ®çš„æ·±åº¦æ•™ç¨‹-1g9h](https://dev.to/nickparsons/winds--an-in-depth-tutorial-on-making-your-first-contribution-to-open-source-software-1g9h)

[![](../Images/24535603f9a75889a62141039e080ed7.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--pnPRTBdw--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/w7pmwrfoix49b9lssb9q.png)

åœ¨ [Stream](https://getstream.io/try-the-api) çš„å›¢é˜Ÿå–œæ¬¢æ„å»ºå¼€æºç¤ºä¾‹åº”ç”¨ç¨‹åºæ¥å±•ç¤ºæˆ‘ä»¬ API çš„åŠŸèƒ½ã€‚æˆ‘ä»¬çš„è§‚ç‚¹ä¸€ç›´æ˜¯ï¼Œæœ€å¥½åœ¨ä¸€ä¸ªå…¨åŠŸèƒ½çš„å¹³å°ä¸Šå±•ç¤ºæˆ‘ä»¬äº§å“çš„åŠŸèƒ½ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåˆ©ç”¨ Stream å’Œå…¶ä»–ä¼˜ç§€çš„æœåŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‡ ä¸ªæœˆè€Œä¸æ˜¯å‡ å¹´å†…æ„å»ºä¸€ä¸ªæ’­å®¢å’Œ RSS é˜…è¯»å™¨ [Winds](https://getstream.io/winds) ã€‚æ­¤å¤–ï¼Œä½œä¸ºä¸€ä¸ª[å¼€æº](https://github.com/getstream/winds)é¡¹ç›®ï¼ŒWinds ç”±äºå…¶ä¸æ–­å¢é•¿çš„ç”¨æˆ·ç¾¤çš„è´¡çŒ®è€Œå˜å¾—è¶Šæ¥è¶Šå¥½(ç°åœ¨è¶…è¿‡ 14ï¼Œ000 åç”¨æˆ·å’Œå¤§çº¦ 5ï¼Œ500 åæ˜æ˜Ÿï¼).

åœ¨æœ¬å¸–ä¸­ï¼Œæˆ‘ä»¬å°†å‘æ‚¨ç®€è¦ä»‹ç» Winds - Stream æœ€å—æ¬¢è¿çš„å¼€æºç¤ºä¾‹åº”ç”¨ç¨‹åºæ˜¯å¦‚ä½•æ„å»ºçš„ã€‚å¦‚æœä½ å¯¹é£ä¸ç†Ÿæ‚‰ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œé˜…è¯»æ›´å¤šç›¸å…³ä¿¡æ¯ã€‚æˆ‘ä»¬å°†ä»æ·»åŠ ä¸€ä¸ªéœ€è¦æˆ‘ä»¬æ¥è§¦åº”ç”¨ç¨‹åºå‰ç«¯å’Œåç«¯å¤šä¸ªæ–¹é¢çš„ç‰¹æ€§çš„è¯¦ç»†æ¼”ç»ƒå¼€å§‹ã€‚

åœ¨è¿™ç¯‡æ–‡ç« ç»“æŸæ—¶ï¼Œä½ å°†å‡†å¤‡å¥½ä¸º Winds æ·»åŠ ä½ è‡ªå·±çš„ç‰¹æ€§ï¼Œå¹¶ä¸ºå¼€æºç¤¾åŒºåšå‡ºè´¡çŒ®ï¼æ— è®ºä½ æ˜¯æ–°ç¨‹åºå‘˜è¿˜æ˜¯è€æ‰‹ï¼Œæˆ‘ä»¬ç›¸ä¿¡ä½ ä¼šå­¦åˆ°æ–°ä¸œè¥¿ã€‚ğŸ˜€

**è¯·æ³¨æ„ï¼Œæœ¬æ•™ç¨‹å‡è®¾å¦‚ä¸‹**:

1.  æ‚¨æ­£åœ¨è¿è¡Œ macOSï¼Œæˆ–è€…äº†è§£å¦‚ä½•åœ¨æ‚¨é€‰æ‹©çš„ OS ä¸Šå®‰è£…å„ç§æ‰€éœ€çš„ä¾èµ–é¡¹ã€‚ğŸ
2.  ä½ æ‡‚ JavaScript å—ğŸ¤”
3.  æ‚¨å¯¹ React æœ‰åŸºæœ¬çš„äº†è§£(å¦‚æœæ²¡æœ‰ä¹Ÿæ²¡å…³ç³»ï¼Œä½†å®ƒå¾ˆæœ‰å¸®åŠ©)ğŸ’»
4.  æ‚¨å¯¹ git æœ‰æ‰€äº†è§£(æˆ‘ä»¬ä¸ä¼šæ·±å…¥æ¢è®¨ï¼Œä½†éœ€è¦ä¸€èˆ¬çŸ¥è¯†)ã€‚ğŸ”¦
5.  ä½ éå¸¸æ¸´æœ›å­¦ä¹ å¦‚ä½•é€†é£ç¼–ç ï¼ğŸ’¥

**æˆ‘ä»¬å¼€å§‹å§ï¼**

# [](#system-dependencies-%E2%80%8D)ç³»ç»Ÿä¾èµ–ğŸ§™â€

æ‚¨å¯èƒ½çŸ¥é“ï¼Œæ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½éœ€è¦ç³»ç»ŸèŒƒå›´çš„ä¾èµ–å…³ç³»ã€‚ä¸ºäº†ç¡®ä¿æˆ‘ä»¬ä¸åç¦»ä¸»é¢˜ï¼Œè®©æˆ‘ä»¬åªè®¨è®º macOS çš„å®‰è£…ã€‚

## [](#1-homebrew)1ã€‚å…¬å¸è‡ªäº§è‡ªç”¨

å¯¹äºé‚£äº›åˆšæ¥è§¦ç¼–ç çš„äººæ¥è¯´ï¼Œ [Homebrew](https://brew.sh/) æ˜¯ä¸€ä¸ªå¤„ç†ç³»ç»Ÿä¾èµ–å®‰è£…çš„ç¥å¥‡å·¥å…·ã€‚åœ¨ä¸€ä¸ªç®€å•çš„å‘½ä»¤ä¸­ï¼Œæ‚¨å¯ä»¥å®‰è£…æ‚¨é€‰æ‹©çš„ç¼–ç è¯­è¨€ï¼Œæˆ–è€…ä½¿ç”¨ Homebrew çš„å±è”½åŠŸèƒ½åœ¨æ‚¨çš„æœºå™¨ä¸Šå®‰è£…æˆç†Ÿçš„åº”ç”¨ç¨‹åºã€‚å¦‚æœä½ æ²¡æœ‰å®‰è£…å®¶é…¿è½¯ä»¶ï¼Œä½ å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤å®‰è£…:

```
/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸€æ—¦ä½ æŠŠè‡ªåˆ¶ç¨‹åºéƒ½å‡†å¤‡å¥½äº†ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›å…¥ä¸‹ä¸€æ­¥äº†...

## [](#2-nodejs)2ã€‚èŠ‚ç‚¹. js

Node.js åœ¨æ•´ä¸ªé¡¹ç›®ä¸­è¢«å¤§é‡ä½¿ç”¨â€”â€”ä¸»è¦ç”¨äº API å’Œæµ‹è¯•å¥—ä»¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè®©æˆ‘ä»¬ç¡®ä¿æ‚¨è¿è¡Œçš„æ˜¯æœ€æ–°ç‰ˆæœ¬çš„ nodeã€‚å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ Node.js åœ¨ **v10.7.0** (è€Œä¸”ç»å¸¸æ¢)ã€‚å¦‚æœä½ å·²ç»å®‰è£…äº† Node.jsï¼Œä½ å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤æ£€æŸ¥ä½ çš„èŠ‚ç‚¹ç‰ˆæœ¬:

```
node --version 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> **æ³¨æ„**:æˆ‘ä»¬å‡è®¾ä½ è¿è¡Œçš„æ˜¯ node çš„æœ€æ–°ç‰ˆæœ¬ã€‚å¦‚æœæ²¡æœ‰å®‰è£… Node.jsï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¹‹ä¸€è¿›è¡Œå®‰è£…:

### [](#a-homebrew)a)è‡ªåˆ¶

`brew install node`

**æˆ–**

### [](#b-nvm-recommended)b) NVM(æ¨è)

NVM æˆ–èŠ‚ç‚¹ç‰ˆæœ¬ç®¡ç†å™¨æ˜¯ä¸€ç§æµè¡Œçš„å¼€æºå·¥å…·ã€‚å®ƒå…è®¸æ‚¨ç”¨ä¸€ä¸ªç®€çŸ­çš„å‘½ä»¤åœ¨ Node.js ç‰ˆæœ¬ä¹‹é—´è·³è½¬ã€‚ä¸€åˆ‡éƒ½è¢«è®°å½•åœ¨è¿™é‡Œã€‚å®‰è£…éå¸¸ç®€å•ï¼Œåªéœ€éµå¾ªä»¥ä¸‹æ­¥éª¤:

**æ­¥éª¤ 1** :å®‰è£… NVM:

```
curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

**ç¬¬äºŒæ­¥**:å®‰è£… Node.js çš„æœ€æ–°ç‰ˆæœ¬:

```
nvm install 10.7.0 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> **Pro æç¤º**:ä½ å¯ä»¥è¿è¡Œå‘½ä»¤ **nvm ls-remote** ï¼Œå®ƒä¼šåœ¨ä½ çš„æ§åˆ¶å°ä¸­åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬ï¼ŒåŒ…æ‹¬æ–°ç‰ˆæœ¬ã€‚ç°åœ¨ï¼Œå¦‚æœæ‚¨è¿è¡Œ**èŠ‚ç‚¹ç‰ˆæœ¬**ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°æ‚¨å®‰è£…çš„æœ€æ–°ç‰ˆæœ¬ã€‚

[![](../Images/2a7eac19b151ee28d30979a8f8e2fe45.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--b4y-s8v2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image5-3.png%3Fw%3D1024%26h%3D1024)

## [](#3-mongodb)3ã€‚MongoDB

MongoDB æ˜¯æˆ‘ä»¬å­˜å‚¨ç”¨æˆ·æ•°æ®ã€RSSã€æ’­å®¢ç­‰ç­‰çš„ä¸»è¦æ•°æ®åº“ã€‚æˆ‘ä»¬ä½¿ç”¨ MongoDB Atlasï¼Œå®ƒæ˜¯ç”± MongoDB æ„å»ºå’Œç»´æŠ¤çš„ MongoDB çš„æ‰˜ç®¡ç‰ˆæœ¬ã€‚

`brew install mongodb`

> **æ³¨æ„**:å¯åŠ¨ MongoDB çš„å‘½ä»¤æ˜¯ **brew services start MongoDB** ã€‚

## 4ã€‚å†è¯´ä¸€é

Redis å¾ˆé‡è¦ï¼Œå› ä¸ºå®ƒæ˜¯æˆ‘ä»¬å¤„ç† RSS å’Œæ’­å®¢æè¦çš„å·¥ä½œé˜Ÿåˆ—ã€‚æˆ‘ä»¬è¿˜ä½¿ç”¨ Redis å¯¹ä¸æ›´æ–°çš„é¡¹ç›®è¿›è¡Œä¸€äº›åŸºæœ¬çš„ç¼“å­˜(æ¯”å¦‚å…´è¶£)ã€‚

`brew install redis`

> **æ³¨æ„**:å¯åŠ¨ Redis çš„å‘½ä»¤ç®€å•æ¥è¯´å°±æ˜¯ **redis-server** ã€‚

å®Œæ•´çš„å‘½ä»¤åˆ—è¡¨å¯ä»¥åœ¨[è¿™é‡Œ](https://redis.io/commands)æ‰¾åˆ°ã€‚

## [](#4-yarn)4ã€‚æ•…äº‹

[Yarn](https://yarnpkg.com/) æ˜¯ npm(èŠ‚ç‚¹åŒ…ç®¡ç†å™¨)çš„æ›¿ä»£å“ã€‚æˆ‘ä»¬æ¨è yarn over npmï¼Œå› ä¸ºæˆ‘ä»¬å‘ç°å®ƒæ›´å¯é ï¼Œå¹¶ä¸”å¯¹äº Node.js ä¾èµ–é¡¹æ¥è¯´æ˜¯ä¸€ä¸ªæ•´ä½“ä¸Šæ›´å¥½çš„åŒ…ç®¡ç†å™¨ã€‚

`brew install yarn`

## [](#global-yarn-dependencies)å…¨å±€çº±çº¿ä¾èµ–æ€§ğŸŒ

æœ‰ä¸€ä¸ª Node.js ä¾èµ–é¡¹æˆ‘ä»¬éœ€è¦æ˜¯æœ¬åœ°çš„ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ [Yarn](https://yarnpkg.com/en/) ã€‚ä¾èµ–å…³ç³»æ˜¯ [PM2](https://pm2.io/) ï¼Œä¸€ä¸ªæˆ‘ä»¬ç¨åä¼šè°ˆåˆ°çš„è¿‡ç¨‹ç®¡ç†å™¨ã€‚ç°åœ¨ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… PM2:

`yarn global add pm2`

## [](#clone-the-repo)å…‹éš†å›è´­ğŸ’¾

ç°åœ¨æ‚¨å·²ç»å®‰è£…äº†æ‰€æœ‰å¿…éœ€çš„ä¾èµ–é¡¹ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ç»§ç»­å…‹éš†å­˜å‚¨åº“ã€‚ä½ å¯ä»¥ä» [GitHub](https://github.com/getstream/winds) è·å– URLï¼Œæˆ–è€…ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤(åªè¦ç¡®ä¿ä½ æ­£åœ¨å…‹éš†åˆ°ä¸€ä¸ªå¯¹ä½ æœ‰æ„ä¹‰çš„ç›®å½•ä¸­(ä¾‹å¦‚~ ~/Code))ã€‚

`git clone git@github.com:GetStream/Winds.git`

å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œæ‚¨çš„ç»ˆç«¯å°†ç±»ä¼¼äºä¸‹é¢çš„å±å¹•æˆªå›¾:

[![](../Images/afbdef93c66a8ae05a8927fe61e56997.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--OUa4sOC2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image30.png%3Fw%3D1024%26h%3D1024)

## [](#setting-up-thirdparty-services)è®¾ç½®ç¬¬ä¸‰æ–¹æœåŠ¡ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦

Winds ä¾é ä¸€äº›ç¬¬ä¸‰æ–¹èµ„æºæ¥è¿è¡Œã€‚æ‰€æœ‰çš„å¤–éƒ¨æœåŠ¡éƒ½æœ‰ API å¯†åŒ™/ç§˜å¯†å’Œå…¶ä»–å€¼ï¼Œä½ éœ€è¦ä¿å­˜è¿™äº›ä¿¡æ¯ï¼Œä»¥å¤‡åæ–‡ä½¿ç”¨â€”â€”æˆ‘æ¨èä½¿ç”¨ macOS ä¸­çš„ Notes åº”ç”¨ç¨‹åºã€‚æ€»çš„æ¥è¯´ï¼Œæ‚¨å¤§çº¦éœ€è¦ 15-20 åˆ†é’Ÿæ¥å®Œæˆã€‚

> **æ³¨æ„**:è¿è¡Œ Winds æ‰€éœ€çš„æ‰€æœ‰æœåŠ¡åœ¨ä¸€å®šç¨‹åº¦ä¸Šéƒ½æ˜¯å…è´¹çš„(ä¸€èˆ¬æ˜¯ç”Ÿäº§æ•°å­—)ï¼Œæ‰€ä»¥ç°åœ¨ä¸ç”¨æ‹…å¿ƒè´¹ç”¨ã€‚æˆ‘ä»¬æ¨èä½¿ç”¨çš„æœåŠ¡éƒ½ä¸éœ€è¦ä¿¡ç”¨å¡ã€‚

### [](#1-mercury-web-parser-2-minutes)1ã€‚Mercury Web è§£æå™¨(å¤§çº¦ 2 åˆ†é’Ÿ)

ç”± [Postlight](https://postlight.com/) å¼€å‘çš„ Mercury Web Parser åœ¨ Winds ä¸­å‘æŒ¥äº†å·¨å¤§ä½œç”¨ã€‚å®ƒç¡®ä¿äº†æˆ‘ä»¬è§£æçš„æ‰€æœ‰ RSS æ–‡ç« éƒ½å»é™¤äº†è„šæœ¬æ ‡ç­¾å’Œå…¶ä»–åœ¨å‘ˆç°ä¹‹å‰æ³¨å…¥åˆ° HTML ä¸­çš„æ‚ä¹±ä»£ç ã€‚

è¦æ³¨å†Œ Mercuryï¼Œè¯·æ‰“å¼€[ä¸»é¡µ](https://mercury.postlight.com/web-parser/)ï¼Œç‚¹å‡»â€œæ³¨å†Œâ€ã€‚ä¸€æ—¦ä½ å®Œæˆäº†è¿™äº›ï¼Œè·å–æä¾›çš„ API å¯†åŒ™å¹¶æŠŠå®ƒä¿å­˜åœ¨ä¸€ä¸ªç‰¹åˆ«çš„åœ°æ–¹ã€‚

**ç¬¬ä¸€æ­¥:**

[![](../Images/096b19fef917fd9fb93f7fbb87ead3cd.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--d3SurHdp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image15.png%3Fw%3D1024%26h%3D1024)

**ç¬¬äºŒæ­¥:**

ä¿å­˜ç”Ÿæˆçš„ API å¯†é’¥ã€‚

[![](../Images/7ba482c741612109d83c00924f4bb4ef.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--V4jIhMm7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image39.png%3Fw%3D1024%26h%3D1024)

### [](#2-stream-5-minutes)2ã€‚æµ(å¤§çº¦ 5 åˆ†é’Ÿ)

[Stream](https://getstream.io) ä¸ºåº”ç”¨ç¨‹åºä¸­çš„æè¦ä»¥åŠä¸ªæ€§åŒ–å†…å®¹å»ºè®®æä¾›åŠ¨åŠ›ã€‚

**ç¬¬ä¸€æ­¥**:

å‰å¾€ Stream [ç½‘ç«™](https://getstream.io/)ï¼Œç‚¹å‡»â€œæ³¨å†Œâ€æŒ‰é’®ã€‚

[![](../Images/4b2c6d6f9400e5f4d9ecf9f9b51fc1fb.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--xIklvNV9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image8-2.png%3Fw%3D1024%26h%3D1024)

**ç¬¬äºŒæ­¥:**

ç‚¹å‡»â€œæŸ¥çœ‹ä»ªè¡¨æ¿â€ï¼Œå¦‚ä¸‹å›¾ä¸­çªå‡ºæ˜¾ç¤ºçš„ã€‚æˆ–è€…ï¼Œå…ˆç©ç© APIã€‚ğŸ˜€

[![](../Images/7b6200701acb6757f913a3b6ab4639e9.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--kGJrtYXx--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image18.png%3Fw%3D1024%26h%3D1024)

**ç¬¬ä¸‰æ­¥:**

ç‚¹å‡»â€œåˆ›å»ºåº”ç”¨â€å¹¶å¡«å†™è¯¦ç»†ä¿¡æ¯ã€‚è¯·æ³¨æ„ï¼Œåº”ç”¨ç¨‹åºåç§°**å¿…é¡»æ˜¯å…¨çƒå”¯ä¸€çš„**â€”â€”æˆ‘å»ºè®®ç”¨æ‚¨çš„åå­—ä½œä¸ºå‰ç¼€ï¼Œå› ä¸ºè¿™å°†æ˜¯ä¸€ä¸ªæµ‹è¯•é¡¹ç›®ã€‚

[![](../Images/3457632acd205603b80e625c4619096f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--CDTWF47c--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image6-2.png%3Fw%3D1024%26h%3D1024)

**ç¬¬å››æ­¥**:

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ Stream ä¸­é…ç½®æˆ‘ä»¬çš„"[æè¦ç»„](https://getstream.io/docs/#creating-feeds)ã€‚æ‰€éœ€çš„è¿›ç»™ç»„ä½äº [GitHub](https://github.com/getstream/winds#create-your-stream-feed-groups) ä¸Šã€‚

1.  **æ’­å®¢**(å¹³)
2.  **rss** (å¹³é¢)
3.  **ç”¨æˆ·**(å¹³æ¿)
4.  **æ—¶é—´è½´**(å¹³é¢)
5.  **ç”¨æˆ· _ å‰§é›†**(å¹³)
6.  **ç”¨æˆ· _ æ–‡ç« **(å¹³é¢)

**ç¬¬äº”æ­¥**:

æœ€åï¼Œè®©æˆ‘ä»¬ç»§ç»­è·å– Stream çš„å‡­æ®ã€‚åœ¨æ‚¨åˆ›å»ºçš„æè¦ç»„ä¸‹ï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ä¸€ä¸ªåŒ…å«æ‚¨çš„â€œKeyâ€å’Œâ€œSecretâ€çš„éƒ¨åˆ†ã€‚

è¯·ä¿ç•™è¿™äº›ï¼Œå› ä¸ºæˆ‘ä»¬ç¨ååœ¨è®¾ç½®è¿‡ç¨‹ä¸­ä¼šç”¨åˆ°å®ƒä»¬ã€‚

[![](../Images/2636debce130a2b5324ae7166da9b30d.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--1h8_Qd5V--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image36.png%3Fw%3D1024%26h%3D1024) ä½ è¿˜éœ€è¦è·å–ä½äºé¡µé¢é¡¶éƒ¨çš„â€œåº”ç”¨ IDâ€ã€‚

[![](../Images/cc956165a8a03cd13526c27c6bcd216f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--CauQtQ8s--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image4-4.png%3Fw%3D1024%26h%3D1024)

Stream åˆ°æ­¤ä¸ºæ­¢ï¼

### [](#3-algolia-10-minutes)3ã€‚é˜¿å°”æˆˆåˆ©äºšè¯­(çº¦ 10 åˆ†é’Ÿ)

é˜¿å°”æˆˆåˆ©äºšèƒ½æºæœç´¢é£ã€‚è¿™æ˜¯åº”ç”¨ç¨‹åºçš„ä¸€é¡¹å…³é”®æŠ€æœ¯ï¼Œåœ¨ç”¨æˆ·ä½“éªŒä¸­æ‰®æ¼”ç€é‡è¦è§’è‰²ã€‚**ç¬¬ä¸€æ­¥** : Algolia è¶…çº§å®¹æ˜“è®¾ç½®ï¼›æˆ‘ä»¬åªéœ€è¦å»ä»–ä»¬çš„[ç½‘ç«™](https://www.algolia.com/users/sign_up)åˆ›å»ºä¸€ä¸ªè´¦æˆ·ã€‚

[![](../Images/d6cc48514e80ddf6f64995dc44242e72.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--YGUtz-Sj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image12-1.png%3Fw%3D1024%26h%3D1024)

**ç¬¬äºŒæ­¥:**

æ¥ä¸‹æ¥ï¼Œå¡«å†™ Algolia æ‰€éœ€çš„ä¿¡æ¯ã€‚

[![](../Images/fb3db9b40943f840177be5334fde5037.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--QTjkUSUG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image22.png%3Fw%3D1024%26h%3D1024)

**ç¬¬ä¸‰æ­¥**:

é€‰æ‹©æ‚¨çš„æ•°æ®ä¸­å¿ƒã€‚å‡ºäºæœ¬æ•™ç¨‹çš„ç›®çš„ï¼Œè¿™æ— å…³ç´§è¦ï¼›ä½†æ˜¯ï¼Œæˆ‘å°†é€‰æ‹©ç¦»æˆ‘æœ€è¿‘çš„ç¾å›½ä¸­éƒ¨ã€‚

[![](../Images/073625bd72d05d66964549f48f322f8f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--qUbcX4Ik--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image32.png%3Fw%3D1024%26h%3D1024)

**ç¬¬å››æ­¥**:

é€‰æ‹©â€œå…¶ä»–â€ä½œä¸ºæ‚¨æ­£åœ¨æ„å»ºçš„åº”ç”¨ç¨‹åºçš„ç±»å‹ï¼Œå¹¶åœ¨ä¸‹æ‹‰åˆ—è¡¨ä¸­é€‰æ‹©â€œå°½å¿«â€ã€‚ç„¶åç‚¹å‡»â€œå®Œæˆâ€ç»“æŸã€‚

[![](../Images/f7dc9683e68f823008ccc486a065cad8.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--AbdpgAmI--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image9-2.png%3Fw%3D1024%26h%3D1024)

**ç¬¬äº”æ­¥**:

è¿™ä¸ªè¿‡ç¨‹çš„ä¸‹ä¸€æ­¥æ˜¯åˆ›å»ºä¸€ä¸ªç´¢å¼•ï¼Œæ‰€æœ‰çš„ Winds å¯æœç´¢æ•°æ®éƒ½å°†å­˜å‚¨åœ¨è¿™ä¸ªç´¢å¼•ä¸­ã€‚è¦ç»•è¿‡å…¥èŒæµç¨‹ï¼Œè¯·é€šè¿‡æ­¤é“¾æ¥ç›´æ¥è¿›å…¥ä»ªè¡¨æ¿[ã€‚ç„¶åç‚¹å‡»å·¦æ ä¸­çš„â€œç´¢å¼•â€æŒ‰é’®ã€‚é¡µé¢åŠ è½½åï¼Œå•å‡»â€œæ·»åŠ æ–°ç´¢å¼•â€æŒ‰é’®ç”Ÿæˆä¸€ä¸ªç´¢å¼•ã€‚éšä¾¿ä½ æ€ä¹ˆå‘½åï¼Œä½†æ˜¯ä¸€å®šè¦å†™ä¸‹ä½ çš„ç´¢å¼•çš„åå­—ã€‚æˆ‘è¦æŠŠæˆ‘çš„å‘½åä¸ºâ€œdev_Windsâ€ã€‚](https://www.algolia.com/dashboard)

[![](../Images/6534b477b0bd3653512e5281c206ceb4.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--XpyznBek--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image28.png%3Fw%3D1024%26h%3D1024)

**ç¬¬å…­æ­¥**:

è¯¥è¿‡ç¨‹çš„æœ€åä¸€æ­¥æ˜¯è·å–æˆ‘ä»¬çš„â€œåº”ç”¨ç¨‹åºåç§°â€ã€â€œä»…æœç´¢ API å¯†é’¥â€å’Œâ€œç®¡ç† API å¯†é’¥â€ã€‚ä¸¤è€…éƒ½å¯ä»¥åœ¨é¡µé¢å³ä¾§â€œAPI å¯†é’¥â€éƒ¨åˆ†çš„â€œAPI å¯†é’¥â€ä¸‹æ‰¾åˆ°ã€‚è¯·å°†è¿™äº›å‡­æ®æ”¾åœ¨æ‰‹è¾¹ï¼Œä»¥ä¾¿ä»¥ååœ¨è®¾ç½®è¿‡ç¨‹ä¸­ä½¿ç”¨ã€‚

[![](../Images/d35af11758c9d7d28a8f9215fadb4089.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--YXK38yfe--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image27.png%3Fw%3D1024%26h%3D1024)

### [](#4-sentry-2-minutes)4ã€‚å“¨å…µ(~2 åˆ†é’Ÿ)

å“¨å…µæ˜¯æˆ‘ä»¬å·¥å…·ç®±ä¸­å¦ä¸€ä¸ªæœ€é‡è¦çš„å·¥å…·ã€‚Sentry æ•è·åç«¯ API ä¸­å‡ºç°çš„é”™è¯¯ï¼Œå…è®¸æˆ‘ä»¬åœ¨ç”¨æˆ·çŸ¥é“ä¹‹å‰å°±è¿›è¡Œé”™è¯¯ä¿®å¤ã€‚

**ç¬¬ä¸€æ­¥**:

åœ¨è¿™é‡Œåˆ›å»ºä¸€ä¸ªæ–°è´¦æˆ·[ã€‚](https://sentry.io/signup/)

[![](../Images/65d03a8aeb0ee635c707f8d7475f74d7.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--6DTkIvHZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image25.png%3Fw%3D1024%26h%3D1024)

**ç¬¬äºŒæ­¥**:ç»™ä½ çš„é¡¹ç›®èµ·ä¸ªåå­—ã€‚æˆ‘æŠŠæˆ‘çš„å«åšâ€œé£â€,å› ä¸ºæˆ‘ä»¬æ­£åœ¨åšé£çš„é¡¹ç›®ã€‚ğŸ˜€

[![](../Images/327a78706df8089ac013f75ce80f9612.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--loxYtfuj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image13.png%3Fw%3D1024%26h%3D1024)

å•å‡»â€œåˆ›å»ºé¡¹ç›®â€,æ‚¨å°†è¢«é‡å®šå‘ã€‚

**ç¬¬ä¸‰æ­¥**:

é€šè¿‡å•å‡»â€œå·²ç»è®¾ç½®å¥½äº†å—ï¼Ÿè·å–æ‚¨çš„ DSNã€‚â€

[![](../Images/5658ca565756de92b037db2191d70aa6.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--b_PG93pD--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image29.png%3Fw%3D1024%26h%3D1024)

å¤åˆ¶è¿™ä¸ªå€¼ï¼Œå› ä¸ºæˆ‘ä»¬å°†åœ¨æ¥ä¸‹æ¥çš„éƒ¨åˆ†ä¸­ç”¨åˆ°å®ƒã€‚

# [](#cloning-the-repo)å…‹éš†å›è´­ğŸ“€

è¦å¼€å§‹ä¸‹ä¸€æ­¥ï¼Œæ‚¨éœ€è¦ä» GitHub å…‹éš†å­˜å‚¨åº“ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å®Œæˆæ­¤æ“ä½œ:

`git clone git@github.com:GetStream/Winds.git`

å¤ªå¥½äº†ï¼ç°åœ¨æ‚¨å·²ç»å…‹éš†äº† repoï¼Œè®©æˆ‘ä»¬ç»§ç»­ç”¨ yarn å®‰è£…æ‰€éœ€çš„ä¾èµ–é¡¹ã€‚

## [](#winds-api)é£ API

æ‚¨å°†å¸Œæœ›è¿›å…¥ **/api** ç›®å½•ï¼Œå¹¶è¿è¡Œ **yarn** å‘½ä»¤ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå°ç‰‡æ®µå¯ä»¥å¸®åŠ©ä½ :

`cd winds/api && yarn install`

[![](../Images/fe78df6a907f8f18fb0f8a7ccac5cfc8.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--E-B22EyQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image42.png%3Fw%3D1024%26h%3D1024)

## [](#winds-app)å¤§é£ App

å‡è®¾æ‚¨åœ¨ **/api** ç›®å½•ä¸­ï¼Œæ‚¨å¯ä»¥ç§»å‡ºå¹¶ç§»å…¥ **/app** ç›®å½•æ¥è¿›è¡Œ yarn å®‰è£…ã€‚

`cd ../app && yarn install`

> **æ³¨æ„** : API å’Œ App æœ‰å•ç‹¬çš„ package.json æ–‡ä»¶ã€‚è™½ç„¶è¿™å¯èƒ½ä¼šä»¤äººå›°æƒ‘ï¼Œä½†è¿™æ˜¯å¿…è¦çš„ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸ä¼šè†¨èƒ€æ¯ä¸ªç›®å½•â€”â€”å³ä½¿å®ƒä»¬åœ¨åŒä¸€ä¸ªå­˜å‚¨åº“ä¸­ï¼Œç›®å½•ä¹Ÿæ˜¯ä½œä¸ºå•ç‹¬çš„åº”ç”¨ç¨‹åºéƒ¨ç½²çš„ã€‚

[![](../Images/556550af202ca077158f59cb3b0b0ae5.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--tiV4Rmfq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image24.png%3Fw%3D1024%26h%3D1024)

# [](#the-build)æ‰“é€ 

åœ¨æˆ‘ä»¬ç»§ç»­ä¹‹å‰ï¼Œæˆ‘æƒ³èŠ±ç‚¹æ—¶é—´è®¨è®ºä¸€ä¸‹è¿™ä¸ªç½‘ç«™çš„å‰ç«¯å’Œåç«¯ç»“æ„ã€‚å¯¹äºä»»ä½•åº”ç”¨ç¨‹åºï¼Œç†è§£å…¶èƒŒåçš„æ¶æ„å’Œæ€ç»´è¿‡ç¨‹æ˜¯éå¸¸é‡è¦çš„ã€‚

## [](#winds-frontend)é£å‰ç«¯

Winds çš„å‰ç«¯éƒ¨åˆ†éå¸¸ç®€å•ã€‚æˆ‘ä»¬ä½¿ç”¨ Create React App (CRA)æ¥å¼•å¯¼åº”ç”¨ç¨‹åºï¼Œç„¶åå¼€å§‹å¼€å‘è¿‡ç¨‹ã€‚å‰ç«¯ä»£ç å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°:[https://github.com/GetStream/Winds/tree/master/app](https://github.com/GetStream/Winds/tree/master/app)

## [](#winds-backend)å¤§é£åç«¯

åç«¯ API æ¯”å‰ç«¯ç¨å¾®å¤æ‚ä¸€äº›ã€‚é™¤äº†ç”± Node.js æä¾›æ”¯æŒä¹‹å¤–ï¼Œåç«¯è¿˜å¤„ç†å‡ ä¹æ‰€æœ‰çš„ä¸šåŠ¡é€»è¾‘â€”â€”ä¸ç¬¬ä¸‰æ–¹æœåŠ¡é€šä¿¡ï¼Œåè°ƒå·¥ä½œäººå‘˜è§£æ RSSã€æ’­å®¢å’Œå¼€æ”¾å›¾å½¢æ•°æ®ç­‰ã€‚åç«¯å¯ä»¥çœ‹è¿™é‡Œ:[https://github.com/GetStream/Winds/tree/master/api](https://github.com/GetStream/Winds/tree/master/api)ã€‚

### [](#es6-standards)ES6 æ ‡å‡†

æˆ‘ä»¬ä½¿ç”¨çš„å‡ ä¹æ‰€æœ‰ä»£ç éƒ½æ˜¯ç”¨ ES6 ç¼–å†™çš„ã€‚è¿™å…è®¸æˆ‘ä»¬åœ¨ä¿æŒä»£ç å¯è¯»çš„åŒæ—¶ä¿æŒè¾ƒå°çš„å†…å­˜å ç”¨ã€‚

### [](#api-routes)API è·¯çº¿

è·¯çº¿ç›¸å½“ç®€å•ã€‚é¡¾åæ€ä¹‰ï¼Œå®ƒä»¬å°†è¯·æ±‚è·¯ç”±åˆ°æœŸæœ›çš„ç›®çš„åœ°ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€çŸ­çš„è·¯ç”±æ–‡ä»¶ç¤ºä¾‹:

```
import Playlist from '../controllers/playlist';
import { wrapAsync } from '../utils/controllers';

module.exports = api => {
    api.route('/playlists').get(wrapAsync(Playlist.list));
    api.route('/playlists/:playlistId').get(wrapAsync(Playlist.get));
    api.route('/playlists').post(wrapAsync(Playlist.post));
    api.route('/playlists/:playlistId').put(wrapAsync(Playlist.put));
    api.route('/playlists/:playlistId').delete(wrapAsync(Playlist.delete));
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> **æ³¨æ„**:è¯¥è·¯çº¿è¢«åŒ…è£…åœ¨ä¸€ä¸ª **wrapAsync()** å‡½æ•°ä¸­ã€‚è¿™ä¸ªå‡½æ•°æ•è·ä»»ä½•å†’æ³¡çš„é”™è¯¯ï¼Œå¹¶å°†å®ƒä»¬å‘é€ç»™ Sentryã€‚

[![](../Images/a491ba3ae5bcdac1afaa2c271cf82842.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ONve5bDe--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image14.png%3Fw%3D1024%26h%3D1024)

### [](#api-controllers)API æ§åˆ¶å™¨

æ§åˆ¶å™¨ç”±è·¯ç”±æ–‡ä»¶è°ƒç”¨ï¼ŒåŒ…å« API ä¸­çš„å¤§éƒ¨åˆ†(å¦‚æœä¸æ˜¯å…¨éƒ¨)ä¸šåŠ¡é€»è¾‘ã€‚æ§åˆ¶å™¨ä¸æ¨¡å‹é€šä¿¡ï¼Œè¿™å…è®¸å®ƒä»¬ä¸æ•°æ®åº“å¯¹è¯ã€‚

[![](../Images/acd9d836e28bffe42c8c8e55c4f75201.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--rdUrmmzS--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image16.png%3Fw%3D1024%26h%3D1024)

### [](#api-models)API å‹å·

æœ¬è´¨ä¸Šï¼Œæ¨¡å‹æ˜¯ API çš„æ ¸å¿ƒåŸºç¡€ã€‚å®ƒä»¬é€šè¿‡å®æ–½æ‰€è°“çš„â€œæ¨¡å¼â€æ¥æä¾›åç«¯æ•°æ®å­˜å‚¨(MongoDB)çš„ç»“æ„ã€‚

æ¨¡å¼åŒ…å«å„ç§ç±»å‹ï¼Œå¦‚â€œå­—ç¬¦ä¸²â€ã€â€œå¸ƒå°”â€ç­‰ã€‚ä¸‹é¢æ˜¯æˆ‘ä»¬çš„ç”¨æˆ·æ¨¡å¼çš„ä¸€ä¸ªç®€çŸ­ç¤ºä¾‹(ä¸ºäº†ç¼©çŸ­ç¤ºä¾‹ï¼Œæˆ‘åˆ é™¤äº†ä¸€äº›åŠ©æ‰‹å‡½æ•°ï¼Œæ‰€ä»¥è¯·åŠ¡å¿…æŸ¥çœ‹ä»£ç ):

```
import mongoose, { Schema } from 'mongoose';
import bcrypt from 'mongoose-bcrypt';
import timestamps from 'mongoose-timestamp';
import mongooseStringQuery from 'mongoose-string-query';

import FollowSchema from './follow';
import PinSchema from './pin';
import ListenSchema from './listen';

import PlaylistSchema from './playlist';
import jwt from 'jsonwebtoken';
import config from '../config';
import gravatar from 'gravatar';
import { getStreamClient } from '../utils/stream';

export const UserSchema = new Schema({
    email: {
        type: String,
        lowercase: true,
        trim: true,
        index: true,
        unique: true,
        required: true
    },
    username: {
        type: String,
        lowercase: true,
        trim: true,
        index: true,
        unique: true,
        required: true
    },
    password: {
        type: String,
        required: true,
        bcrypt: true
    },
    name: {
        type: String,
        trim: true,
        required: true
    },
    bio: {
        type: String,
        trim: true,
        default: ''
    },
    url: {
        type: String,
        trim: true,
        default: ''
    },
    twitter: {
        type: String,
        trim: true,
        default: ''
    },
    background: {
        type: Number,
        default: 1
    },
    interests: {
        type: Schema.Types.Mixed,
        default: []
    },
    preferences: {
        notifications: {
            daily: {
                type: Boolean,
                default: false
            },
            weekly: {
                type: Boolean,
                default: true
            },
            follows: {
                type: Boolean,
                default: true
            }
        }
    },
    recoveryCode: {
        type: String,
        trim: true,
        default: ''
    },
    active: {
        type: Boolean,
        default: true
    },
    admin: {
        type: Boolean,
        default: false
    }
});

UserSchema.plugin(bcrypt);
UserSchema.plugin(timestamps, {
    createdAt: { index: true },
    updatedAt: { index: true }
});
UserSchema.plugin(mongooseStringQuery);

UserSchema.index({ email: 1, username: 1 });

module.exports = exports = mongoose.model('User', UserSchema); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¦è·å¾—æ¨¡å¼ç±»å‹çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·çœ‹ä¸€ä¸‹[mongose ç½‘ç«™](http://mongoosejs.com/docs/schematypes.html)ã€‚

[![](../Images/ac6a39a8daeb86445547103497658cbb.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--XQPzeYiz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image40.png%3Fw%3D1024%26h%3D1024)

### [](#api-workers)API å·¥äºº

å·¥äººæ‰§è¡Œéå¸¸ç‰¹æ®Šçš„ä»»åŠ¡ï¼Œå¦åˆ™ä¼šé˜»å¡è¿›ç¨‹ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸“é—¨çš„ä»»åŠ¡æ¥å¤„ç† RSS æè¦ã€æ’­å®¢æè¦ã€æ‰“å¼€çš„å›¾å½¢å›¾åƒç­‰ç­‰ã€‚å¦‚æœæ²¡æœ‰é’ˆå¯¹è¿™äº›ä»»åŠ¡çš„ä¸“ç”¨æµç¨‹ï¼Œæˆ‘ä»¬çš„ API å°†å¾ˆå¿«åœæ­¢ï¼Œç”¨æˆ·å°†æ— æ³•åŠæ—¶æ”¶åˆ°å“åº”æ¶ˆæ¯â€”â€”API å¯èƒ½ä¼šè¶…æ—¶ã€‚

æˆ‘ä»¬çš„å·¥ä½œäººå‘˜ä½¿ç”¨ [Bull Queue](https://github.com/OptimalBits/bull) ï¼Œè¿™æ˜¯ Redis çš„æ’é˜ŸåŸºç¡€è®¾æ–½ã€‚åŸºæœ¬ä¸Šï¼Œæˆ‘ä»¬çš„ API ä½¿ç”¨ Bull Node.js åº“æ’å…¥ä¸€ä¸ªå¯¹ Redis çš„è°ƒç”¨ï¼Œç„¶åæˆ‘ä»¬çš„å·¥äººæ‹¾å–ä½œä¸šå¹¶å¼‚æ­¥å¤„ç†å®ƒã€‚

ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯æ¥è‡ª **Podcast.js æ§åˆ¶å™¨**çš„ä»£ç ï¼Œå®ƒåœ¨ç”¨æˆ·å°†ä¸€ä¸ªæ’­å®¢æ·»åŠ åˆ°ç³»ç»Ÿåæ·»åŠ è¯¥æ’­å®¢(æ³¨æ„æˆ‘ä»¬æ˜¯å¦‚ä½•æ·»åŠ é«˜ä¼˜å…ˆçº§ 1 çš„):

```
let scrapingPromise = PodcastQueueAdd(
    {
        podcast: p._id,
        url: p.feedUrl,
    },
    {
        priority: 1,
        removeOnComplete: true,
        removeOnFail: true,
    },
); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä»é‚£é‡Œï¼Œæ¥ä¸‹æ¥çš„äº‹æƒ…å‘ç”Ÿäº†:

1.  [æŒ‡æŒ¥](https://github.com/GetStream/Winds/blob/master/api/src/workers/conductor.js)æ‹¾å–éœ€è¦å¤„ç†çš„ä»»åŠ¡
2.  é€šçŸ¥æ–‡ä»¶ [podcast.js](https://github.com/GetStream/Winds/blob/master/api/src/workers/podcast.js) å®ƒæœ‰å·¥ä½œè¦åš(å¤„ç†ä¼ å…¥çš„å·¥ä½œ)
3.  æ•°æ®åº“ä¸­å……æ»¡äº†å·²å¡«å……çš„å‰§é›†
4.  é€šçŸ¥ç”¨æˆ·æœ‰æ–°çš„æ’­å®¢å¯ç”¨

[![](../Images/246dfa5ef2df9b1a7d59a8ca243daca2.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--C-Jvzp3C--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image10-2.png%3Fw%3D1024%26h%3D1024)

### [](#cli-commands)CLI å‘½ä»¤

commands ç›®å½•ä¿å­˜äº†ç‰¹å®š Winds ç›¸å…³ä»»åŠ¡çš„ä»£ç â€”â€”è¿™æ˜¯ Winds API çš„ä¸€ä¸ªç®€å•è€Œå¼ºå¤§çš„ CLI åœ¨æ‚¨éœ€è¦è°ƒè¯• RSS æè¦æ—¶å°¤å…¶æœ‰ç”¨ã€‚å¦‚æœä½ æ„Ÿå…´è¶£ï¼Œè¿™é‡Œçš„åˆ—å‡ºäº†å…¥é—¨æŒ‡å—å’Œæ‰€æœ‰å‘½ä»¤ã€‚

è¿è¡Œ**winds RSS[https://techcrunch.com/feed/](https://techcrunch.com/feed/)T3ã€‘çš„è¾“å‡ºç¤ºä¾‹:**

[![](../Images/38a0195f85578a9db63d87e62e650511.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--x4HHDrSa--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image33.png%3Fw%3D1024%26h%3D1024)

### [](#api-tests)API æµ‹è¯•

è€ƒè¯•æ˜¯ç”¨æ‘©å¡å’ŒæŸ´å†™çš„ã€‚æ¬¢è¿æ‚¨åœ¨ä»»ä½•æ—¶å€™è¿è¡Œæµ‹è¯•å¥—ä»¶(æ‰¾åˆ°éœ€è¦ä¿®å¤çš„ä¸œè¥¿ä¹Ÿæ— å¦¨)ã€‚ç›®å‰ï¼Œåªæœ‰ Workers å’Œ API æœ‰è¦†ç›–ç‡â€”â€”æˆ‘ä»¬ä»åœ¨åŠªåŠ›è¾¾åˆ° 100%çš„ç›®æ ‡ï¼›ç„¶è€Œï¼Œjest çš„å‰ç«¯è¦†ç›–å°†å¾ˆå¿«åˆ°æ¥ï¼

[![](../Images/56ce2ccd34acf76c208f2efc6f8fbe4e.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--4UC-_Pyz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image3-5.png%3Fw%3D1024%26h%3D1024)

# [](#winds-env)é£æŠ•ç¯å¢ƒğŸŒªï¸

æœ‰ä¸¤ä¸ªåœ°æ–¹éœ€è¦ä¸€ä¸ª. env ( [dotenv](https://www.npmjs.com/package/dotenv) )æ–‡ä»¶æ¥è¿è¡Œåº”ç”¨ç¨‹åº: **/app/ã€‚env** ä»¥åŠ **/api/tests** (å‡è®¾æ‚¨å°†è¦ç¼–å†™æµ‹è¯•)ã€‚ä½ éœ€è¦åˆ›å»ºä¸€ä¸ª**ã€‚env** æ–‡ä»¶æ”¾åœ¨ **/app** ä¸­ï¼Œä»¥ä¾¿åº”ç”¨ç¨‹åºå·¥ä½œã€‚è¿™é‡Œæœ‰ä¸€ä¸ªæ ·æ¿**ã€‚env** æ–‡ä»¶å¸®åŠ©æ‚¨å¼€å§‹:

```
DATABASE_URI=mongodb://localhost/WINDS # This value can remain as is
CACHE_URI=redis://localhost:6379 # This value can remain as is
JWT_SECRET=YOUR_JWT_SECRET # This should be a 256-bit random string. You can generate one here: https://randomkeygen.com/

API_PORT=8080 # This can remain as is
REACT_APP_API_ENDPOINT=http://localhost:8080 # This can remain as is, unless you're hosting on a server
STREAM_API_BASE_URL=https://windspersonalization.getstream.io/personalization/v1.0 # This can remain as is

STREAM_APP_ID=YOUR_STREAM_APP_ID # This should be the saved value that you wrote down earlier
REACT_APP_STREAM_APP_ID=YOUR_STREAM_APP_ID # this needs to be included twice, once for the backend, and once for the frontend to make realtime connections directly to Stream
STREAM_API_KEY=YOUR_STREAM_API_KEY # This should be the saved value that you wrote down earlier
STREAM_API_SECRET=YOUR_STREAM_API_SECRET # This should be the saved value that you wrote down earlier

REACT_APP_ALGOLIA_APP_ID=YOUR_ALGOLIA_APP_ID # This should be the saved value that you wrote down earlier
REACT_APP_ALGOLIA_SEARCH_KEY=YOUR_ALGOLIA_SEARCH_ONLY_API_KEY # This should be the saved value that you wrote down earlier
ALGOLIA_WRITE_KEY=YOUR_ALGOLIA_ADMIN_API_KEY # This should be the saved value that you wrote down earlier

MERCURY_KEY=YOUR_KEY_HERE # This should be the saved value that you wrote down earlier 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> **æ³¨æ„äº‹é¡¹**:åœ¨çº¿æ³¨æ„äº‹é¡¹æœ‰åŠ©äºæŒ‡å¯¼æ‚¨å®Œæˆçš„è®¾ç½®ã€‚ç¯å¢ƒæ–‡ä»¶

# [](#running-pm2)å¥”è·‘çš„ PM2ğŸƒ

PM2 æ˜¯ä¸€åæµç¨‹ç»ç†ï¼Œæˆ‘ä»¬åœ¨é£èƒ½é¢†åŸŸå¹¿æ³›ä½¿ç”¨å®ƒã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„å·¥å…·ï¼Œæˆ‘ä»¬æ˜¯è¿™ä¸ªé¡¹ç›®çš„å¿ å®ç²‰ä¸ï¼Œä¹Ÿæ˜¯ç»´æŠ¤è€…ã€‚å¦‚æœå‡ºç°é”™è¯¯ï¼Œä»–ä»¬ä¼šè¿…é€Ÿåšå‡ºååº”ï¼Œè€Œä¸”æœ€é‡è¦çš„æ˜¯ï¼Œå®ƒå¯¹æˆ‘ä»¬éœ€è¦åšçš„äº‹æƒ…éå¸¸æœ‰æ•ˆã€‚

Node.js çš„è®¾è®¡æ˜¯å•çº¿ç¨‹çš„ã€‚è¿™æœ‰å¥½æœ‰åâ€”â€”é€Ÿåº¦æå¿«ï¼Œä½†åœ¨ç»™å®šæ—¶é—´å†…åªèƒ½è¿›è¡Œä¸€æ¬¡ I/O æ“ä½œã€‚åœ¨å¹•åï¼ŒPM2 ä½¿ç”¨ Node.js é›†ç¾¤æ¨¡å—ï¼Œä»¥ä¾¿æ‰©å±•åº”ç”¨ç¨‹åºçš„å­è¿›ç¨‹å¯ä»¥è‡ªåŠ¨å…±äº«æœåŠ¡å™¨ç«¯å£ã€‚é›†ç¾¤æ¨¡å¼å…è®¸è”ç½‘çš„ Node.js åº”ç”¨ç¨‹åºè·¨æ‰€æœ‰å¯ç”¨çš„ CPU è¿›è¡Œæ‰©å±•ï¼Œè€Œæ— éœ€ä¿®æ”¹ä»»ä½•ä»£ç ã€‚è¿™æå¤§åœ°æé«˜äº†åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œå¯é æ€§ï¼Œå…·ä½“å–å†³äºå¯ç”¨çš„ CPU æ•°é‡ã€‚

å¦‚æœä½ æ‰“ç®—åœ¨ Winds ä¸Šå¼€å‘ï¼Œæˆ–è€…å¦‚æœä½ æ‰“ç®—åœ¨è‡ªå·±çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ PM2ï¼Œæˆ‘å»ºè®®ä½ å­¦ä¹ ä¸€ä¸‹ PM2 çš„å‘½ä»¤ã€‚è€å®è¯´ï¼Œæœ€å¥½çš„åŠŸèƒ½æ˜¯å†…ç½®çš„ **watch** å‘½ä»¤â€”â€”å®ƒä¼šè‡ªåŠ¨è§‚å¯Ÿå˜åŒ–ï¼Œå¹¶åœ¨å¿…è¦æ—¶é‡æ–°åŠ è½½åº”ç”¨ç¨‹åºã€‚*è¿™é‡Œæ˜¯æˆ‘æ—¥å¸¸ä½¿ç”¨çš„å‡ ä¸ªå‘½ä»¤*:

*   **pm2 å¯åŠ¨ process_dev.json(é€šè¿‡ process_dev.json æ–‡ä»¶ä¸­è®¾ç½®çš„å‘½ä»¤å¯åŠ¨è¿›ç¨‹)**
*   **pm2 åˆ—è¡¨(åˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹)**
*   **pm2 é‡å¯æ‰€æœ‰**(é‡å¯ pm2 ç®¡ç†çš„æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹)
*   **pm2 æ—¥å¿—**(è·Ÿè¸ªå„ä¸ªè¿›ç¨‹æ­£åœ¨åå‡ºçš„æ—¥å¿—)

> **æ³¨æ„**:ä½¿ç”¨ ctrl+c é€€å‡ºæ‹–å°¾æ—¥å¿—ã€‚

# [](#lets-get-started)æˆ‘ä»¬å¼€å§‹å§ğŸ‘¯

ä½ å·²ç»èµ°åˆ°è¿™ä¸€æ­¥äº†ã€‚æ­å–œä½ ï¼å®‰è£…äº†æ‰€æœ‰ä¾èµ–é¡¹ï¼Œå…‹éš†äº† repoï¼Œæ‚¨çš„ã€‚env è®¾ç½®å¥½äº†â€¦æˆ‘ä»¬å‡†å¤‡å¥½äº†ï¼

## [](#create-a-new-branch)åˆ›å»ºæ–°çš„åˆ†æ”¯

åœ¨æ‚¨çš„å·¥ä½œç›®å½•ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªåä¸ºâ€œfeatureâ€çš„æ–°åˆ†æ”¯ã€‚å¦‚æœä½ éœ€è¦ï¼Œè¿™é‡Œæœ‰å®ƒçš„ä»£ç :

`git checkout -b feature`

## [](#start-mongodb)å¯åŠ¨ MongoDB

ç°åœ¨æ‚¨å·²ç»å°†ä»£ç å…‹éš†åˆ°äº†æ‚¨çš„æœºå™¨ä¸Šï¼Œè®©æˆ‘ä»¬ç»§ç»­è®© MongoDB å¯åŠ¨å¹¶è¿è¡Œã€‚æ‚¨å¯ä»¥åœ¨å•ç‹¬çš„ç»ˆç«¯ä¸­ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ã€‚

`brew services start mongodb`

> æ³¨æ„:å¦‚æœä½ æ­£åœ¨ä¸º MongoDB å¯»æ‰¾ä¸€ä¸ªåƒæ ·çš„ GUIï¼Œçœ‹çœ‹ Compass å§ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œ[ä¸‹è½½](https://www.mongodb.com/products/compass)æˆ–è€…è¿è¡Œ**brew buck å®‰è£… mongodb-compass** ã€‚

[![](../Images/bf43626b28fc5953e16184f444fd3c19.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--yQjWBWHM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image41.png%3Fw%3D1024%26h%3D1024)

## [](#start-redis)å¼€å§‹å†å®¡

ä¸ MongoDB ç±»ä¼¼ï¼Œè®©æˆ‘ä»¬ç»§ç»­è¿è¡Œ Redisã€‚ä¸ºæ­¤ï¼Œæˆ‘å–œæ¬¢ä½¿ç”¨æœ¬æœºå‘½ä»¤(ä»æ‚¨çš„å‘½ä»¤è¡Œ):

`redis-server`

[![](../Images/c03ba192f8a7d553fe2d7ae08d97f5e1.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--QciKmvlD--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image2-4.png%3Fw%3D1024%26h%3D1024) ä¸€æ—¦å¯åŠ¨ï¼Œä½ åº”è¯¥åœ¨ç»ˆç«¯ä¸­çœ‹åˆ° Redis æ ‡å¿—(å¦‚ä¸Šå›¾)ã€‚

## [](#start-the-winds-api-amp-workers)å¯åŠ¨å¤§é£ API &å·¥äºº

MongoDB å’Œ Redis ä¸€èµ·è¿è¡Œã€‚ç°åœ¨æ˜¯èµ·é£äº†ã€‚è½¬åˆ° Winds ç›®å½•çš„æ ¹ç›®å½•ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤:

`pm2 start process_dev.json`

ä¸€æ—¦åº”ç”¨ç¨‹åºå¯åŠ¨ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°ä»¥ä¸‹å†…å®¹:

[![](../Images/cbe70c97cf38d0c41029793b4b3c8575.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Ik9O60A5--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image35.png%3Fw%3D1024%26h%3D1024)

## [](#lets-start-the-winds-ui)è®©æˆ‘ä»¬å¯åŠ¨ Winds UI

å¯¹äº Windsï¼Œæˆ‘ä»¬æä¾›äº†ä¸¤ç§å¯åŠ¨åº”ç”¨ç¨‹åº UI çš„æ–¹æ³•:ç¬¬ä¸€ç§æ–¹æ³•åœ¨ç”µå­åŒ…è£…å™¨ä¸­å¯åŠ¨åº”ç”¨ç¨‹åº:

`cd app && yarn start`

[![](../Images/f790b405afddd2f1d9b392d7c17e02e3.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--zwWY5uJ0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image37.png%3Fw%3D1024%26h%3D1024)

ç¬¬äºŒç§é€‰æ‹©æ˜¯åœ¨ Chrome æµè§ˆå™¨ä¸­å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œè¿™å¯¹äºè°ƒè¯•æ¥è¯´è¦å®¹æ˜“å¾—å¤š:

`cd app && yarn dev`

[![](../Images/4865cc9229c07e2f5e84a2f087f6c355.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--7eqM6Mex--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image38.png%3Fw%3D1024%26h%3D1024)

ä½ å–œæ¬¢å“ªä¸ªå°±éšä¾¿é€‰å§ï¼æˆ‘å°†ä½¿ç”¨æµè§ˆå™¨ç‰ˆæœ¬ï¼Œå› ä¸ºå®ƒæ›´å®¹æ˜“æµè§ˆ DOMï¼Œå¹¶ä¸”é‡æ–°åŠ è½½ä¼¼ä¹æ›´å¿«ã€‚å‘œï¼æ‚¨å·²ç»æˆåŠŸåœ°åœ¨æ‚¨çš„æœºå™¨ä¸Šè®¾ç½®å¹¶å¯åŠ¨äº† Windsï¼ğŸ‰

# [](#adding-a-new-feature)æ·»åŠ æ–°åŠŸèƒ½ğŸ””

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»è®¨è®ºäº†å¾ˆå¤šï¼Œä½†æ˜¯åœ¨å‘å¹³å°æ·»åŠ æ–°åŠŸèƒ½æ—¶ï¼Œè¿˜æ²¡æœ‰å…·ä½“çš„å†…å®¹ã€‚ç”±äºè¿™æ˜¯æˆ‘ä»¬ç¬¬ä¸€æ¬¡å±•ç¤ºå¦‚ä½•æ·»åŠ æ–°åŠŸèƒ½ï¼Œæˆ‘ä»¬å°†ä¿æŒç®€å•â€”â€”æˆ‘ä»¬å°†åœ¨å‰ç«¯æ·»åŠ ä¸€ä¸ªç¤¾äº¤æŒ‰é’®ã€‚åœ¨ç»§ç»­å¼€å‘ä¹‹å‰ï¼Œè¯·é€‰æ‹© 3 ä¸ªæˆ–æ›´å¤šå…´è¶£å¹¶æŒ‰ç…§æŒ‡å¯¼æ­¥éª¤åˆ›å»ºä¸€ä¸ªå¸æˆ·ã€‚

[![](../Images/6a1a7fa526c0f168ed4d0107926c6649.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--dmySSwYA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image31.png%3Fw%3D1024%26h%3D1024)

## [](#blank-state)ç©ºç™½çŠ¶æ€

ç™»å½•æ—¶ä¸è¦æƒŠæ…Œã€‚æ‚¨å°†çœ‹åˆ°ä¸€ä¸ªç›¸å½“ç©ºç™½çš„å±å¹•ï¼Œå› ä¸ºæˆ‘ä»¬å°šæœªæ·»åŠ ä»»ä½•å†…å®¹ã€‚

[![](../Images/1cba6070141d8ee3c6944e6069e8a322.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--BfmKwXg7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image23.png%3Fw%3D1024%26h%3D1024) è¿™å¾ˆå®¹æ˜“ç”¨ OPML æ–‡ä»¶å¯¼å…¥è§£å†³ğŸ˜€ã€‚

[ç‚¹å‡»è¿™é‡Œä¸‹è½½ OPML æ–‡ä»¶](https://s3.amazonaws.com/winds-static/marketing/sample.opml)ï¼Œç„¶åæŒ‰ç…§ä¸‹é¢çš„è¯´æ˜å°†å…¶å¯¼å…¥ Windsã€‚

ç‚¹å‡»â€œæ–°å»ºâ€>â€œæ–°å»º OPMLâ€ï¼Œä¼šå‡ºç°ä¸€ä¸ªå¯¹è¯æ¡†:

[![](../Images/bcdd93c85fbaa5514e859a030276f8ce.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ybK_hI8t--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image21.png%3Fw%3D1024%26h%3D1024)

å¯¹è¯æ¡†å‡ºç°åï¼Œå°†ä¸‹è½½çš„ OPML æ–‡ä»¶æ‹–æ”¾åˆ°æ‹–æ”¾åŒºã€‚

[![](../Images/0ee52d458f1b2e58fa2a17f3193aa4d9.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--oVLp0BrP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image20.png%3Fw%3D1024%26h%3D1024)

ç‚¹å‡»â€œæ·»åŠ  RSSâ€ã€‚é‡æ–°åŠ è½½é¡µé¢ï¼Œä½ åº”è¯¥ä¼šçœ‹åˆ°ä¸€ä¸ªæ–‡ç« åˆ—è¡¨ï¼

[![](../Images/c2c7d031d69c76ea4a830a7759221e78.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--2uFBpNuu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image26-1.png%3Fw%3D1024%26h%3D1024)

å¦‚æœä½ æƒ³çŸ¥é“ä¸ºä»€ä¹ˆâ€œç²¾é€‰é£â€å’Œâ€œå‘ç°â€éƒ¨åˆ†æ˜¯ç©ºçš„ï¼Œæœ‰ä¸¤ä¸ªåŸå› :

1.  Winds ä¸Šçš„ç‰¹æ€§è¦æ±‚ MongoDB æ•°æ®åº“æ ‡å¿—è®¾ç½®ä¸º trueã€‚ä¾‹å¦‚ï¼Œå®ƒå¿…é¡»åœ¨ RSS æè¦æˆ–æ’­å®¢æè¦ä¸Šæ³¨æ˜â€œç‰¹è‰²:çœŸå®â€ã€‚
2.  å‘ç°æ¨èåŠŸèƒ½ç”±æˆ‘ä»¬çš„æœºå™¨å­¦ä¹ æä¾›æ”¯æŒã€‚æœºå™¨å­¦ä¹ éœ€è¦æ—¶é—´ï¼Œå› ä¸ºå®ƒä»ä½ ä¸å†…å®¹çš„äº¤äº’ä¸­å­¦ä¹ ã€‚ä½ ä¸ä½ çš„å†…å®¹äº’åŠ¨å¾—è¶Šå¤šè¶Šå¥½ã€‚

> **æ³¨æ„**:å¯¹äºæœ¬æ•™ç¨‹ï¼Œæ²¡æœ‰å¿…è¦å¯åŠ¨å¹¶è¿è¡Œè¿™ä¸¤ä¸ªç»„ä»¶ã€‚ä½†æ˜¯å¦‚æœæ‚¨æƒ³è¿›è¡Œè¯•éªŒï¼Œæˆ‘å»ºè®®æ‚¨è·³åˆ° MongoDB Compassï¼Œå°† RSS æè¦çš„â€œfeaturedâ€é”®è®¾ç½®ä¸ºå¸ƒå°”å€¼ trueã€‚

## [](#starting-to-code)å¼€å§‹ç¼–ç 

å¦‚å‰æ‰€è¿°ï¼Œæˆ‘ä»¬å°†åœ¨å‰ç«¯æ·»åŠ ä¸€ä¸ªç¤¾äº¤æŒ‰é’®ã€‚å‡ºäºæœ¬ç»ƒä¹ çš„ç›®çš„ï¼Œæˆ‘ä»¬å°†æŠŠå®ƒæ·»åŠ åˆ°é¡¶çº§ RSS æè¦ä¸­ã€‚é¦–å…ˆï¼Œç‚¹å‡» RSS éƒ¨åˆ†æ ‡é¢˜:

[![](../Images/caed0002c74d7632359a2ca5ca177501.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--UHHEAVAj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image19.png%3Fw%3D1024%26h%3D1024)

æ¥ä¸‹æ¥ï¼Œçœ‹çœ‹æ¯ä¸ªå…ƒç´ ã€‚æ³¨æ„åˆ°ä»–ä»¬æ˜¯å¦‚ä½•å°‘äº†ä¸€ä¸ª Twitter æ ‡å¿—çš„å—ï¼Ÿæˆ‘ä»¬è¦åŠ ä¸Šè¿™ä¸€ç‚¹ã€‚

[![](../Images/f7c62a9d825382888fd92dd67379a41c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--xHThTDql--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image17.png%3Fw%3D1024%26h%3D1024)

> **ä¸“ä¸šæç¤º**:æ‰¾åˆ°æ‚¨æƒ³è¦çš„ä¸œè¥¿çš„æœ€ç®€å•çš„æ–¹æ³•æ˜¯æ‰¾åˆ°ç±»åï¼Œç„¶ååœ¨æ‚¨çš„ç¼–è¾‘å™¨ä¸­æœç´¢å®ƒã€‚å¯¹äºè¿™ä¸ªç»„ä»¶ï¼Œæˆ‘ä»¬å°†å¯»æ‰¾ä¸¤ä¸ªç±»â€”â€”â€œfar fa-bookmarkâ€ã€‚

ä½ å¯ä»¥åœ¨ä½ çš„ç¼–è¾‘å™¨ä¸­æœç´¢å®ƒï¼Œæˆ–è€…ä½ å¯ä»¥ç›´æ¥è¿›å…¥â€œapp/src/components/article listitem . jsâ€â€”â€”ç¬¬ 57 è¡Œã€‚

[![](../Images/2370dbc2924161758487b6768043cd00.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--F1wALoBF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image1-5.png%3Fw%3D1024%26h%3D1024) é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åŒ…æ‹¬ä¸€ä¸ªå«åš is çš„æ¨¡å—â€”â€”ç”µå­ã€‚è¿™ä¸ªæ¨¡å—ç¡®ä¿æˆ‘ä»¬åœ¨ web ç¯å¢ƒä¸­åªæ˜¾ç¤ºä¸€ä¸ªå›¾æ ‡(å¹¶ä½¿ç”¨åŠŸèƒ½)ã€‚è½¯ä»¶åŒ…å·²ç»å®‰è£…å¥½äº†ï¼Œæ‚¨åªéœ€è¦å°†å®ƒæ·»åŠ åˆ°æ–‡ä»¶é¡¶éƒ¨çš„å¯¼å…¥ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤º:

`import isElectron from 'is-electron';`

åœ¨ç¬¬ 59 è¡Œå’Œç¬¬ 60 è¡Œçš„ä¹‹é—´ï¼Œæˆ‘ä»¬å°†æ·»åŠ æˆ‘ä»¬çš„ Twitter æŒ‰é’®ï¼

```
{!isElectron() ? (
    <span>
        <a
            href="#"
            onClick={e => {
                e.preventDefault();
                e.stopPropagation();
                this.handleTweet(
                    this.props.title,
                    this.props.url,
                );
            }}
        >
            <i className="fab fa-twitter" />
        </a>
    </span>
) : null} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ·»åŠ ä¸Šé¢çš„ä»£ç ç‰‡æ®µåï¼Œæ‚¨çš„ä»£ç åº”è¯¥å¦‚ä¸‹æ‰€ç¤º:

[![](../Images/41e798b998eadbb866112732ed47ea6b.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--jATiE8D8--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image11-1.png%3Fw%3D1024%26h%3D1024)

æˆ‘ä»¬è°ƒç”¨å‡½æ•° **tweet()** ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ç¡®ä¿æˆ‘ä»¬ä¹Ÿåˆ›å»ºäº†å®ƒã€‚å°±åœ¨ render æ–¹æ³•ä¹‹å‰ï¼Œåˆ›å»ºä¸€ä¸ªåä¸ºâ€œtweetâ€çš„æ–°æ–¹æ³•ã€‚ä½ å¯ä»¥å¤åˆ¶å¹¶ç²˜è´´ä¸‹é¢çš„ä»£ç :

```
tweet(title, url) {
    const getWindowOptions = function() {
        const width = 500;
        const height = 350;
        const left = window.innerWidth / 2 - width / 2;
        const top = window.innerHeight / 2 - height / 2;

        return [
            'resizable,scrollbars,status',
            'height=' + height,
            'width=' + width,
            'left=' + left,
            'top=' + top,
        ].join();
    };

    const shareUrl = `https://twitter.com/intent/tweet?url=${url}&text=${title}&hashtags=Winds`;
    const win = window.open(shareUrl, 'Share on Twitter', getWindowOptions());

    win.opener = null;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[![](../Images/1c1f57a7f0c11a2d22c00adc4c232f6f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ZbjbceqD--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image34.png%3Fw%3D1024%26h%3D1024)

ç°åœ¨ï¼Œè¯•ç€ç‚¹å‡» UI ä¸­çš„ Twitter æ ‡å¿—ã€‚å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°ä¸€ä¸ª Tweet å¯¹è¯æ¡†ï¼Œæ˜¾ç¤ºæ–‡ç« çš„æ ‡é¢˜ï¼Œæ—è¾¹æ˜¯å¸¦æœ‰æ ‡ç­¾ Winds çš„ URLï¼

[![](../Images/92656848a276872a155302f3110ad95f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ssLyFK-k--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://getstream-blog.imgix.net/blog/wp-content/uploads/2018/07/image7-2.png%3Fw%3D1024%26h%3D1024)

å‘œï¼ä½ åˆ›ä½œäº†ä½ çš„ç¬¬ä¸€ä¸ªå…³äºé£çš„ä¸“é¢˜â€”â€”å¸Œæœ›æ˜¯è®¸å¤šä¸“é¢˜ä¸­çš„ä¸€ä¸ªï¼åº†ç¥çš„æ—¶é—´åˆ°äº†ï¼ğŸ¾ğŸ¥‚

å¦‚æœä½ å¯¹è¿™ä¸ªè¿‡ç¨‹ä»ç„¶æœ‰ç‚¹æ¨¡ç³Šï¼Œè¿è¡Œ **git stash** å¹¶å†æ¬¡å°è¯•ã€‚ä¸€ä»¶äº‹å¤šåšå‡ æ¬¡ä¹Ÿæ— å¦¨ğŸ˜‰æ„Ÿè§‰ä½ ä»€ä¹ˆéƒ½æ”¾ä¸‹äº†ï¼Ÿè®©æˆ‘ä»¬çœ‹çœ‹ä¸€äº›ä»£ç ï¼è¿™é‡Œæœ‰ä¸€äº›æƒ³æ³•å¯ä»¥å¸®åŠ©ä½ å¼€å§‹:

*   è„¸ä¹¦å–œæ¬¢çº½æ‰£
*   ä¹¦ç­¾æ”¯æŒ
*   æ”¯æŒ macOS Mojave çš„é»‘æš—æ¨¡å¼
*   å–œæ¬¢(æˆ‘ä»¬çš„ API å·²ç»ä¸ºä»–ä»¬æä¾›äº†æ”¯æŒ)
*   å¸¸è§„ CSS æ¸…ç†
*   å¸¸è§„ JavaScript æ¸…ç†
*   API å’Œå·¥äººçš„æµ‹è¯•è¦†ç›–ç‡

> ***æ³¨*** _:æˆ‘ä»¬è¿˜è˜è¯·äº†ä¸€åå…¨èŒ(åˆåŒ)å¼€å‘äººå‘˜åŠ å…¥å›¢é˜Ÿï¼Œä»äº‹ Winds æ–¹é¢çš„å·¥ä½œã€‚ä½ è®¤ä¸ºä½ æœ‰è¿™ä¸ªèƒ½åŠ›å—ï¼ŸPing æˆ‘ [*è¿™é‡Œ*](//mailto:nick@getstream.io) ç”¨ä½ çš„ LinkedIn ä¸ªäººèµ„æ–™å’Œä½ ä½œä¸ºå”¯ä¸€è´¡çŒ®è€…æ‰€åšçš„ä»»ä½•ç¼–ç å·¥ä½œçš„ä¾‹å­ã€‚

# [](#final-thoughts)æœ€åçš„æƒ³æ³•ğŸ¤”

[Winds](https://getstream.io/winds) æ˜¯*åŒç±»å‹ä¸­æœ€å—æ¬¢è¿çš„* [å¼€æº](https://github.com/getstream/winds)åº”ç”¨â€”â€”æˆ‘ä»¬éå¸¸å…´å¥‹ã€‚macOSã€Linux å’Œ Windows éƒ½æœ‰å…è´¹çš„æ¡Œé¢åº”ç”¨ç¨‹åºï¼Œä¹Ÿæœ‰ç½‘ç»œç‰ˆæœ¬ã€‚è¯¥åº”ç”¨ç¨‹åºå…·æœ‰å‡ é¡¹åŠŸèƒ½ï¼Œç‰¹åˆ«æ˜¯æè¦å’Œä¸ªæ€§åŒ–å†…å®¹æ¨èï¼Œæ‰€æœ‰è¿™äº›éƒ½ç”±åŸºäº API çš„æ–°é—»æè¦ã€æ´»åŠ¨æµå’Œä¸ªæ€§åŒ–æœåŠ¡çš„é¢†å¯¼è€… [Stream](https://getstream.io) æä¾›æ”¯æŒã€‚

è°¢è°¢ä½ ç•™ä¸‹æ¥å­¦ä¹ ä¸€äº›å…³äºé£çš„çŸ¥è¯†ï¼æˆ‘ä»¬å¸Œæœ›åœ¨ä¸ä¹…çš„å°†æ¥çœ‹åˆ°ä½ çš„ä¸€äº›å…¬å…³ï¼

**å¿«ä¹ç¼–ç **ï¼