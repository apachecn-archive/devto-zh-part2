# 我在制作第一个 slack 机器人时学到的。

> 原文：<https://dev.to/bendenger/what-i-learned-building-my-first-slack-bot--2j30>

[![](img/ddd2406e6105e71730ca42f1861a584e.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--r2zq9gCA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/opp6ydfeo7nvntds60v4.png)

我做了一个 slack 机器人，现在它在 slacks 应用程序目录上运行，我意识到我必须面对一些挑战，这是我没有准备好的。

关于我们的应用:
[Olaph](https://olaph.io/) 是一个机器人，它可以帮助你参加你的单口相声(或每天、每周或无论如何在你的公司称之为:)一个快速的会议，团队成员互相更新他们当前的进展或挑战)
你可以创建一个简单的单口相声，在那里你可以定义成员、日期、时间和应该向你的团队提出的问题， [Olaph](https://olaph.io/) 会将这些问题发送给你的团队成员，并将他们的答案广播到指定的频道。我们不会用它来代替我们的日常工作，而是作为一个提醒，让你可以在会议开始前思考你实际上做了什么(当有人不记得他昨天做了什么时，谁不知道思考中断)。
也可以在不打断日常的情况下评论别人的回答。

首先:
slack support 是迄今为止我合作过的最好的，他们反应迅速而准确，给了我一些提示并恰当地使用了反馈，例如:他们更改了文档中一些我觉得令人困惑的地方。

Slack 推荐了一些来自开发者的第三方 SDK，它们为不同的语言构建了包装器，但是没有一个真正适合我们的需求，所以我们从头开始(我们也将发布我们的包装器，但是为了使它开源，我们必须改变和扩展一些东西)

开始非常简单，我们创建了一个 slack 应用程序，注册了我们的端点，并在开发工作区中进行了测试。

当我们处于收尾阶段时，事情开始变得有趣起来。
要将你的应用程序提交到 slack 应用程序目录，你必须用你安装的应用程序&测试用户创建一个新的工作空间，让 slack 访问它。
他们有一份提交清单，其中描述了所有必要的步骤:【https://api.slack.com/docs/slack-apps-checklist】T2。
到目前为止一切顺利，我们点击了提交，检查了所有要点并提交了 [Olaph](https://olaph.io/) 。
几天后，slack-team 有一些我们必须更改的小请求(只是斜杠命令的命名和命令的参数)
然后我们被允许发布我们的应用程序！

说到底，Olaph 是活的，一些工作区安装了 Olaph。第一周很糟糕，到处都是错误，很高兴没有崩溃，但是一些用户不能正确使用 Olaph..
你们中的一些人可能知道这种感觉，你构建了一些东西，试图测试你的代码的每一部分，但是突然什么都不工作了。
然后我犯了第一个错误，我开始抓狂。
“我测试了整个流程，我创建了一个空白的工作区，安装了应用程序，使用了它，我的开发系统上的一切都正常工作，怎么可能会有这么多错误？”
我收到一封来自一位好心女士的邮件，她请求帮助，因为她不能站起来说话。
这让我的心灵平静了一些，实际上有一些用户会寻求帮助，而不是卸载所有东西，永远忽略我的应用程序。

挑战在于 slack 在企业环境中使用时会向您的后端发送不同的数据。有一些额外的/不同的数据，混合的用户 id 和我之前不知道的事情，因为我没有在企业工作区上测试我们的应用程序，当然我没有，我甚至不知道那要花多少钱，因为对于企业来说，你必须联系 slack。

嗯，对公司来说可能很贵(也可能不贵，正如我提到的，我不知道价格)，但我是一名开发人员。我发现您可以为开发人员请求一个企业测试实例。所以我立即要求一个实例..等待。这就是为什么我必须修复我在日志中看到的错误，告诉用户这个错误已经修复，然后等待下一个错误。

大约花了一周的时间，我才建立了我的测试企业，并在那里测试应用程序。在我修复了每个错误并理解了企业工作区是如何工作的之后，我可以发布一个新的版本，我们的用户最终可以正确地使用 Olaph 了。

我在 slack 错过的是一些关于我的应用程序的统计数据和数字，当你将你的应用程序发布到应用程序目录时，你不会得到任何关于点击，安装，卸载，使用斜杠命令的频率等信息。当然，你可以自己收集这些数据，但我必须投入时间来改进或扩展产品。

Slack 有一个公开的[路线图](https://trello.com/b/ZnTQyumQ/slack-platform-roadmap-for-developers),供开发者给出他们当前优先事项的见解，但卡片不是很详细，所以我真的不知道我们是否会得到真实的统计数据和数字，但他们非常活跃，我非常有信心 slack 会给我们工具来改进我们的应用程序。

到目前为止，我真的很喜欢 slack 和他们的 API，我期待着进一步的变化和改进。