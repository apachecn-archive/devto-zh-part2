# å‘å¸ƒäº†æ–°çš„ Travis CI API Go å®¢æˆ·ç«¯ shuheiktgw/go-travis

> åŸæ–‡:[https://dev . to/shuheiktgw/released-new-Travis-ci-API-go-client-shuheiktgwgo-Travis-a11](https://dev.to/shuheiktgw/released-new-travis-ci-api-go-client-shuheiktgwgo-travis-a11)

æˆ‘åˆšåˆšåœ¨ Go ä¸­å‘å¸ƒäº†æ–°çš„ Travis CI API å®¢æˆ·ç«¯ï¼Œåä¸º [shuheiktgw/go-travis](https://github.com/shuheiktgw/go-travis) ï¼Œä¸‹é¢æˆ‘æ¥ä»‹ç»ä¸€ä¸‹æˆ‘ä¸ºä»€ä¹ˆè¦æ„å»ºå®ƒä»¥åŠå¦‚ä½•ä½¿ç”¨å®ƒã€‚

## [](#why-i-started-developing-shuheiktgwgotravis)ä¸ºä»€ä¹ˆæˆ‘å¼€å§‹å¼€å‘ shuheiktgw/go-travis

æœ€åˆï¼Œæˆ‘åªæ˜¯åœ¨ Go ä¸­å¯»æ‰¾ä¸€ä¸ª Travis CI API çš„å®¢æˆ·ç«¯åº“ï¼Œä»¥ä» CI ç¯å¢ƒä¸­è¿›è¡Œæ„å»ºï¼Œå¹¶æ‰¾åˆ°äº† [Ableton/go-travis](https://github.com/Ableton/go-travis) ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™ä¸ªåº“æœ‰ä¸€äº›é—®é¢˜ã€‚

*   å®ƒä¼¼ä¹ä¸å†è¢«ç»´æŠ¤äº†ã€‚
*   å®ƒä½¿ç”¨ API v2ï¼Œæœ€æ–°ç‰ˆæœ¬æ˜¯ v3ã€‚
*   å®ƒä»…æ”¯æŒæœ‰é™æ•°é‡çš„ç«¯ç‚¹ã€‚

ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘åœ¨ Go ä¸­å‘ç°äº† Travis CI API å®¢æˆ·ç«¯é¢†åŸŸçš„ä¸€ä¸ªçœŸç©ºï¼Œæˆ‘ç®€ç›´å…´å¥‹ä¸å·²ï¼Œæˆ‘å¯èƒ½æ˜¯ç¬¬ä¸€ä¸ªå¡«è¡¥å®ƒçš„äººã€‚

æ­¤å¤–ï¼Œæˆ‘ç»å¸¸åœ¨æˆ‘çš„ç§äººé¡¹ç›®ä¸­ä½¿ç”¨ Travis CIï¼Œæ‰€ä»¥æˆ‘è®¤ä¸ºä¸ºä»–ä»¬å»ºç«‹ä¸€ä¸ª Golang å®¢æˆ·ç«¯åº“å¯èƒ½æ˜¯ä¸€ä¸ªå›æŠ¥çš„å¥½æ–¹æ³•ã€‚

è¿™å°±æ˜¯æˆ‘å¦‚ä½•åˆ†å‰ [Ableton/go-travis](https://github.com/Ableton/go-travis) å¹¶å¼€å§‹å¼€å‘ [shuheiktgw/go-travis](https://github.com/shuheiktgw/go-travis) ã€‚

## [](#how-it-works)å·¥ä½œåŸç†

shuheiktgw/go-travis çš„å·¥ä½œæ–¹å¼éå¸¸ç®€å•ã€‚å®ƒçš„å®ç°å¾ˆå¤§ç¨‹åº¦ä¸Šå—åˆ°äº† [google/go-github](https://github.com/google/go-github) çš„å¯å‘(å°±åƒ Ableton/go-travis ä¸€æ ·)ï¼Œæ‰€ä»¥å¦‚æœä½ ç”¨è¿‡ go-githubï¼Œä½ å°±èƒ½ç«‹åˆ»æ˜ç™½å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚

### [](#install)å®‰è£…

```
$ go get github.com/shuheiktgw/go-travis 
```

### [](#usage)ç”¨æ³•

```
client := travis.NewClient(travis.ApiComUrl, "TravisApiToken")

// List all the builds which belongs to the current user
_, err := client.Builds.List(context.Background(), nil) 
```

`travis.NewClient`æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œ`baseUrl`å’Œ`travisToken`ã€‚å¯¹äº`baseUrl`ï¼Œä½ éœ€è¦é€‰æ‹©`travis.ApiComUrl`æˆ–è€…`travis.ApiOrgUrl`ï¼Œæ‰€ä»¥è¯·é˜…è¯» [URL éƒ¨åˆ†](https://github.com/shuheiktgw/go-travis#url)ã€‚

`travisToken`å¯ä»¥ä¸ºç©ºï¼Œä½†ä¹‹åå¯èƒ½éœ€è¦é€šè¿‡ GitHub token è¿›è¡Œè®¤è¯ã€‚å› æ­¤ï¼Œè¯·æŸ¥çœ‹[è®¤è¯éƒ¨åˆ†](https://github.com/shuheiktgw/go-travis#authentication)ï¼Œäº†è§£æ›´å¤šå…³äºè®¤è¯çš„è¯¦ç»†ä¿¡æ¯ã€‚

## [](#features)ç‰¹æ€§

### [](#supported-features)æ”¯æŒçš„åŠŸèƒ½

*   æ”¯æŒ [Travis CI API v3](https://developer.travis-ci.com/) çš„æ‰€æœ‰ç«¯ç‚¹ï¼ğŸ‰

### [](#unsupported-features)ä¸æ”¯æŒçš„åŠŸèƒ½

*   ç›®å‰ä¸æ”¯æŒ[æ€¥åˆ‡åŠ è½½](https://developer.travis-ci.com/eager-loading#eager%20loading)..

å°±è¿™äº›äº†ï¼Œä¹Ÿè°¢è°¢ä½ çœ‹å¸–å­ï¼å¦‚æœä½ æœ‰æœºä¼šä½¿ç”¨ [shuheiktgw/go-travis](https://github.com/shuheiktgw/go-travis) ï¼Œæˆ‘å¾ˆä¹æ„å¬åˆ°ä½ çš„åé¦ˆã€‚å½“ç„¶ï¼Œä¹Ÿæ¬¢è¿å‘å›¾ä¹¦é¦†æŠ•ç¨¿ï¼