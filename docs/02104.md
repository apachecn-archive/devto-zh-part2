# 最小可行拉式请求

> 原文:[https://dev . to/jmfayard/the-minimum-valid-pull-request-5e7p](https://dev.to/jmfayard/the-minimum-viable-pull-request-5e7p)

你注意到了吗？虽然我们中的许多人做了一些开源贡献，但一些快乐的少数人不知何故在每天同样的 24 小时内做出了十倍或百倍的贡献。

他们是我们的招聘人员朋友一直在谈论的摇滚明星忍者开发者吗？或者，也许他们只是想出了如何更有效地做出贡献。

# 问题

好的，那么你有一个为一个新的开源项目做贡献的想法。天真的方法是分叉项目，编写特性，提出它，完成。

嗯，不，孤独的牛仔方法是一个挫折的配方！

可能发生的事情包括:

*   你实现的东西实际上已经存在了。
*   该项目不再维护。
*   维护者不感兴趣，他和你的目标不一样。
*   你应该用不同的方式来实现。
*   你没有遵循`CONTRIBUTING.md`里面的指示。
*   您没有注意到确保测试套件仍然正确运行的 CI 检查。果然，构建被标记为失败。
*   你没有尊重项目的各种惯例。
*   经过几次这样的迭代，几个星期过去了，因为你分叉和掌握是一个巨大的合并冲突摆在你面前。
*   *在此插入您的趣闻*...

我最近发布了 [`gradle-kotlin-dsl-libs`](https://github.com/jmfayard/gradle-kotlin-dsl-libs) ，它以一种通用和自动的方式(应用我的插件，让它单独写代码，使用它，完成)为许多项目(那些用 Gradle 构建的项目)解决了一个常见的开发人员痛点(管理依赖性)。

这产生了一个有趣的副作用:我突然能够向广泛的项目提交拉请求。我照做了。一开始有点尴尬，但随着练习我变得更好了。

我想与大家分享的主要要点是我称之为**最低可行拉动式需求**。

# 在制品拉式需求

如果你不知道的话， [WIP 拉动请求](https://ben.straub.cc/2015/04/02/wip-pull-request/)是一个已建立的实践和惯例，用于改善开发团队内部的沟通:

*   当您开始处理某个功能或错误修复时，而不是当它准备好时，打开一个拉请求。
*   将您的拉动式请求命名为`WIP: XXX`。这个约定告诉其他人你正在努力，并欢迎早期反馈。
*   当你差不多准备好了，去掉`WIP:`前缀，宣布你现在需要一个最终评审。

# MVP + WIP =最小可行拉动式需求

有一个核心问题让你很难为一个开源项目做第一份贡献:你不了解这个项目。你不了解它的人民。你不知道它的代码库，它的规则，它的背景。维护者也不了解你。

你也处于探索模式。从精益创业运动中得到启示，把你的拉动式请求想象成一个 [MVP](http://www.startuplessonslearned.com/2009/08/minimum-viable-product-guide.html) :

*   只做清楚传达你的想法所需的工作
*   关注与项目维护者的早期讨论。

这对我真的很有效。我很快就知道谁对我的贡献感兴趣，谁不感兴趣。如果不是，那也没关系，我没有白白投入大量的时间。所以我并没有暗地里生他们的气。当他们感兴趣时，把时间投入到贡献中会更有回报，因为他们知道这不会是徒劳的！

# 最小可行

这里有一个警告:优秀的开发人员，由于而[懒惰，倾向于乐于关注**最小值**(“嘿，做得越少越好！”)并跳过**可行的**部分。没有。你的工作是让维护者容易指导你。这包括做更少的代码，但也比我们平时做更多的沟通。](http://threevirtues.com/)

解释你的用例，为什么你首先要这样做。获得一些关于如何实现该特性的早期反馈。看看配置项是如何配置的。阅读 CONTRIBUTING.md 文件。最重要的是，在你真正花时间做改变之前，获得许可。如果你能简单地做到所有这些，会加分。

# 如何？

这里没有规则，您可以在开始拉取请求之前简单地打开一个问题。

我最终做的是将我的插件添加到 Gradle build 中，并提交生成的代码，但实际上并没有修改现有的 build。)这样做的许可。例子: [CatchUp！132](https://github.com/hzsweers/CatchUp/pull/132)

我过去使用的另一个伟大策略是[在代码库中添加一个失败的测试](https://github.com/square/moshi/pull/220)

本着同样的精神，您可以编辑`README`(或者其他一些文档文件)来实现您想要实现的更改。

实际上，到那时，我会很高兴收到你的来信。当您向项目提交第一个拉动式请求时，有哪些常见的挫折？你如何克服它们？