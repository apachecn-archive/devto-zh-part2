# ä¸º. NET åº“åˆ›å»º CI/CD ç®¡é“:ç¬¬ 4 éƒ¨åˆ†â€”â€”å·¥ä½œæœã€å¾½ç« å’Œæ€»ç»“çš„ä»£ç è¦†ç›–ç‡

> åŸæ–‡:[https://dev . to/joaofbantunes/creating-a-cicd-pipeline-for-a-net-library-part-4-code-coverage-on-coveralls-badges-and-wrap-up-2 BMP](https://dev.to/joaofbantunes/creating-a-cicd-pipeline-for-a-net-library-part-4---code-coverage-on-coveralls-badges-and-wrap-up-2bmp)

# [T1ã€‘ç®€ä»‹](#intro)

åœ¨ä¹‹å‰çš„å¸–å­ä¸­ï¼Œæˆ‘ç»å†äº†ä¸€ä¸ªç›¸å½“ç®€å•çš„. NET åº“ CI/CD ç®¡é“æ‰€éœ€çš„å¤§éƒ¨åˆ†å·¥ä½œï¼Œä»ä½¿ç”¨ [Cake](https://cakebuild.net/) å®šä¹‰æ„å»ºï¼Œä½¿ç”¨ [AppVeyor](https://www.appveyor.com/) å’Œ [Travis CI](https://travis-ci.org/) åœ¨äº‘ä¸­è¿è¡Œæ„å»ºã€‚

è¿™æœ€åä¸€ç¯‡æ–‡ç« ä¼šå¾ˆå°ï¼Œå› ä¸ºæˆ‘åªä¼šåšä¸€äº›æ”¶å°¾å·¥ä½œï¼Œæ¯”å¦‚ä½¿ç”¨[å¥—è£…](https://coveralls.io/)ä½¿ä»£ç è¦†ç›–æŠ¥å‘Šåœ¨çº¿å¯ç”¨ï¼Œä»¥åŠç”¨æ„å»ºçŠ¶æ€ä¿¡æ¯è£…é¥°é¡¹ç›®çš„ GitHub é¡µé¢ã€‚

# [](#adding-the-project-to-coveralls)å°†é¡¹ç›®æ·»åŠ åˆ°å·¥ä½œæœä¸­

æ—¢ç„¶æ„å»ºå·¥ä½œåœ¨äº‘ CI æä¾›è€…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ æµ‹è¯•ä»£ç è¦†ç›–ç‡çš„ç¾å¦™è§¦æ„Ÿï¼Œä¸ä»…å¯ä»¥çœ‹åˆ°ç™¾åˆ†æ¯”ï¼Œè¿˜å¯ä»¥æµè§ˆä»£ç ï¼Œçœ‹çœ‹è¦†ç›–äº†ä»€ä¹ˆï¼Œæ²¡æœ‰è¦†ç›–ä»€ä¹ˆâ€”â€”è¿™å¯èƒ½æ¯”ä¸€ä¸ªæ¾æ•£çš„ç™¾åˆ†æ¯”æ•°å­—æ›´ç›¸å…³ã€‚

è¿˜æœ‰æ›´å¤šçš„é€‰æ‹©â€”â€”æˆ‘æ—©å°±æƒ³åˆ°äº†å—ï¼Œæˆ‘å¯èƒ½ä¼šä½¿ç”¨ SonarQube ä¸ä»…è¿›è¡Œè¦†ç›–ç‡åˆ†æï¼Œè¿˜è¿›è¡Œä¸€äº›é™æ€ä»£ç åˆ†æï¼Œæˆ‘ç¨åä¼šå†è®¨è®ºå®ƒâ€”â€”ä½†æ˜¯æˆ‘åœ¨è¿™ä¸ªä¾‹å­ä¸­ä½¿ç”¨äº†å·¥ä½œæœï¼Œæ²¡æœ‰ç‰¹åˆ«çš„åŸå› ï¼Œåªæ˜¯ä¸ºäº†å°è¯•ä¸€ä¸‹ã€‚

é‰´äºè¦†ç›–ç‡æŠ¥å‘Šçš„ç”Ÿæˆå’Œå‘å¸ƒå·²ç»åœ¨ Cake çš„å¸–å­ä¸­è®¨è®ºè¿‡äº†ï¼Œæˆ‘ä»¬ç°åœ¨è¦åšçš„å°±æ˜¯åœ¨å·¥ä½œæœç½‘ç«™ä¸Šåˆ›å»ºé¡¹ç›®ã€‚

åœ¨ä¸»é¡µä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ªæ–°çš„å­˜å‚¨åº“ã€‚æˆ‘çš„ä¸»é¡µå·²ç»æœ‰ä¸€ä¸ªé¡¹ç›®çš„å‚è€ƒï¼Œå› ä¸ºæˆ‘å·²ç»æ·»åŠ äº†å®ƒã€‚

[![Coveralls Home](../Images/4ee698febd65e753f0c4666fa9c1f84b.png)T2ã€‘](https://thepracticaldev.s3.amazonaws.com/i/e8liazjgz1ye5iv4whdj.jpg)

æ·»åŠ ä¸€ä¸ªåº“çœŸçš„å°±åƒæ‰“å¼€/å…³é—­å¼€å…³ä¸€æ ·ç®€å•ï¼Œå‡è®¾æˆ‘å·²ç»æ³¨å†Œäº†æˆ‘çš„ GitHub å¸æˆ·ï¼Œæˆ‘æ‰€æœ‰çš„é¡¹ç›®éƒ½å·²ç»å¯ä»¥æ·»åŠ äº†ã€‚

[![Coveralls New Project](../Images/a36bc2b566664adea99bbb19e89b7115.png)T2ã€‘](https://thepracticaldev.s3.amazonaws.com/i/76vjycxqts41h8oe2a6a.jpg)

å½“æˆ‘ä»¬å‘å¸ƒç»“æœæ—¶ï¼Œå®ƒä»¬ä¼šæ˜¾ç¤ºåœ¨ç‰¹å®šé¡¹ç›®çš„é¡µé¢ä¸Šã€‚

[![Coveralls Project Page](../Images/c276bedd2c08b667acdcbd8c0b1d3eca.png)T2ã€‘](https://thepracticaldev.s3.amazonaws.com/i/pdnghkbd3tm6hmyvo3c0.jpg)

ç„¶åæˆ‘ä»¬å¯ä»¥æ·±å…¥åˆ°é¡¹ç›®çš„æ–‡ä»¶ä¸­æ¥æŸ¥çœ‹è¦†ç›–ç‡ã€‚

[![Coveralls Project Files Drill Down](../Images/10a77894c38e8b0c17ff5a4bdedbc72f.png)T2ã€‘](https://thepracticaldev.s3.amazonaws.com/i/mk6a8dr57dg8bz56vojk.jpg)

ç„¶åå•å‡»ä¸€ä¸ªç‰¹å®šçš„æ–‡ä»¶å¹¶æŸ¥çœ‹å®ƒçš„è¦†ç›–èŒƒå›´ç»†èŠ‚ã€‚

[![Coveralls File Details](../Images/854fc4f46d8c0b54b536ff7477919d2e.png)T2ã€‘](https://thepracticaldev.s3.amazonaws.com/i/7c5w4wee5gzi6qylr281.jpg)

ç”±äºæˆ‘æœªèƒ½å½»åº•æµ‹è¯•å¼‚å¸¸ï¼Œæˆ‘ä»¬æœ‰å·¥ä½œæœå·¥ä½œğŸ˜€

# [](#bonus-ci-status-badges)å¥–åŠ±:CI çŠ¶æ€å¾½ç« 

ç°åœ¨ä¸€åˆ‡éƒ½æ­£å¸¸äº†ï¼Œæˆ‘ä»¬ä¸å¦¨é€šè¿‡æ˜¾ç¤º CI çŠ¶æ€å¾½ç« ï¼Œè®©å®ƒåœ¨ GitHub é¡¹ç›®é¡µé¢ä¸­å¯è§ã€‚

[![GitHub Badges](../Images/e576f0c5148d929fd760b38c1da23a37.png)T2ã€‘](https://thepracticaldev.s3.amazonaws.com/i/5dtrico5cdlq8sgv20kf.jpg)

å¯¹äº AppVeyor çš„å¾½ç« ï¼Œåœ¨é¡¹ç›®è®¾ç½®ä¸­æœ‰ä¸€ä¸ªâ€œå¾½ç« â€éƒ¨åˆ†ï¼Œå…¶ä¸­æœ‰æ‚¨å¯èƒ½éœ€è¦çš„è¯¦ç»†ä¿¡æ¯ï¼Œä»¥åŠä¸»åˆ†æ”¯çš„ç¤ºä¾‹ã€‚

[![AppVeyor Badges](../Images/26a5035cc5dc96bb6fd1fd40a6d8f254.png)T2ã€‘](https://thepracticaldev.s3.amazonaws.com/i/2uib94ns8soaoqljhu1t.jpg)

å¯¹äº Travis CIï¼Œæˆ‘ä»¬å¯ä»¥å¤åˆ¶æ˜¾ç¤ºåœ¨é¡¹ç›®é¡µé¢é¡¶éƒ¨çš„çŠ¶æ€å›¾åƒçš„å›¾åƒåœ°å€(åœ¨ä»–ä»¬çš„æ–‡æ¡£ä¸­æ²¡æœ‰æ‰¾åˆ°è¿™æ–¹é¢çš„å…·ä½“éƒ¨åˆ†ï¼Œå¦‚æœæœ‰ï¼Œè¯·è¯„è®º)ã€‚

[![Travis CI Badges](../Images/efa059a87ee35b9ed5beb7e2949d44ec.png)T2ã€‘](https://thepracticaldev.s3.amazonaws.com/i/4gxuo95qycg85uwriyqs.jpg)

å¯¹äºå·¥ä½œæœï¼Œåœ¨é¡¹ç›®é¡µé¢ä¸Šä¹Ÿæœ‰ä¸€ä¸ªæœ‰ç”¨çš„åµŒå…¥é€‰é¡¹çš„å¾½ç« ã€‚

[![Coveralls Badges](../Images/ce216c366818f908b00843827c392fe2.png)T2ã€‘](https://thepracticaldev.s3.amazonaws.com/i/6049f7yjspsnvbxby4jd.jpg)

ç°åœ¨ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ markdown ä¸­æ”¾ä¸Šå‡ å¼ æ¡Œå­ï¼Œä¸Šé¢æœ‰æ‰€æœ‰æœåŠ¡çš„å¾½ç« ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹äº†ã€‚

# [](#wrapping-up)åŒ…è£…å®Œæ¯•

å› æ­¤ï¼Œæ€»ç»“æ‰€æœ‰è¿™äº›(post series wise)ï¼Œæœ€ç»ˆçš„ç»“æœæ˜¯å½“æˆ‘åšå‡ºæ›´æ”¹å¹¶ç‚¹å‡»`git push`æ—¶ï¼Œä»£ç åœ¨ä¸åŒçš„ç¯å¢ƒä¸­è¢«æ„å»ºå’Œæµ‹è¯•ï¼Œè¦†ç›–ç‡è¢«å‘å¸ƒï¼Œæœ€ç»ˆåº“ä¹Ÿè¢«å‘å¸ƒï¼Œé™¤äº†æ¨é€ä»£ç (å¹¶åˆå¹¶åˆ° master ä»¥å®é™…å‘å¸ƒåŒ…)ä¹‹å¤–æ²¡æœ‰ä»»ä½•æ‰‹å·¥å·¥ä½œã€‚

æˆ‘ä»¬ä¹Ÿçœ‹åˆ°äº†ä½¿ç”¨ Cake æ¥å®šä¹‰ C#ä¸­çš„æ„å»ºæ˜¯å¤šä¹ˆçš„å®é™…ã€‚å¼€ç®±å³ç”¨çš„ä¸œè¥¿å·¥ä½œå¾—å¾ˆå¥½ï¼Œå¦‚æœæœ‰ä»€ä¹ˆä¸œè¥¿ä¸è§äº†ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç¼–ç ï¼æˆ‘å¾ˆç¡®å®šè¿˜æœ‰å¾ˆå¤šå¯ä»¥æ”¹è¿›çš„åœ°æ–¹ï¼Œæ‰€ä»¥å¦‚æœä½ å¯¹è§£å†³æ–¹æ¡ˆæˆ–å¸–å­æœ‰ä»»ä½•åé¦ˆï¼Œè¯·å‘è¿‡æ¥ï¼

*   [ç¬¬ 1 éƒ¨åˆ†-ç®€ä»‹](https://dev.to/joaofbantunes/creating-a-cicd-pipeline-for-a-net-library-part-1---intro-2j61)
*   [ç¬¬ 2 éƒ¨åˆ†-ç”¨ Cake å®šä¹‰æ„å»ºå¹¶å‘å¸ƒåˆ° NuGet](https://dev.to/joaofbantunes/creating-a-cicd-pipeline-for-a-net-library-part-2---defining-the-build-with-cake-and-publishing-to-nuget-4ph3)
*   [ç¬¬ 3 éƒ¨åˆ†-å»ºç«‹åœ¨ AppVeyor å’Œ Travis CI çš„åŸºç¡€ä¸Š](https://dev.to/joaofbantunes/creating-a-cicd-pipeline-for-a-net-library-part-3---building-on-appveyor-and-travis-ci-4ai2)
*   ç¬¬ 4 éƒ¨åˆ†-ä»£ç è¦†ç›–å·¥ä½œæœï¼Œå¾½ç« å’Œæ€»ç»“(æ­¤èŒä½)

è¿™äº›å¸–å­çš„é™„å¸¦ä»£ç æ˜¯[è¿™é‡Œçš„](https://github.com/CodingMilitia/GrpcExtensions/tree/july-blog-post)(æ ‡è®°æ˜¯ä¸ºäº†ç¡®ä¿ä»£ç åæ˜ æœªæ¥è¿™é‡Œå†™çš„å†…å®¹)ã€‚

PS:åŸè´´[æ­¤å¤„](https://blog.codingmilitia.com/2018/07/30/creating-ci-cd-pipeline-dotnet-library-part-04-coverage-coveralls-badges-wrap-up)ã€‚