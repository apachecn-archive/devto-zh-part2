# å¿«é€Ÿæç¤º:ç”¨ Dart ç¼–å†™ HTTP æœåŠ¡å™¨ğŸ’»

> åŸæ–‡:[https://dev . to/graphic beacon/quick-tip-write-an-http-server-in-dart-5c 7n](https://dev.to/graphicbeacon/quick-tip-write-an-http-server-in-dart--5c7n)

åœ¨ä»Šå¤©çš„å¿«é€ŸæŠ€å·§ä¸­ï¼Œæˆ‘ä»¬å°†æ¢ç´¢ Dart ä¸ºæˆ‘ä»¬æä¾›çš„ç”¨äºåˆ›å»º web æœåŠ¡å™¨çš„å†…ç½®ç±»ä¹‹ä¸€ã€‚è¿™ä¸ªç±»æ˜¯ SDK ä¸­â€œ [**dart:io**](https://api.dartlang.org/dev/2.0.0-dev.68.0/dart-io/dart-io-library.html) â€åº“çš„ä¸€éƒ¨åˆ†ã€‚

* * *

è¿™ä¸ªç±»è¢«æ°å½“åœ°å‘½åä¸º`HttpServer`ã€‚ä¸‹é¢æ˜¯æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨å®ƒ:

```
HttpServer.bind("localhost", 8080).then((HttpServer server) { ... }); 
```

Enter fullscreen mode Exit fullscreen mode

`bind()`è¡¨ç¤ºä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œå®ƒå°†ä¸»æœºåå’Œç«¯å£ä½œä¸ºå¿…éœ€çš„å‚æ•°ã€‚è¿™å°†è¿”å›ä¸€ä¸ª`Future<HttpServer>`ï¼Œå…è®¸æˆ‘ä»¬é“¾æ¥åƒ`then()`å’Œ`catch()`è¿™æ ·çš„æ–¹æ³•ã€‚

ä¸€ä¸ªæˆåŠŸç»‘å®šçš„ä¸»æœºåå’Œç«¯å£ç°åœ¨å…è®¸æˆ‘ä»¬é€šè¿‡è°ƒç”¨æœåŠ¡å™¨å¯¹è±¡ä¸Šçš„`listen()`æ–¹æ³•æ¥æ¥æ”¶ä¼ å…¥çš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¯¹è±¡æœ‰ä¸€ä¸ª`Stream` ing æ¥å£:

```
// ...
server.listen((HttpRequest request) {
  request.response.write('Hello world');
  request.response.close();
}); 
```

Enter fullscreen mode Exit fullscreen mode

æ¥æ”¶è¯·æ±‚å…è®¸æˆ‘ä»¬å†™å‡ºæˆ‘ä»¬çš„å“åº”å¹¶ç»“æŸå®ƒã€‚ä¸‹é¢æ˜¯å®ƒè¾‰ç…Œçš„å®Œæ•´ç‰‡æ®µ:

```
import 'dart:io';

void main() {
  HttpServer
    .bind("localhost", 8080)
    .then((HttpServer server) {
      server.listen((HttpRequest request) {
        request.response.write("Hello world!");
        request.response.close();
      });
    });
} 
```

Enter fullscreen mode Exit fullscreen mode

## ä½¿ç”¨å¼‚æ­¥/ç­‰å¾…ğŸ”¥

è¿™é‡Œæœ‰ä¸€ä¸ªæ›´æ¼‚äº®çš„ç¼–å†™åŸºæœ¬æœåŠ¡å™¨çš„æ–¹æ³•:

```
 import 'dart:io';

main() async {
  var server = await HttpServer.bind("localhost", 8080);

  await for (var request in server) {
    request.response.write("Hello world");
    request.response.close();
  }
} 
```

Enter fullscreen mode Exit fullscreen mode

è¿™é‡Œæœ‰ä¸€ä¸ªæ¼”ç¤ºç¬¬ä¸€ä¸ªä¾‹å­çš„è§†é¢‘:

[https://www.youtube.com/embed/ko-urshBwU4](https://www.youtube.com/embed/ko-urshBwU4)

å¸Œæœ›è¿™æ˜¯æœ‰è§åœ°çš„ã€‚

**å–œæ¬¢ã€åˆ†äº«å¹¶å…³æ³¨æˆ‘**äº†è§£ Dart çš„æ›´å¤šå†…å®¹ã€‚

## å¿«é€Ÿé“¾æ¥

1.  [HttpServer ç±»](https://api.dartlang.org/dev/2.0.0-dev.68.0/dart-io/HttpServer-class.html)
2.  **[å…è´¹é£é•–æˆªå±åœ¨ Egghead.io](https://egghead.io/instructors/jermaine-oppong)**