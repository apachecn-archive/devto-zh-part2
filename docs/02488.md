# 追踪痛苦的错误

> 原文:[https://dev.to/jpinkney/tracking-down-the-painful-bugs-2kj5](https://dev.to/jpinkney/tracking-down-the-painful-bugs-2kj5)

几个月前，我帮助一位同事修复了一个与悬停功能有关的 XML 语言服务器的 bug。这个 bug 没有抛出异常，试图调试它没有产生容易发现的结果，而且出于某种原因，语言服务器一直在崩溃。根本不清楚到底发生了什么，代码就像死了一样。由于这个 bug 似乎无法检测到，我们花了很长时间(可能比我们应该做的更多)对我们认为可能导致问题的部分进行了强力注释。

可悲/可笑的是实际发生的事情。对于那些不知道的人来说，语言服务器连接到客户端(比如 VSCode)，VSCode 基于用户事件向服务器发送请求。例如，如果您将鼠标悬停在一个元素上，它会向服务器发送一个请求，然后服务器会发回一个响应。语言服务器协议规定了请求/响应应该发送/返回什么。这个 bug 非常简单，相当有趣，但是调试起来很痛苦。基本上正在发生的是

```
System.out.println("test"); 
```

服务器的一部分，控制当你悬停在一个元素上时发生什么。由于 VSCode 发现我们试图悬停，它会向服务器发送一个悬停请求。然后服务器会做出反应，但是当它点击

```
System.out.println("test"); 
```

它将“测试”发送回客户端，导致语言服务器崩溃。

在评论里让我知道你最糟糕的 bug 体验吧！