# å‡½æ•°å¼ç¼–ç¨‹åŸºæœ¬åŸç†çš„ä»‹ç»

> åŸæ–‡:[https://dev . to/tee Kay/an-introduction-to-the-basic-principles-of-functional-programming-3e0n](https://dev.to/teekay/an-introduction-to-the-basic-principles-of-functional-programming-3e0n)

[![](../Images/a16c1e84a65b83a2c66b3d3541eb6ee7.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--u070LOF9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1600/1%2AOtbWm_2OFtg7suie4zEtqA.png)

åœ¨é•¿æ—¶é—´å­¦ä¹ å’Œä½¿ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¹‹åï¼Œæˆ‘é€€ä¸€æ­¥æ€è€ƒç³»ç»Ÿå¤æ‚æ€§ã€‚

> "`Complexity is anything that makes software hard to understand or to modify.` "
> â€”çº¦ç¿°Â·å¥¥ç‰¹ç½—å¾·

åœ¨åšä¸€äº›ç ”ç©¶æ—¶ï¼Œæˆ‘å‘ç°äº†åƒä¸å˜æ€§å’Œçº¯å‡½æ•°è¿™æ ·çš„å‡½æ•°å¼ç¼–ç¨‹æ¦‚å¿µã€‚è¿™äº›æ¦‚å¿µå¯¹äºæ„å»ºæ— å‰¯ä½œç”¨çš„åŠŸèƒ½æ¥è¯´æ˜¯å¾ˆå¤§çš„ä¼˜åŠ¿ï¼Œå› æ­¤ç»´æŠ¤ç³»ç»Ÿæ›´å®¹æ˜“â€”â€”è¿˜æœ‰ä¸€äº›å…¶ä»–çš„
[å¥½å¤„](https://hackernoon.com/why-functional-programming-matters-c647f56a7691)ã€‚

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†å‘Šè¯‰ä½ æ›´å¤šå…³äºå‡½æ•°å¼ç¼–ç¨‹çš„çŸ¥è¯†ï¼Œä»¥åŠä¸€äº›é‡è¦çš„æ¦‚å¿µï¼Œå¹¶é™„æœ‰å¤§é‡çš„ä»£ç ç¤ºä¾‹ã€‚

### [](#what-is-functional-programming)ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿ

> **å‡½æ•°å¼ç¼–ç¨‹**æ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼â€”â€”ä¸€ç§æ„å»ºè®¡ç®—æœºç¨‹åºçš„>ç»“æ„å’Œå…ƒç´ çš„é£æ ¼â€”â€”å°†è®¡ç®—è§†ä¸ºæ•°å­¦å‡½æ•°çš„è¯„ä¼°ï¼Œå¹¶é¿å…æ”¹å˜çŠ¶æ€å’Œå¯å˜æ•°æ®
> â€”â€”[ç»´åŸºç™¾ç§‘](https://en.wikipedia.org/wiki/Functional_programming)

### [](#pure-functions)çº¯å‡½æ•°

å½“æˆ‘ä»¬æƒ³è¦ç†è§£å‡½æ•°å¼ç¼–ç¨‹æ—¶ï¼Œæˆ‘ä»¬å­¦ä¹ çš„ç¬¬ä¸€ä¸ªåŸºæœ¬æ¦‚å¿µæ˜¯**çº¯å‡½æ•°**ã€‚ä½†æ˜¯è¿™åˆ°åº•æ„å‘³ç€ä»€ä¹ˆå‘¢ï¼Ÿæ˜¯ä»€ä¹ˆä½¿å¾—ä¸€ä¸ªå‡½æ•°æ˜¯çº¯çš„ï¼Ÿ

é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•çŸ¥é“ä¸€ä¸ªå‡½æ•°æ˜¯å¦æ˜¯`pure`ï¼Ÿè¿™é‡Œæœ‰ä¸€ä¸ªéå¸¸ä¸¥æ ¼çš„çº¯åº¦å®šä¹‰:

*   å¦‚æœç»™å®šç›¸åŒçš„å‚æ•°ï¼Œå®ƒå°†è¿”å›ç›¸åŒçš„ç»“æœ(ä¹Ÿç§°ä¸º
    `deterministic`)

*   å®ƒä¸ä¼šå¼•èµ·ä»»ä½•æ˜æ˜¾çš„å‰¯ä½œç”¨

#### å¦‚æœç»™å®šç›¸åŒçš„å‚æ•°ï¼Œå®ƒå°†è¿”å›ç›¸åŒçš„ç»“æœ

å‡è®¾æˆ‘ä»¬æƒ³è¦å®ç°ä¸€ä¸ªè®¡ç®—åœ†çš„é¢ç§¯çš„å‡½æ•°ã€‚ä¸€ä¸ªä¸çº¯çš„å‡½æ•°å°†æ¥æ”¶`radius`ä½œä¸ºå‚æ•°ï¼Œç„¶åè®¡ç®—`radius * radius * PI`ã€‚åœ¨ Clojure ä¸­ï¼Œæ“ä½œç¬¦æ’åœ¨ç¬¬ä¸€ä½ï¼Œæ‰€ä»¥`radius * radius * PI`å˜æˆäº†`(* radius radius PI)` :

```
(def  PI  3.14)  (defn  calculate-area  [radius]  (*  radius  radius  PI))  (calculate-area  10)  ;; returns 314.0 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸ºä»€ä¹ˆè¿™æ˜¯ä¸€ä¸ªä¸çº¯å‡½æ•°ï¼Ÿå› ä¸ºå®ƒä½¿ç”¨äº†ä¸€ä¸ªæ²¡æœ‰ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°çš„å…¨å±€å¯¹è±¡ã€‚

ç°åœ¨æƒ³è±¡ä¸€äº›æ•°å­¦å®¶äº‰è®ºè¯´`PI`çš„å€¼å®é™…ä¸Šæ˜¯`42`å¹¶ä¸”æ”¹å˜äº†å…¨å±€å¯¹è±¡çš„å€¼ã€‚

æˆ‘ä»¬çš„ä¸çº¯å‡½æ•°ç°åœ¨å°†å¯¼è‡´`10 * 10 * 42` = `4200`ã€‚å¯¹äºåŒä¸€ä¸ªå‚æ•°(`radius = 10`ï¼Œæˆ‘ä»¬æœ‰ä¸åŒçš„ç»“æœã€‚è®©æˆ‘ä»¬ä¿®ç†å®ƒï¼

```
(def  PI  3.14)  (defn  calculate-area  [radius,  PI]  (*  radius  radius  PI))  (calculate-area  10  PI)  ;; returns 314.0 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å“’å“’ğŸ‰ï¼ç°åœ¨æˆ‘ä»¬æ€»æ˜¯å°†`PI`å€¼ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ã€‚æ‰€ä»¥ç°åœ¨æˆ‘ä»¬åªæ˜¯è®¿é—®ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°ã€‚æ²¡æœ‰`external object`ã€‚

*   å¯¹äºå‚æ•°`radius = 10` & `PI = 3.14`ï¼Œæˆ‘ä»¬æ€»ä¼šå¾—åˆ°ç›¸åŒçš„ç»“æœ:`314.0`

*   å¯¹äºå‚æ•°`radius = 10` & `PI = 42`ï¼Œæˆ‘ä»¬æ€»ä¼šå¾—åˆ°ç›¸åŒçš„ç»“æœ:`4200`

#### [](#reading-files)è¯»å–æ–‡ä»¶

å¦‚æœæˆ‘ä»¬çš„å‡½æ•°è¯»å–å¤–éƒ¨æ–‡ä»¶ï¼Œå®ƒå°±ä¸æ˜¯ä¸€ä¸ªçº¯ç²¹çš„å‡½æ•°â€”â€”æ–‡ä»¶çš„å†…å®¹å¯ä»¥æ”¹å˜ã€‚

```
(defn  characters-counter  [text]  (str  "Character count: "  (count  text)))  (defn  analyze-file  [filename]  (characters-counter  (slurp  filename)))  (analyze-file  "test.txt") 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

#### [](#random-number-generation)éšæœºæ•°ç”Ÿæˆ

ä»»ä½•ä¾èµ–äºéšæœºæ•°ç”Ÿæˆå™¨çš„å‡½æ•°éƒ½ä¸å¯èƒ½æ˜¯çº¯å‡½æ•°ã€‚

```
(defn  year-end-evaluation  []  (if  (>  (rand)  0.5)  "You get a raise!"  "Better luck next year!")) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

#### [](#it-does-not-cause-any-observable-side-effects)å®ƒä¸ä¼šå¼•èµ·ä»»ä½•å¯è§‚å¯Ÿåˆ°çš„å‰¯ä½œç”¨

å¯è§‚å¯Ÿåˆ°çš„å‰¯ä½œç”¨çš„ä¾‹å­åŒ…æ‹¬ä¿®æ”¹å…¨å±€å¯¹è±¡æˆ–é€šè¿‡å¼•ç”¨ä¼ é€’çš„å‚æ•°ã€‚

ç°åœ¨æˆ‘ä»¬æƒ³å®ç°ä¸€ä¸ªå‡½æ•°æ¥æ¥æ”¶ä¸€ä¸ªæ•´æ•°å€¼å¹¶è¿”å›å¢åŠ äº† 1 çš„å€¼ã€‚

```
(def  counter  1)  (defn  increase-counter  [value]  (def  counter  (inc  value)))  ;; please don't do this  (increase-counter  counter)  ;; 2  counter  ;; 2 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬æœ‰äº†`counter`å€¼ã€‚æˆ‘ä»¬çš„éçº¯å‡½æ•°æ¥æ”¶è¯¥å€¼ï¼Œå¹¶å°†è¯¥å€¼åŠ  1 é‡æ–°åˆ†é…ç»™è®¡æ•°å™¨ã€‚

**è§‚å¯Ÿ**:å‡½æ•°å¼ç¼–ç¨‹ä¸é¼“åŠ±å¯å˜æ€§ã€‚

æˆ‘ä»¬æ­£åœ¨ä¿®æ”¹å…¨å±€å¯¹è±¡ã€‚ä½†æ˜¯æˆ‘ä»¬æ€ä¹ˆæ‰èƒ½åšåˆ°å‘¢ï¼Ÿåªéœ€è¿”å›å¢åŠ  1 çš„å€¼ã€‚å°±è¿™ä¹ˆç®€å•ã€‚

```
(def  counter  1)  (defn  increase-counter  [value]  (inc  value))  (increase-counter  counter)  ;; 2  counter  ;; 1 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

çœ‹åˆ°æˆ‘ä»¬çš„çº¯å‡½æ•°`increase-counter`è¿”å› 2ï¼Œä½†æ˜¯`counter`å€¼è¿˜æ˜¯ä¸€æ ·çš„ã€‚è¯¥å‡½æ•°è¿”å›å¢åŠ çš„å€¼ï¼Œè€Œä¸æ”¹å˜å˜é‡çš„å€¼ã€‚

å¦‚æœæˆ‘ä»¬éµå¾ªè¿™ä¸¤æ¡ç®€å•çš„è§„åˆ™ï¼Œç†è§£æˆ‘ä»¬çš„ç¨‹åºå°±å˜å¾—æ›´å®¹æ˜“äº†ã€‚ç°åœ¨ï¼Œæ¯ä¸ªåŠŸèƒ½éƒ½æ˜¯å­¤ç«‹çš„ï¼Œæ— æ³•å½±å“æˆ‘ä»¬ç³»ç»Ÿçš„å…¶ä»–éƒ¨åˆ†ã€‚

çº¯å‡½æ•°æ˜¯ç¨³å®šçš„ã€ä¸€è‡´çš„å’Œå¯é¢„æµ‹çš„ã€‚ç»™å®šç›¸åŒçš„å‚æ•°ï¼Œçº¯å‡½æ•°å°†æ€»æ˜¯è¿”å›ç›¸åŒçš„ç»“æœã€‚æˆ‘ä»¬ä¸éœ€è¦è€ƒè™‘ç›¸åŒå‚æ•°æœ‰ä¸åŒç»“æœçš„æƒ…å†µï¼Œå› ä¸ºè¿™æ°¸è¿œä¸ä¼šå‘ç”Ÿã€‚

#### [](#pure-functions-benefits)çº¯èŒèƒ½åˆ©ç›Š

ä»£ç è‚¯å®šæ›´å®¹æ˜“æµ‹è¯•ã€‚æˆ‘ä»¬ä¸éœ€è¦å˜²ç¬‘ä»»ä½•ä¸œè¥¿ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨ä¸åŒçš„ä¸Šä¸‹æ–‡æ¥æµ‹è¯•çº¯å‡½æ•°:

*   ç»™å®šå‚æ•°`A` â†’æœŸæœ›å‡½æ•°è¿”å›å€¼`B`

*   ç»™å®šå‚æ•°`C` â†’æœŸæœ›å‡½æ•°è¿”å›å€¼`D`

ä¸€ä¸ªç®€å•çš„ä¾‹å­æ˜¯ä¸€ä¸ªæ¥æ”¶æ•°å­—é›†åˆçš„å‡½æ•°ï¼Œå¹¶æœŸæœ›å®ƒé€’å¢è¿™ä¸ªé›†åˆçš„æ¯ä¸ªå…ƒç´ ã€‚

```
(defn  increment-numbers  [numbers]  (map  inc  numbers)) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬æ¥æ”¶`numbers`é›†åˆï¼Œä½¿ç”¨å¸¦æœ‰`inc`å‡½æ•°çš„`map`æ¥é€’å¢æ¯ä¸ªæ•°å­—ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„é€’å¢æ•°å­—åˆ—è¡¨ã€‚

```
(=  [2  3  4  5  6]  (increment-numbers  [1  2  3  4  5]))  ;; true 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¯¹äº`input` `[1 2 3 4 5]`ï¼Œé¢„æœŸçš„`output`å°†æ˜¯`[2 3 4 5 6]`ã€‚

### [](#immutability)æ°¸æ’æ€§

> *ä¸éšæ—¶é—´å˜åŒ–æˆ–ä¸èƒ½æ”¹å˜çš„ã€‚*

å½“æ•°æ®ä¸å¯å˜æ—¶ï¼Œå®ƒçš„**çŠ¶æ€åœ¨å®ƒè¢«åˆ›å»ºåä¸èƒ½æ”¹å˜**ã€‚**å¦‚æœä½ æƒ³æ”¹å˜ä¸€ä¸ªä¸å¯å˜çš„å¯¹è±¡ï¼Œä½ ä¸èƒ½ã€‚ç›¸åï¼Œ**æ‚¨ç”¨æ–°å€¼åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„
å¯¹è±¡ã€‚

åœ¨ Javascript ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨`for`å¾ªç¯ã€‚ä¸‹ä¸€ä¸ª`for`è¯­å¥æœ‰ä¸€äº›å¯å˜å˜é‡ã€‚

```
var values = [1, 2, 3, 4, 5];
var sumOfValues = 0;

for (var i = 0; i < values.length; i++) {
  sumOfValues += values[i];
}

sumOfValues // 15 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¯¹äºæ¯æ¬¡è¿­ä»£ï¼Œæˆ‘ä»¬éƒ½åœ¨æ”¹å˜`i`å’Œ`sumOfValue` **çŠ¶æ€**ã€‚ä½†æ˜¯æˆ‘ä»¬å¦‚ä½•å¤„ç†è¿­ä»£ä¸­çš„å¯å˜æ€§å‘¢ï¼Ÿé€’å½’ï¼å›åˆ° Clojureï¼

```
(defn  sum  [values]  (loop  [vals  values  total  0]  (if  (empty?  vals)  total  (recur  (rest  vals)  (+  (first  vals)  total)))))  (sum  [1  2  3  4  5])  ;; 15 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬æœ‰æ¥æ”¶æ•°å€¼å‘é‡çš„`sum`å‡½æ•°ã€‚`recur`è·³å›`loop`ï¼Œç›´åˆ°æˆ‘ä»¬å¾—åˆ°ç©ºçš„å‘é‡([æˆ‘ä»¬çš„é€’å½’](https://en.wikipedia.org/wiki/Recursion) `base case`)ã€‚å¯¹äºæ¯ä¸€æ¬¡â€œè¿­ä»£â€,æˆ‘ä»¬å°†æŠŠå€¼æ·»åŠ åˆ°`total`ç´¯åŠ å™¨ä¸­ã€‚

é€šè¿‡é€’å½’ï¼Œæˆ‘ä»¬ä¿æŒæˆ‘ä»¬çš„**å˜é‡**ä¸å˜ã€‚

**è§‚å¯Ÿ**:å¯¹ï¼æˆ‘ä»¬å¯ä»¥ç”¨`reduce`æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚æˆ‘ä»¬å°†åœ¨`Higher Order Functions`ä¸»é¢˜ä¸­çœ‹åˆ°è¿™ä¸€ç‚¹ã€‚

æ„å»ºä¸€ä¸ªå¯¹è±¡çš„æœ€ç»ˆ**çŠ¶æ€**ä¹Ÿæ˜¯å¾ˆå¸¸è§çš„ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬æƒ³æŠŠè¿™ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ª`url slug`ã€‚

```
class UrlSlugify
  attr_reader :text

  def initialize(text)
    @text = text
  end

  def slugify!
    text.downcase!
    text.strip!
    text.gsub!(' ', '-')
  end
end

UrlSlugify.new(' I will be a url slug   ').slugify! # "i-will-be-a-url-slug" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨ Ruby çš„ OOP ä¸­ï¼Œæˆ‘ä»¬ä¼šåˆ›å»ºä¸€ä¸ªç±»ï¼Œæ¯”å¦‚è¯´ï¼Œ`UrlSlugify`ã€‚è¿™ä¸ªç±»å°†æœ‰ä¸€ä¸ª`slugify!`æ–¹æ³•å°†å­—ç¬¦ä¸²è¾“å…¥è½¬æ¢æˆä¸€ä¸ª`url slug`ã€‚

æ¼‚äº®ï¼å·²ç»å®æ–½äº†ï¼è¿™é‡Œæˆ‘ä»¬æœ‰å‘½ä»¤å¼ç¼–ç¨‹ï¼Œç¡®åˆ‡åœ°è¯´æ˜æˆ‘ä»¬åœ¨æ¯ä¸ª`slugify`è¿›ç¨‹ä¸­æƒ³è¦åšä»€ä¹ˆâ€”â€”é¦–å…ˆæ˜¯å°å†™ï¼Œç„¶ååˆ é™¤æ— ç”¨çš„ç©ºæ ¼ï¼Œæœ€åç”¨è¿å­—ç¬¦æ›¿æ¢å‰©ä½™çš„ç©ºæ ¼ã€‚

ä½†æ˜¯æˆ‘ä»¬åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ”¹å˜äº†è¾“å…¥çŠ¶æ€ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½æ•°ç»„åˆæˆ–å‡½æ•°é“¾æ¥æ¥å¤„ç†è¿™ç§å˜å¼‚ã€‚æ¢å¥è¯è¯´ï¼Œä¸€ä¸ªå‡½æ•°çš„ç»“æœå°†è¢«ç”¨ä½œä¸‹ä¸€ä¸ªå‡½æ•°çš„è¾“å…¥ï¼Œè€Œä¸ä¿®æ”¹åŸå§‹çš„è¾“å…¥å­—ç¬¦ä¸²ã€‚

```
(defn  slugify  [string]  (clojure.string/replace  (clojure.string/lower-case  (clojure.string/trim  string))  #" "  "-"))  (slugify  " I will be a url slug   ") 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™é‡Œæˆ‘ä»¬æœ‰:

*   `trim`:åˆ é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºæ ¼

*   `lower-case`:å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå…¨éƒ¨å°å†™

*   `replace`:ç”¨ç»™å®šå­—ç¬¦ä¸²ä¸­çš„æ›¿æ¢æ›¿æ¢ match çš„æ‰€æœ‰å®ä¾‹

æˆ‘ä»¬æŠŠè¿™ä¸‰ä¸ªå‡½æ•°ç»“åˆèµ·æ¥ï¼Œå°±å¯ä»¥`"slugify"`æˆ‘ä»¬çš„å­—ç¬¦ä¸²ã€‚

è¯´åˆ°**ç»„åˆå‡½æ•°**ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨`comp`å‡½æ•°æ¥ç»„åˆè¿™ä¸‰ä¸ªå‡½æ•°ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹:

```
(defn  slugify  [string]  ((comp  #(clojure.string/replace  %  #" "  "-")  clojure.string/lower-case  clojure.string/trim)  string))  (slugify  " I will be a url slug   ")  ;; "i-will-be-a-url-slug" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#referential-transparency)å‚ç…§é€æ˜

è®©æˆ‘ä»¬å®ç°ä¸€ä¸ª`square function` :

```
(defn  square  [n]  (*  n  n)) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç»™å®šç›¸åŒçš„è¾“å…¥ï¼Œè¿™ä¸ª(çº¯)å‡½æ•°å°†æ€»æ˜¯å…·æœ‰ç›¸åŒçš„è¾“å‡ºã€‚

```
(square  2)  ;; 4  (square  2)  ;; 4  (square  2)  ;; 4  ;; ... 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å°†â€œ2â€ä½œä¸ºå‚æ•°ä¼ é€’ç»™`square function`å°†æ€»æ˜¯è¿”å› 4ã€‚æ‰€ä»¥ç°åœ¨æˆ‘ä»¬å¯ä»¥ç”¨ 4 ä»£æ›¿`(square 2)`ã€‚å°±æ˜¯è¿™æ ·ï¼æˆ‘ä»¬çš„èŒèƒ½æ˜¯`referentially transparent`ã€‚

åŸºæœ¬ä¸Šï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°å¯¹äºç›¸åŒçš„è¾“å…¥å§‹ç»ˆäº§ç”Ÿç›¸åŒçš„ç»“æœï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯å‚ç…§é€æ˜çš„ã€‚

**çº¯å‡½æ•°+ä¸å¯å˜æ•°æ®=å‚ç…§é€æ˜**

æœ‰äº†è¿™ä¸ªæ¦‚å¿µï¼Œæˆ‘ä»¬å¯ä»¥åšçš„ä¸€ä»¶å¾ˆé…·çš„äº‹æƒ…å°±æ˜¯è®°å¿†è¿™ä¸ªå‡½æ•°ã€‚å‡è®¾æˆ‘ä»¬æœ‰è¿™ä¸ªå‡½æ•°:

```
(+  3  (+  5  8)) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

`(+ 5 8)`ç­‰äº`13`ã€‚è¿™ä¸ªå‡½æ•°å°†æ€»æ˜¯å¯¼è‡´`13`ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·åš:

```
(+  3  13) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è€Œè¿™ä¸ªè¡¨è¾¾å¼æ€»ä¼šäº§ç”Ÿ`16`ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªæ•°å­—å¸¸æ•°æ›¿æ¢æ•´ä¸ªè¡¨è¾¾å¼ï¼Œç„¶åç”¨[æ¥è®°å¿†](https://en.wikipedia.org/wiki/Memoization)å®ƒã€‚

### [](#functions-as-firstclass-entities)åŠŸèƒ½ä¸ºä¸€çº§å®ä½“

å°†å‡½æ•°ä½œä¸ºä¸€çº§å®ä½“çš„æƒ³æ³•æ˜¯ï¼Œå‡½æ•°**ä¹Ÿè¢«**è§†ä¸ºå€¼**ï¼Œè€Œ**è¢«ç”¨ä½œæ•°æ®ã€‚

åœ¨ Clojure ä¸­ï¼Œé€šå¸¸ä½¿ç”¨`defn`æ¥å®šä¹‰å‡½æ•°ï¼Œä½†è¿™åªæ˜¯å¯¹`(def foo (fn ...))`çš„è¯­æ³•ä¿®é¥°ã€‚`fn`è¿”å›å‡½æ•°æœ¬èº«ã€‚`defn`è¿”å›ä¸€ä¸ªæŒ‡å‘å‡½æ•°å¯¹è±¡çš„`var`ã€‚

ä½œä¸ºä¸€çº§å®ä½“çš„åŠŸèƒ½å¯ä»¥:

*   ä»å¸¸é‡å’Œå˜é‡ä¸­å¼•ç”¨å®ƒ

*   å°†å…¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°

*   ä»å…¶ä»–å‡½æ•°è¿”å›ç»“æœ

å…¶æ€æƒ³æ˜¯å°†å‡½æ•°è§†ä¸ºå€¼ï¼Œå¹¶åƒä¼ é€’æ•°æ®ä¸€æ ·ä¼ é€’å‡½æ•°ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç»„åˆä¸åŒçš„åŠŸèƒ½æ¥åˆ›å»ºå…·æœ‰æ–°è¡Œä¸ºçš„æ–°åŠŸèƒ½ã€‚

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå°†ä¸¤ä¸ªå€¼ç›¸åŠ ï¼Œç„¶åå°†å€¼åŠ å€ã€‚å¤§æ¦‚æ˜¯è¿™æ ·:

```
(defn  double-sum  [a  b]  (*  2  (+  a  b))) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨æ˜¯ä¸€ä¸ªå‡å»æ•°å€¼å¹¶è¿”å›åŒç²¾åº¦å€¼çš„å‡½æ•°:

```
(defn  double-subtraction  [a  b]  (*  2  (-  a  b))) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™äº›å‡½æ•°å…·æœ‰ç›¸ä¼¼çš„é€»è¾‘ï¼Œä½†ä¸åŒä¹‹å¤„åœ¨äºè¿ç®—ç¬¦å‡½æ•°ã€‚å¦‚æœæˆ‘ä»¬å¯ä»¥å°†å‡½æ•°è§†ä¸ºå€¼ï¼Œå¹¶å°†å®ƒä»¬ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ„å»ºä¸€ä¸ªæ¥æ”¶æ“ä½œç¬¦å‡½æ•°çš„å‡½æ•°ï¼Œå¹¶åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨å®ƒã€‚è®©æˆ‘ä»¬å»ºé€ å®ƒï¼

```
(defn  double-operator  [f  a  b]  (*  2  (f  a  b)))  (double-operator  +  3  1)  ;; 8  (double-operator  -  3  1)  ;; 4 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æå®šäº†ã€‚ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ª`f`å‚æ•°ï¼Œå¹¶ç”¨å®ƒæ¥å¤„ç†`a`å’Œ`b`ã€‚æˆ‘ä»¬ä¼ é€’äº†`+`å’Œ`-`å‡½æ•°æ¥ä¸`double-operator`å‡½æ•°ç»„åˆå¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„è¡Œä¸ºã€‚

### [](#higherorder-functions)é«˜é˜¶å‡½æ•°

å½“æˆ‘ä»¬è°ˆåˆ°é«˜é˜¶å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬æŒ‡çš„æ˜¯è¿™æ ·çš„å‡½æ•°:

*   æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œæˆ–è€…

*   è¿”å›ä¸€ä¸ªå‡½æ•°ä½œä¸ºç»“æœ

æˆ‘ä»¬ä¸Šé¢å®ç°çš„`double-operator`å‡½æ•°æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå› ä¸ºå®ƒå°†ä¸€ä¸ªæ“ä½œç¬¦å‡½æ•°ä½œä¸ºå‚æ•°å¹¶ä½¿ç”¨å®ƒã€‚

ä½ å¯èƒ½å·²ç»å¬è¯´è¿‡`filter`ã€`map`å’Œ`reduce`ã€‚è®©æˆ‘ä»¬çœ‹çœ‹è¿™äº›ã€‚

#### [](#filter)æ»¤é•œ

ç»™å®šä¸€ä¸ªé›†åˆï¼Œæˆ‘ä»¬å¸Œæœ›æŒ‰å±æ€§è¿‡æ»¤ã€‚filter å‡½æ•°æœŸæœ›ä¸€ä¸ª`true`æˆ–`false`å€¼æ¥ç¡®å®šå…ƒç´ **æ˜¯å¦åº”è¯¥åŒ…å«åœ¨ç»“æœé›†åˆä¸­ã€‚åŸºæœ¬ä¸Šï¼Œå¦‚æœå›è°ƒè¡¨è¾¾å¼æ˜¯`true`ï¼Œè¿‡æ»¤å‡½æ•°ä¼šå°†å…ƒç´ åŒ…å«åœ¨ç»“æœé›†åˆä¸­ã€‚å¦åˆ™ï¼Œä¸ä¼šã€‚**

ä¸€ä¸ªç®€å•çš„ä¾‹å­æ˜¯ï¼Œå½“æˆ‘ä»¬æœ‰ä¸€ä¸ªæ•´æ•°é›†åˆï¼Œæˆ‘ä»¬åªæƒ³è¦å¶æ•°ã€‚

**å‘½ä»¤å¼æ–¹æ³•**

ç”¨ Javascript å®ç°è¿™ä¸€ç‚¹çš„ä¸€ä¸ªå¿…è¦æ–¹æ³•æ˜¯:

*   åˆ›å»ºä¸€ä¸ªç©ºå‘é‡`evenNumbers`

*   è¿­ä»£`numbers`å‘é‡

*   å°†å¶æ•°æ¨é€åˆ°`evenNumbers`å‘é‡

```
var numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
var evenNumbers = [];

for (var i = 0; i < numbers.length; i++) {
  if (numbers[i] % 2 == 0) {
    evenNumbers.push(numbers[i]);
  }
}

console.log(evenNumbers); // (6) [0, 2, 4, 6, 8, 10] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬å¯ä»¥ç”¨`filter`é«˜é˜¶å‡½æ•°æ¥æ”¶`even?`å‡½æ•°ï¼Œè¿”å›ä¸€åˆ—å¶æ•°:

```
(defn  even-numbers  [coll]  (filter  even?  coll))  (even-numbers  [0  1  2  3  4  5  6  7  8  9  10])  ;; (0 2 4 6 8 10) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘åœ¨[é»‘å®¢ç­‰çº§ FP](https://www.hackerrank.com/domains/fp) è·¯å¾„ä¸Šè§£å†³çš„ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜æ˜¯[è¿‡æ»¤å™¨é˜µåˆ—é—®é¢˜](https://www.hackerrank.com/challenges/fp-filter-array/problem)ã€‚é—®é¢˜çš„æƒ³æ³•æ˜¯è¿‡æ»¤ä¸€ä¸ªç»™å®šçš„æ•´æ•°æ•°ç»„ï¼Œåªè¾“å‡ºé‚£äº›å°äºæŒ‡å®šå€¼`X`çš„å€¼ã€‚

è¿™ä¸ªé—®é¢˜çš„ä¸€ä¸ªå¼ºåˆ¶æ€§çš„ Javascript è§£å†³æ–¹æ¡ˆç±»ä¼¼äº:

```
var filterArray = function(x, coll) {
  var resultArray = [];

  for (var i = 0; i < coll.length; i++) {
    if (coll[i] < x) {
      resultArray.push(coll[i]);
    }
  }

  return resultArray;
}

console.log(filterArray(3, [10, 9, 8, 2, 7, 5, 1, 3, 0])); // (3) [2, 1, 0] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬ç¡®åˆ‡åœ°è¯´äº†æˆ‘ä»¬çš„å‡½æ•°éœ€è¦åšä»€ä¹ˆâ€”â€”è¿­ä»£é›†åˆï¼Œå°†é›†åˆå½“å‰é¡¹ä¸`x`è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå®ƒé€šè¿‡äº†æ¡ä»¶ï¼Œå°±å°†è¿™ä¸ªå…ƒç´ æ¨é€åˆ°`resultArray`ã€‚

**å£°æ˜å¼æ–¹æ³•**

ä½†æ˜¯æˆ‘ä»¬æƒ³è¦ä¸€ä¸ªæ›´å…·å£°æ˜æ€§çš„æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¹¶ä¸”ä½¿ç”¨`filter`é«˜é˜¶å‡½æ•°ã€‚

ä¸€ä¸ªå£°æ˜æ€§çš„ Clojure è§£å†³æ–¹æ¡ˆåº”è¯¥æ˜¯è¿™æ ·çš„:

```
(defn  filter-array  [x  coll]  (filter  #(>  x  %)  coll))  (filter-array  3  [10  9  8  2  7  5  1  3  0])  ;; (2 1 0) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™ä¸ªè¯­æ³•ä¸€å¼€å§‹çœ‹èµ·æ¥æœ‰ç‚¹å¥‡æ€ªï¼Œä½†æ˜¯å¾ˆå®¹æ˜“ç†è§£ã€‚

`#(> x %)`åªæ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå®ƒæ¥æ”¶`x`ï¼Œå¹¶å°†å…¶ä¸é›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒã€‚`%`ä»£è¡¨åŒ¿åå‡½æ•°çš„å‚æ•°â€”â€”åœ¨æœ¬ä¾‹ä¸­æ˜¯`filter`ä¸­çš„å½“å‰å…ƒç´ ã€‚

æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨åœ°å›¾æ¥åšè¿™ä»¶äº‹ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€å¼ åœ°å›¾ï¼Œä¸Šé¢æœ‰äººä»¬çš„`name`å’Œ`age`ã€‚æˆ‘ä»¬å¸Œæœ›åªè¿‡æ»¤è¶…è¿‡æŒ‡å®šå¹´é¾„å€¼çš„äººï¼Œåœ¨æœ¬ä¾‹ä¸­æ˜¯ 21 å²ä»¥ä¸Šçš„äººã€‚

```
(def  people  [{:name  "TK"  :age  26}  {:name  "Kaio"  :age  10}  {:name  "Kazumi"  :age  30}])  (defn  over-age  [people]  (filter  #(<  21  (:age  %))  people))  (over-age  people)  ;; ({:name "TK", :age 26} {:name "Kazumi", :age 30}) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä»£ç æ‘˜è¦:

*   æˆ‘ä»¬æœ‰ä¸€ä»½äººå‘˜åå•(æœ‰`name`å’Œ`age`)ã€‚

*   æˆ‘ä»¬æœ‰åŒ¿åå‡½æ•°`#(< 21 (:age %))`ã€‚è¿˜è®°å¾—`%`ä»£è¡¨é›†åˆä¸­çš„å½“å‰å…ƒç´ å—ï¼Ÿè¿™ä¸ªç³»åˆ—çš„å…ƒç´ æ˜¯ä¸€ä¸ªäººç‰©åœ°å›¾ã€‚å¦‚æœæˆ‘ä»¬æ‰§è¡Œ`(:age {:name "TK" :age 26})`ï¼Œå®ƒå°†è¿”å›å¹´é¾„å€¼ï¼Œåœ¨æœ¬ä¾‹ä¸­ä¸º`26`ã€‚

*   æˆ‘ä»¬æ ¹æ®è¿™ä¸ªåŒ¿åå‡½æ•°è¿‡æ»¤æ‰€æœ‰äººã€‚

#### [](#map)åœ°å›¾

æ˜ å°„çš„æ€æƒ³æ˜¯è½¬æ¢ä¸€ä¸ªé›†åˆã€‚

> `map`æ–¹æ³•é€šè¿‡å°†ä¸€ä¸ªå‡½æ•°åº”ç”¨åˆ°å®ƒçš„æ‰€æœ‰>å…ƒç´ æ¥è½¬æ¢ä¸€ä¸ªé›†åˆï¼Œå¹¶ä»è¿”å›å€¼æ„å»ºä¸€ä¸ªæ–°çš„é›†åˆã€‚

è®©æˆ‘ä»¬å¾—åˆ°ä¸Šé¢ç›¸åŒçš„`people`é›†åˆã€‚æˆ‘ä»¬ç°åœ¨ä¸æƒ³æŒ‰â€œè¶…é¾„â€æ¥è¿‡æ»¤ã€‚æˆ‘ä»¬åªæ˜¯æƒ³è¦ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ï¼Œç±»ä¼¼äº`TK is 26 years old`ã€‚æ‰€ä»¥æœ€åä¸€ä¸ªå­—ç¬¦ä¸²å¯èƒ½æ˜¯`:name is :age years old`ï¼Œå…¶ä¸­`:name`å’Œ`:age`æ˜¯æ¥è‡ª`people`é›†åˆä¸­æ¯ä¸ªå…ƒç´ çš„å±æ€§ã€‚

æŒ‰ç…§å¼ºåˆ¶çš„ Javascript æ–¹å¼ï¼Œåº”è¯¥æ˜¯:

```
var people = [
  { name: "TK", age: 26 },
  { name: "Kaio", age: 10 },
  { name: "Kazumi", age: 30 }
];

var peopleSentences = [];

for (var i = 0; i < people.length; i++) {
  var sentence = people[i].name + " is " + people[i].age + " years old";
  peopleSentences.push(sentence);
}

console.log(peopleSentences); // ['TK is 26 years old', 'Kaio is 10 years old', 'Kazumi is 30 years old'] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç”¨ä¸€ç§å£°æ˜æ€§çš„ Clojure æ–¹å¼ï¼Œåº”è¯¥æ˜¯:

```
(def  people  [{:name  "TK"  :age  26}  {:name  "Kaio"  :age  10}  {:name  "Kazumi"  :age  30}])  (defn  people-sentences  [people]  (map  #(str  (:name  %)  " is "  (:age  %)  " years old")  people))  (people-sentences  people)  ;; ("TK is 26 years old" "Kaio is 10 years old" "Kazumi is 30 years old") 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ•´ä¸ªæƒ³æ³•æ˜¯å°†ä¸€ä¸ªç»™å®šçš„é›†åˆè½¬æ¢æˆä¸€ä¸ªæ–°çš„é›†åˆã€‚

å¦ä¸€ä¸ªæœ‰è¶£çš„é»‘å®¢æ’åé—®é¢˜æ˜¯[æ›´æ–°åˆ—è¡¨é—®é¢˜](https://www.hackerrank.com/challenges/fp-update-list/problem)ã€‚æˆ‘ä»¬åªæƒ³ç”¨ç»™å®šé›†åˆçš„ç»å¯¹å€¼æ¥æ›´æ–°å®ƒä»¬çš„å€¼ã€‚

æ¯”å¦‚è¾“å…¥`[1 2 3 -4 5]`éœ€è¦è¾“å‡ºä¸º`[1 2 3 4 5]`ã€‚`-4`çš„ç»å¯¹å€¼æ˜¯`4`ã€‚

ä¸€ä¸ªç®€å•çš„è§£å†³æ–¹æ¡ˆæ˜¯å¯¹æ¯ä¸ªé›†åˆå€¼è¿›è¡Œå°±åœ°æ›´æ–°ã€‚

```
var values = [1, 2, 3, -4, 5];

for (var i = 0; i < values.length; i++) {
  values[i] = Math.abs(values[i]);
}

console.log(values); // [1, 2, 3, 4, 5] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬ä½¿ç”¨`Math.abs`å‡½æ•°å°†å€¼è½¬æ¢æˆç»å¯¹å€¼ï¼Œå¹¶è¿›è¡Œå°±åœ°æ›´æ–°ã€‚

è¿™æ˜¯**è€Œä¸æ˜¯**å®ç°è¯¥è§£å†³æ–¹æ¡ˆçš„åŠŸèƒ½æ€§æ–¹å¼ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬å­¦ä¹ äº†ä¸å˜æ€§ã€‚æˆ‘ä»¬çŸ¥é“ä¸å˜æ€§å¯¹äºä½¿æˆ‘ä»¬çš„å‡½æ•°æ›´åŠ ä¸€è‡´å’Œå¯é¢„æµ‹æ˜¯å¤šä¹ˆé‡è¦ã€‚è¿™ä¸ªæƒ³æ³•æ˜¯å»ºç«‹ä¸€ä¸ªåŒ…å«æ‰€æœ‰ç»å¯¹å€¼çš„æ–°é›†åˆã€‚

ç¬¬äºŒï¼Œè¿™é‡Œä¸ºä»€ä¹ˆä¸ç”¨`map`æ¥â€œè½¬æ¢â€æ‰€æœ‰æ•°æ®ï¼Ÿ

æˆ‘çš„ç¬¬ä¸€ä¸ªæƒ³æ³•æ˜¯æ„å»ºä¸€ä¸ª`to-absolute`å‡½æ•°æ¥åªå¤„ç†ä¸€ä¸ªå€¼ã€‚

```
(defn  to-absolute  [n]  (if  (neg?  n)  (*  n  -1)  n))  (to-absolute  -1)  ;; 1  (to-absolute  1)  ;; 1  (to-absolute  -2)  ;; 2  (to-absolute  0)  ;; 0 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¦‚æœå®ƒæ˜¯è´Ÿçš„ï¼Œæˆ‘ä»¬æƒ³æŠŠå®ƒè½¬æ¢æˆæ­£å€¼(ç»å¯¹å€¼)ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ”¹é€ å®ƒã€‚

ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†å¦‚ä½•å¯¹ä¸€ä¸ªå€¼æ‰§è¡Œ`absolute`æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™`map`å‡½æ•°ã€‚ä½ è¿˜è®°å¾—ä¸€ä¸ª`higher order function`å¯ä»¥æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°å¹¶ä½¿ç”¨å®ƒå—ï¼Ÿæ˜¯çš„ï¼Œåœ°å›¾å¯ä»¥åšåˆ°ï¼

```
(defn  update-list-map  [coll]  (map  to-absolute  coll))  (update-list-map  [])  ;; ()  (update-list-map  [1  2  3  4  5])  ;; (1 2 3 4 5)  (update-list-map  [-1  -2  -3  -4  -5])  ;; (1 2 3 4 5)  (update-list-map  [1  -2  3  -4  5])  ;; (1 2 3 4 5) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å“‡å“¦ã€‚å¤ªç¾äº†ï¼ğŸ˜

#### [](#reduce)å‡å°‘

reduce çš„æ€æƒ³æ˜¯æ¥æ”¶ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªé›†åˆï¼Œå¹¶è¿”å›é€šè¿‡ç»„åˆè¿™äº›é¡¹è€Œåˆ›å»ºçš„å€¼ã€‚

äººä»¬è°ˆè®ºçš„ä¸€ä¸ªå¸¸è§ä¾‹å­æ˜¯è·å–è®¢å•çš„æ€»é‡‘é¢ã€‚æƒ³è±¡ä½ åœ¨ä¸€ä¸ªè´­ç‰©ç½‘ç«™ä¸Šã€‚æ‚¨å·²ç»å°†`Product 1`ã€`Product 2`ã€`Product 3`å’Œ`Product 4`æ·»åŠ åˆ°æ‚¨çš„è´­ç‰©è½¦(è®¢å•)ä¸­ã€‚ç°åœ¨æˆ‘ä»¬è¦è®¡ç®—è´­ç‰©è½¦çš„æ€»é‡‘é¢ã€‚

åœ¨å‘½ä»¤å¼æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å°†è¿­ä»£è®¢å•åˆ—è¡¨ï¼Œå¹¶å°†æ¯ä¸ªäº§å“çš„é‡‘é¢åŠ åˆ°æ€»é‡‘é¢ä¸­ã€‚

```
var orders = [
  { productTitle: "Product 1", amount: 10 },
  { productTitle: "Product 2", amount: 30 },
  { productTitle: "Product 3", amount: 20 },
  { productTitle: "Product 4", amount: 60 }
];

var totalAmount = 0;

for (var i = 0; i < orders.length; i++) {
  totalAmount += orders[i].amount;
}

console.log(totalAmount); // 120 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½¿ç”¨`reduce`ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºä¸€ä¸ªå‡½æ•°æ¥å¤„ç†`amount sum`ï¼Œå¹¶å°†å…¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™`reduce`å‡½æ•°ã€‚

```
(def  shopping-cart  [{  :product-title  "Product 1"  :amount  10  },  {  :product-title  "Product 2"  :amount  30  },  {  :product-title  "Product 3"  :amount  20  },  {  :product-title  "Product 4"  :amount  60  }])  (defn  sum-amount  [total-amount  current-product]  (+  (:amount  current-product)  total-amount))  (defn  get-total-amount  [shopping-cart]  (reduce  sum-amount  0  shopping-cart))  (get-total-amount  shopping-cart)  ;; 120 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™é‡Œæˆ‘ä»¬æœ‰`shopping-cart`ï¼Œæ¥æ”¶å½“å‰`total-amount`çš„å‡½æ•°`sum-amount`ï¼Œä»¥åŠ`current-product`å¯¹è±¡`sum`å®ƒä»¬ã€‚

`get-total-amount`åŠŸèƒ½ç”¨äºä½¿ç”¨`sum-amount`ä»`0`å¼€å§‹`reduce`T2ã€‚

å¦ä¸€ç§å¾—åˆ°æ€»é‡çš„æ–¹æ³•æ˜¯å°†`map`å’Œ`reduce`åˆæˆã€‚æˆ‘è¿™ä¹ˆè¯´æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`map`å°†`shopping-cart`è½¬æ¢æˆ`amount`å€¼çš„é›†åˆï¼Œç„¶ååªéœ€å°†`reduce`å‡½æ•°ä¸`+`å‡½æ•°ä¸€èµ·ä½¿ç”¨ã€‚

```
(def  shopping-cart  [{  :product-title  "Product 1"  :amount  10  },  {  :product-title  "Product 2"  :amount  30  },  {  :product-title  "Product 3"  :amount  20  },  {  :product-title  "Product 4"  :amount  60  }])  (defn  get-amount  [product]  (:amount  product))  (defn  get-total-amount  [shopping-cart]  (reduce  +  (map  get-amount  shopping-cart)))  (get-total-amount  shopping-cart)  ;; 120 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

`get-amount`æ¥æ”¶äº§å“å¯¹è±¡å¹¶åªè¿”å›`amount`å€¼ã€‚æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œæœ‰`[10 30 20 60]`ã€‚ç„¶å`reduce`å°†æ‰€æœ‰é¡¹ç›®ç›¸åŠ ã€‚æ¼‚äº®ï¼

æˆ‘ä»¬çœ‹äº†ä¸€ä¸‹æ¯ä¸ªé«˜é˜¶å‡½æ•°æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚æˆ‘æƒ³å‘ä½ ä»¬å±•ç¤ºä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å¦‚ä½•åœ¨ä¸€ä¸ªç®€å•çš„ä¾‹å­ä¸­ç»„åˆæ‰€æœ‰ä¸‰ä¸ªå‡½æ•°ã€‚

è°ˆåˆ°`shopping cart`ï¼Œå‡è®¾æˆ‘ä»¬çš„è®¢å•ä¸­æœ‰è¿™æ ·ä¸€ä¸ªäº§å“åˆ—è¡¨:

```
(def  shopping-cart  [{  :product-title  "Functional Programming"  :type  "books"  :amount  10  },  {  :product-title  "Kindle"  :type  "eletronics"  :amount  30  },  {  :product-title  "Shoes"  :type  "fashion"  :amount  20  },  {  :product-title  "Clean Code"  :type  "books"  :amount  60  }]) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬éœ€è¦è´­ç‰©è½¦ä¸­æ‰€æœ‰ä¹¦ç±çš„æ€»æ•°ã€‚å°±è¿™ä¹ˆç®€å•ã€‚ç®—æ³•ï¼Ÿ

*   **æŒ‰å›¾ä¹¦ç±»å‹è¿‡æ»¤**

*   ä½¿ç”¨**æ˜ å°„**å°†è´­ç‰©è½¦è½¬æ¢ä¸ºé‡‘é¢é›†åˆ

*   ç”¨**å‡å°‘**å°†æ‰€æœ‰é¡¹ç›®ç›¸åŠ 

æå®šäº†ã€‚ğŸ‰

### [](#resources)èµ„æº

æˆ‘æ•´ç†äº†ä¸€äº›æˆ‘é˜…è¯»å’Œç ”ç©¶çš„èµ„æºã€‚æˆ‘æ­£åœ¨åˆ†äº«ä¸€äº›æˆ‘è§‰å¾—éå¸¸æœ‰è¶£çš„ç…§ç‰‡ã€‚æ›´å¤šèµ„æºï¼Œè¯·è®¿é—®æˆ‘çš„[å‡½æ•°å¼ç¼–ç¨‹ Github åº“](https://github.com/LeandroTk/learning-functional-programming)ã€‚

*   [Ruby ç‰¹å®šèµ„æº](https://github.com/LeandroTk/learning-functional-programming/tree/master/ruby)
*   [Javascript ç‰¹å®šèµ„æº](https://github.com/LeandroTk/learning-functional-programming/tree/master/javascript)
*   [Clojure ç‰¹å®šèµ„æº](https://github.com/LeandroTk/learning-functional-programming/tree/master/clojure)

#### [](#intros)å¼•å­

*   [åœ¨ JS ä¸­å­¦ä¹  FP](https://www.youtube.com/watch?v=e-5obm1G_FY)
*   [ç”¨ Python ä»‹ç» do FP](https://codewords.recurse.com/issues/one/an-introduction-to-functional-programming)
*   [FP æ¦‚è¿°](https://blog.codeship.com/overview-of-functional-programming)
*   [åŠŸèƒ½ JS å¿«é€Ÿä»‹ç»](https://hackernoon.com/a-quick-introduction-to-functional-javascript-7e6fe520e7fa)
*   [ä»€ä¹ˆæ˜¯ FPï¼Ÿ](https://medium.com/javascript-scene/master-the-javascript-interview-what-is-functional-programming-7f218c68b3a0)
*   [å‡½æ•°å¼ç¼–ç¨‹è¡Œè¯](https://github.com/hemanth/functional-programming-jargon)

#### [](#pure-functions)çº¯å‡½æ•°

*   [ä»€ä¹ˆæ˜¯çº¯å‡½æ•°ï¼Ÿ](https://medium.com/javascript-scene/master-the-javascript-interview-what-is-a-pure-function-d1c076bec976)
*   [çº¯å‡½æ•°ç¼–ç¨‹ 1](https://www.fpcomplete.com/blog/2017/04/pure-functional-programming)
*   [çº¯å‡½æ•°ç¼–ç¨‹ 2](https://www.fpcomplete.com/blog/2017/05/pure-functional-programming-part-2)

#### [](#immutable-data)ä¸å¯å˜çš„æ•°æ®

*   [ç”¨äºå‡½æ•°å¼ç¼–ç¨‹çš„ä¸å¯å˜ DS](https://www.youtube.com/watch?v=Wo0qiGPSV-s)
*   [ä¸ºä»€ä¹ˆå…±äº«å¯å˜çŠ¶æ€æ˜¯ä¸‡æ¶ä¹‹æº](http://henrikeichenhardt.blogspot.com/2013/06/why-shared-mutable-state-is-root-of-all.html)
*   Clojure ä¸­çš„ç»“æ„å…±äº«:ç¬¬ 1 éƒ¨åˆ†
*   Clojure ä¸­çš„ç»“æ„å…±äº«:ç¬¬äºŒéƒ¨åˆ†
*   Clojure ä¸­çš„ç»“æ„å…±äº«:ç¬¬ 3 éƒ¨åˆ†
*   [clo jure ä¸­çš„ç»“æ„å…±äº«:æœ€ç»ˆéƒ¨åˆ†](http://hypirion.com/musings/persistent-vector-performance-summarised)

#### [](#higherorder-functions)é«˜é˜¶å‡½æ•°

*   [é›„è¾©çš„ JS:é«˜é˜¶å‡½æ•°](https://eloquentjavascript.net/05_higher_order.html)
*   [è¶£å‘³è¶£å‘³åŠŸèƒ½æ»¤é•œ](https://www.youtube.com/watch?v=BMUiFMZr7vk&t=0s&list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84&index=2&ab_channel=FunFunFunction)
*   [å¥½ç©å¥½ç©çš„åŠŸèƒ½å›¾](https://www.youtube.com/watch?v=bCqtb-Z5YGQ&index=2&list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84&ab_channel=FunFunFunction)
*   [è¶£å‘³è¶£å‘³åŠŸèƒ½åŸºæœ¬å‡å°‘](https://www.youtube.com/watch?v=Wl98eZpkp-c&list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84&index=3&frags=wn&ab_channel=FunFunFunction)
*   [è¶£å‘³è¶£å‘³åŠŸèƒ½é«˜çº§å‡å°‘](https://www.youtube.com/watch?v=1DMolJ2FrNY&list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84&index=4&ab_channel=FunFunFunction)
*   [Clojure é«˜é˜¶å‡½æ•°](https://clojure.org/guides/higher_order_functions)
*   [çº¯å‡½æ•°æ»¤æ³¢å™¨](https://purelyfunctional.tv/lesson/filter/)
*   [çº¯åŠŸèƒ½å›¾](https://purelyfunctional.tv/lesson/map/)
*   [çº¯åŠŸèƒ½è¿˜åŸ](https://purelyfunctional.tv/lesson/reduce/)

#### [](#declarative-programming)å£°æ˜å¼ç¼–ç¨‹

*   [å£°æ˜å¼ç¼–ç¨‹ vs å‘½ä»¤å¼ç¼–ç¨‹](https://tylermcginnis.com/imperative-vs-declarative-programming/)

* * *

### [](#thats-it)å°±æ˜¯è¿™æ ·ï¼

å˜¿ï¼Œæœ‹å‹ä»¬ï¼Œæˆ‘å¸Œæœ›ä½ ä»¬åœ¨é˜…è¯»è¿™ç¯‡æ–‡ç« çš„æ—¶å€™æœ‰ä¹è¶£ï¼Œå¹¶ä¸”æˆ‘å¸Œæœ›ä½ ä»¬åœ¨è¿™é‡Œå­¦åˆ°äº†å¾ˆå¤šï¼è¿™æ˜¯æˆ‘å°è¯•åˆ†äº«æˆ‘æ‰€å­¦åˆ°çš„ä¸œè¥¿ã€‚

è¿™é‡Œæ˜¯æœ¬æ–‡ä¸­æ‰€æœ‰ä»£ç çš„å­˜å‚¨åº“ã€‚

æ¥è·Ÿæˆ‘å­¦å§ã€‚æˆ‘åœ¨è¿™ä¸ª[å­¦ä¹ å‡½æ•°å¼ç¼–ç¨‹åº“](https://github.com/LeandroTk/learning-functional-programming)ä¸­å…±äº«èµ„æºå’Œæˆ‘çš„ä»£ç ã€‚

æˆ‘å¸Œæœ›ä½ åœ¨è¿™é‡Œçœ‹åˆ°äº†å¯¹ä½ æœ‰ç”¨çš„ä¸œè¥¿ã€‚ä¸‹æ¬¡å†è§ï¼:)

æˆ‘çš„ [Twitter](https://twitter.com/LeandroTk_) ã€ [Github](https://github.com/LeandroTk) ã€ [Medium](https://medium.com/@leandrotk_/) ã€‚â˜º

TKã€‚