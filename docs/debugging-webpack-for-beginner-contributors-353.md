# ä¸ºåˆå­¦è€…è°ƒè¯• Webpack

> åŸæ–‡ï¼š<https://dev.to/gabethere/debugging-webpack-for-beginner-contributors-353>

æˆ‘æœ€è¿‘å¼€å§‹æ€è€ƒå¦‚ä½•ä¸ºå¼€æºåšå‡ºæ›´å¤šè´¡çŒ®ã€‚æˆ‘è®¤ä¸ºè¿™æ˜¯æˆ‘ä»¬ä½œä¸ºå¼€å‘äººå‘˜åœ¨èŒä¸šç”Ÿæ¶¯ä¸­é‡åˆ°çš„ä¸€ä¸¤æ¬¡æƒ³æ³•ã€‚æˆ‘çš„æ„æ€æ˜¯ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å¦‚æ­¤å¤šçš„å¼€æºä»£ç ï¼Œå›é¦ˆç¤¾åŒºçš„æƒ³æ³•æœ¬èº«ä¼¼ä¹æ˜¯ä¸€ä¸ªç®€å•çš„ä»»åŠ¡ï¼Œå¯¹å—ï¼Ÿ

æˆ‘ç¯é¡¾å››å‘¨ï¼Œçœ‹çœ‹æˆ‘æƒ³ä¸ºä»€ä¹ˆç±»å‹çš„é¡¹ç›®åšè´¡çŒ®ï¼Œæˆ‘å†³å®šé¦–å…ˆçœ‹çœ‹æˆ‘åœ¨æ—¥å¸¸å·¥ä½œä¸­æœ€å¸¸ç”¨çš„é¡¹ç›®ï¼Œæˆ–è€…ä½œä¸ºæˆ‘çš„å‰¯ä¸šé¡¹ç›®çš„ä¸€éƒ¨åˆ†ã€‚

Webpack å¯¹æˆ‘æ¥è¯´ä¼¼ä¹å°±æ˜¯é‚£ä¸ªé¡¹ç›®:)

## ä»¤äººç”Ÿç•çš„ä»£ç åº“

æƒ³åˆ° Webpack æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œæˆ‘æ„Ÿåˆ°éå¸¸å®³æ€•ã€‚Webpack æœ¬èº«æ˜¯å·¨å¤§çš„ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªç›¸å½“å¥åº·å’Œéå¸¸å›ºæ‰§å·±è§çš„ç¤¾åŒºå›´ç»•ç€å®ƒ(å½“ç„¶è¿™æ²¡æœ‰é”™)ã€‚ç„¶è€Œï¼Œä½œä¸ºä¸€ä¸ªæœ‰æŠ±è´Ÿçš„å¼€æºè´¡çŒ®è€…ï¼Œæˆ‘è®¤ä¸ºç†è§£å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„æ˜¯ä¸€ä¸ªå·¨å¤§çš„æŒ‘æˆ˜ã€‚

## è°ƒè¯•

è¿™ç»™äº†æˆ‘ç¬¬ä¸€ä¸ªæŒ‘æˆ˜ï¼Œæˆ‘åˆ°åº•è¯¥å¦‚ä½•è°ƒè¯•è¿™ä¸ªåºå¤§çš„ä»£ç åº“ï¼Ÿæ¯•ç«Ÿï¼Œæˆ‘ä»¬å¤§å¤šæ•°äººè®¤ä¸ºè°ƒè¯•ä»£ç åº“æ˜¯ç†è§£æ§åˆ¶æµå’Œé€»è¾‘çš„ç¬¬ä¸€æ­¥ã€‚

### å‡è®¾

æˆ‘å‡è®¾æ‚¨å·²ç»å°†ä¸€ä¸ªç‰ˆæœ¬çš„ Webpack åˆ†æ”¯å¹¶å…‹éš†åˆ°äº†æ‚¨çš„æœ¬åœ°æœºå™¨ä¸Šã€‚åœ¨æˆ‘çš„ä¾‹å­ä¸­ï¼Œæˆ‘åˆ†å‰äº†æœ€æ–°çš„ Webpack 3(æˆ–æœ€æ–°çš„)åˆ†æ”¯ã€‚

`git checkout remotes/origin/webpack-3`

ç„¶åï¼Œä½ å¾ˆå¯èƒ½æƒ³è¦è¿è¡Œ`npm i`æˆ–`yarn`æ¥è·å¾—æ‰€æœ‰çš„`node_modules`å¥½ä¸œè¥¿ã€‚

### VSCode è®¾ç½®

æˆ‘å‡è®¾æ‚¨ä¹Ÿåœ¨ä½¿ç”¨ VSCodeï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®¾ç½®æˆ‘ä»¬çš„è°ƒè¯•é…ç½®ã€‚

ä¸‹é¢æ˜¯æ‚¨å¼€å§‹å·¥ä½œæ‰€éœ€çš„æœ€ä½é…ç½®:

```
{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "node",
      "request": "attach",
      "name": "Attack-Webpack-Debug",
      "port": 9229,
      "skipFiles": ["${workspaceFolder}/node_modules/**/*.js"]
    }
  ]
} 
```

è¿™é‡Œæˆ‘ä»¬åªæ˜¯è¯´ï¼Œæˆ‘ä»¬å¸Œæœ›é™„åŠ åˆ°ç«¯å£ 9229 ä¸Šæ­£åœ¨è¿è¡Œçš„è°ƒè¯•è¿›ç¨‹ï¼Œå¹¶ä¸”æˆ‘ä»¬å¸Œæœ›é¿å…è°ƒè¯•æˆ–éå†`node_modules`ä¸‹çš„æ–‡ä»¶ã€‚

å¦ä¸€ä¸ªé‡è¦/æ–¹ä¾¿çš„æ­¥éª¤æ˜¯å¯ç”¨`Auto Attach`ã€‚æ‚¨å¯ä»¥åœ¨ VSCode çš„åº•éƒ¨è®¾ç½®æ ä¸Šåˆ‡æ¢æ­¤è®¾ç½®:

[![alt text](../Images/bdcbab51e81747af56a396c554d37bda.png "Auto attach VS Code")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--yTGB6eZT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/b1gpk7iujs9ob5lvlueb.png)

ä¸€æ—¦æˆ‘ä»¬æ‰§è¡Œäº†`node --inspect-brk`å‘½ä»¤ï¼Œè¿™å°†å…è®¸æ‚¨è‡ªåŠ¨åˆ‡æ¢è°ƒè¯•å™¨å±å¹•ã€‚

### è®¾ç½®è¦è°ƒè¯•çš„é¡¹ç›®

å¥½çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ ·ä¾‹é¡¹ç›®æ¥ä¸ºæˆ‘ä»¬æ‰“åŒ… Webpackã€‚è¿™å¾ˆç®€å•ï¼Œåœ¨åˆ†å‰çš„ Webpack é¡¹ç›®æ–‡ä»¶å¤¹ä¹‹å¤–è®¾ç½®å¦ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚

1.  `mkdir sample-webpack`
2.  `touch client.js`
3.  `vim client.js` - >æ·»åŠ å‡ è¡Œä»£ç ï¼Œåƒ`console.log('Test')`ç­‰ã€‚

å·®ä¸å¤šå°±æ˜¯è¿™æ ·ï¼ç°åœ¨å›åˆ°æ‚¨çš„ Webpack repoï¼Œç„¶åæˆ‘ä»¬ç»ˆäºå¯ä»¥è¿è¡Œæˆ‘ä»¬çš„è°ƒè¯•å‘½ä»¤äº†ï¼

### èŠ‚ç‚¹å·¡æŸ¥

åœ¨æ‚¨çš„ Webpack repo ä¸Šï¼Œæˆ‘ä»¬å°†è¿è¡Œä¸€ä¸ªå¿«é€Ÿå‘½ä»¤æ¥æ†ç»‘`client.js`æ–‡ä»¶ã€‚

è¿è¡Œä»¥ä¸‹å‘½ä»¤:

`node --inspect-brk bin/webpack.js --entry ./client.js --output-filename bundle.js`

è¿™å°†è§¦å‘è°ƒè¯•å™¨çª—å£ï¼Œå¹¶å°†åœ¨ç¬¬ä¸€è¡Œä¸­æ–­ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥åœ¨ VSCode ä¸Šè®¾ç½®ä¸€ä¸ªæ–­ç‚¹ï¼Œå¹¶é€å¥é€šè¿‡ Webpack æºä»£ç ï¼

[![alt text](../Images/7b7505b94d1d0cea7f57787906d08442.png "Debug VS Code")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--0L0yb0fl--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/rw6916e9k0cq732k8rxf.png)

### å°±æ˜¯è¿™æ ·ï¼âœ…

å»ç©å§ï¼å¦‚æœæ‚¨æƒ³è¿›è¡Œæ›´å¤æ‚çš„ Webpack é…ç½®è°ƒè¯•ï¼Œåªéœ€ä»ç¤ºä¾‹é¡¹ç›®ä¸­ä¼ é€’ä¸€ä¸ª`webpack.config.js`,å¦‚ä¸‹æ‰€ç¤º:

`node --inspect-brk bin/webpack.js --config ./webpack.config.js`

å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–è€…è¿™äº›æ­¥éª¤ä¸é€‚åˆæ‚¨çš„è®¾ç½®ï¼Œè¯·éšæ—¶åœ¨ä¸‹é¢ç•™ä¸‹æ‚¨çš„è¯„è®ºğŸ’¯