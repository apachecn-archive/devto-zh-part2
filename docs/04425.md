# iOS ä¸­çš„æœºå™¨å­¦ä¹ :IBM Watson å’Œ CoreML

> åŸæ–‡:[https://dev . to/on myway 133/machine-learning-in-IOs-IBM-Watson-and-coreml-2ae 8](https://dev.to/onmyway133/machine-learning-in-ios-ibm-watson-and-coreml-2ae8)

[![](../Images/17527660b86d74959a00f0c3b098c6aa.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--vhH-QTPQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/4000/1%2AWHxQHcsiU6hSeoljdd6khw.png)

è‹¹æœäº 2017 å¹´åœ¨ WWDC æ¨å‡ºäº† [CoreML](https://developer.apple.com/machine-learning/) ï¼Œè¿™æ˜¯ä¸€ç¬”å¾ˆæ£’çš„äº¤æ˜“ã€‚
CoreML æ˜¯ä¸€ä¸ªæœºå™¨å­¦ä¹ æ¡†æ¶ï¼Œç”¨äºè®¸å¤šè‹¹æœäº§å“ï¼Œå¦‚ Siriã€ç›¸æœºã€é”®ç›˜å¬å†™ç­‰ã€‚

è¿™æ˜¯è§†è§‰å’Œè‡ªç„¶è¯­è¨€å¤„ç†çš„åŸºç¡€ã€‚CoreML çš„é…·ä¹‹å¤„åœ¨äºå®ƒå¯ä»¥ä½¿ç”¨é¢„å…ˆè®­ç»ƒå¥½çš„æ¨¡å‹ç¦»çº¿å·¥ä½œã€‚è‹¹æœå·²ç»æä¾›äº†è®¸å¤šé¢„å…ˆè®­ç»ƒå¥½çš„[æ¨¡å‹](https://developer.apple.com/machine-learning/)ï¼Œå¦‚ MobileNetã€SqueezeNetã€Inception v3ã€VGG16ï¼Œæ¥å¸®åŠ©æˆ‘ä»¬å®Œæˆå›¾åƒè¯†åˆ«ä»»åŠ¡ï¼Œå°¤å…¶æ˜¯æ£€æµ‹åœºæ™¯ä¸­çš„ä¸»è¦å¯¹è±¡ã€‚

CoreML çš„å·¥ä½œåªæ˜¯æ ¹æ®æ¨¡å‹é¢„æµ‹æ•°æ®ã€‚å¦‚æœæä¾›çš„è®­ç»ƒæ¨¡å‹ä¸ç¬¦åˆæˆ‘ä»¬çš„éœ€è¦ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è‡ªå·±çš„æ•°æ®é›†è®­ç»ƒæ¨¡å‹ã€‚æœ‰åƒ [Keras](https://keras.io/) ã€ [TensorFlow](https://www.tensorflow.org/) ã€ [Caffe](http://caffe.berkeleyvision.org/) æˆ–ç®€åŒ–çš„ [turicreate](https://github.com/apple/turicreate) è¿™æ ·çš„æ¡†æ¶ï¼Œä½†è¿™äº›éƒ½éœ€è¦ç†è§£æœºå™¨å­¦ä¹ å’Œè®¡ç®—æœºèƒ½åŠ›æ¥è®­ç»ƒæ¨¡å‹ã€‚ä¸€ç§ç®€å•(ä¸”æ˜‚è´µ)çš„æ–¹æ³•æ˜¯ä½¿ç”¨[äº‘](http://machinethink.net/blog/machine-learning-device-or-cloud/)æœåŠ¡ï¼Œå¦‚[è°·æ­Œäº‘è§†è§‰](https://cloud.google.com/vision/)ã€ [IBM æ²ƒæ£®](https://www.ibm.com/watson/)ã€[å¾®è½¯ Azure è®¤çŸ¥æœåŠ¡](https://azure.microsoft.com/en-us/services/cognitive-services/)ã€[äºšé©¬é€Šè®¤çŸ¥](https://aws.amazon.com/rekognition/)ã€â€¦â€¦æ¥ç®€åŒ–ä»»åŠ¡ã€‚è¿™äº›æœåŠ¡é€šå¸¸æ‰˜ç®¡å®Œæ•´çš„æ¨¡å‹ï¼Œå¹¶å¯¹å®ƒä»¬è¿›è¡Œé‡æ–°è®­ç»ƒï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å‘å‡º HTTP è¯·æ±‚æ¥è·å–å…³äºåˆ†ç±»å¯¹è±¡çš„ä¿¡æ¯ã€‚æœ‰äº›æä¾›äº†æ‰©å±•æ¨¡å‹çš„èƒ½åŠ›ï¼Œå…è®¸æˆ‘ä»¬ä¸Šä¼ æ•°æ®é›†å’Œå®šä¹‰åˆ†ç±»å™¨ã€‚

åœ¨æœ¬æŒ‡å—ä¸­ï¼Œæˆ‘ä»¬å°†æ¢ç´¢ IBM Watson æœåŠ¡ï¼Œå°¤å…¶æ˜¯å®ƒçš„è§†è§‰è¯†åˆ«åŠŸèƒ½ï¼Œä»¥å¸®åŠ©æˆ‘ä»¬è®­ç»ƒè¶…çº§è‹±é›„å›¾åƒçš„è‡ªå®šä¹‰æ•°æ®é›†ï¼Œç„¶åé€šè¿‡ CoreML åœ¨æˆ‘ä»¬çš„ iOS åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹ã€‚

## [](#ibm-watson-service)IBM æ²ƒæ£®æœåŠ¡

å°±åœ¨æœ€è¿‘ï¼Œè‹¹æœå®£å¸ƒä¸ IBM Watson åˆä½œï¼Œè¿™ä½¿å¾—æœºå™¨å­¦ä¹ æ›´å®¹æ˜“ä¸Šæ‰‹ã€‚

> ä½ å¯ä»¥åœ¨ iPhone å’Œ iPad ä¸Šå¼€å‘åˆ©ç”¨ Watson æ¨¡å‹çš„åº”ç”¨ç¨‹åºï¼Œå³ä½¿æ˜¯åœ¨ç¦»çº¿çŠ¶æ€ä¸‹ã€‚æ‚¨çš„åº”ç”¨ç¨‹åºå¯ä»¥å¿«é€Ÿåˆ†æå›¾åƒï¼Œå‡†ç¡®åˆ†ç±»è§†è§‰å†…å®¹ï¼Œå¹¶ä½¿ç”¨ Watson æœåŠ¡è½»æ¾è®­ç»ƒæ¨¡å‹

æ‰€ä»¥è¿˜æ˜¯å…ˆè¯•è¯•å§ï¼Œçœ‹çœ‹æ•ˆæœå¦‚ä½•ã€‚ç”µå½±ã€Šå¤ä»‡è€…è”ç›Ÿæ— é™æˆ˜äº‰ã€‹ç°åœ¨åœ¨ç”µå½±é™¢å¾ˆå—æ¬¢è¿ï¼Œè¶…çº§è‹±é›„ä»¬ä»ç„¶åœ¨æˆ‘ä»¬çš„è„‘æµ·ä¸­ç©¿æ¢­ã€‚ä¹Ÿè®¸ä½ çš„ä¸€äº›æœ‹å‹è®¤ä¸å‡ºç”µå½±ä¸­çš„é‚£äº›è¶…çº§è‹±é›„ã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬é€šè¿‡æ„å»ºä¸€ä¸ªå¯ä»¥å¸®åŠ©è¯†åˆ«è¶…çº§è‹±é›„çš„åº”ç”¨ç¨‹åºæ¥åº¦è¿‡ä¸€æ®µæœ‰è¶£çš„æ—¶å…‰ã€‚

ç©äº‘æœåŠ¡å¾ˆç®€å•ã€‚æˆ‘ä»¬ä¸ºè¿™é¡¹æœåŠ¡æ”¯ä»˜ä¸€äº›é’±ï¼Œä¸Šä¼ è¶…çº§è‹±é›„çš„ç…§ç‰‡ï¼Œåœ¨äº‘ä¸Šè®­ç»ƒï¼Œå°†è®­ç»ƒå¥½çš„æ¨¡å‹æ”¾åˆ°åº”ç”¨ç¨‹åºä¸­ï¼Œäº«å—è¿™ç§é­”åŠ›ğŸ˜ã€‚

æˆ‘å·²ç»é˜…è¯»äº†ä¸€äº›æ–‡ç« å¹¶å°è¯•äº† IBM Cloudï¼Œä½†ä¸çŸ¥ä½•æ•…ï¼Œæˆ‘ä»ç„¶æ„Ÿåˆ°å›°æƒ‘ã€‚ä¸»è¦æ˜¯å› ä¸ºå®ƒæä¾›äº†è®¸å¤šæœåŠ¡ã€æœ¯è¯­å˜åŒ–ã€åºŸå¼ƒçš„æµ‹è¯•å·¥å…·ã€é€šå‘åŒä¸€ä½ç½®çš„è·¯å¾„ã€æœåŠ¡å’Œèµ„æºçš„äº’æ¢ä½¿ç”¨ã€åº”ç”¨å’Œé¡¹ç›®ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä¼šè¯•ç€æ ¹æ®æˆ‘çš„ç†è§£æ¥æ¾„æ¸…ä¸€äº›äº‹æƒ…ã€‚æ¬¢è¿åé¦ˆã€‚

[* * Bluemix vs IBM Cloud](https://www.ibm.com/cloud/info/bluemix-now-ibm-cloud)
[* * Bluemix](https://en.wikipedia.org/wiki/Bluemix)æ˜¯ä¸€ä¸ªäº‘å¹³å°å³æœåŠ¡ï¼Œå¸®åŠ©åœ¨äº‘ä¸Šæ„å»ºå’Œè¿è¡Œåº”ç”¨ã€‚æˆªè‡³ 2017 å¹´ 10 æœˆï¼ŒBluemix æ˜¯ IBM Cloudï¼Œå°½ç®¡æˆ‘ä»¬ä»ç„¶éœ€è¦ä¸è¿™ä¸ªåŸŸ[https://console.bluemix.net](https://console.bluemix.net/developer/watson/dashboard)åˆä½œã€‚IBM Cloud æä¾›è®¸å¤š[äº§å“](https://www.ibm.com/cloud/products/)ï¼Œç”¨äºå®‰å…¨ã€åˆ†æã€å­˜å‚¨ã€äººå·¥æ™ºèƒ½ç­‰é¢†åŸŸ

> IBM çš„ä¸€ç«™å¼äº‘è®¡ç®—å•†åº—æä¾›æ‚¨éœ€è¦çš„æ‰€æœ‰äº‘è§£å†³æ–¹æ¡ˆå’Œ **IBM cloud** å·¥å…·ã€‚

[![](../Images/c84671f7ef0c0309b9fe2b43e3843b07.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--RKo3iidG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2AHfxsqbCIuka0hQYKzYKhkg.png)

* *æ•°æ®ç§‘å­¦å’Œæ²ƒæ£®å·¥ä½œå®¤
* *è¿è¡Œåœ¨ IBM Cloud ä¸Šçš„ä¼—å¤šäº§å“ä¹‹ä¸€æ˜¯ç”¨äºè‡ªç„¶è¯­è¨€å¤„ç†ã€è§†è§‰è¯†åˆ«å’Œæœºå™¨å­¦ä¹ çš„ [IBM Watson](https://medium.com/ibm-watson/introducing-ibm-watson-studio-e93638f0bb47) ã€‚æˆ‘ä»¬å°†ä½¿ç”¨[æ²ƒæ£®å·¥ä½œå®¤](https://www.ibm.com/cloud/watson-studio)åœ¨ä¸€ä¸ªå•ä¸€çš„é›†æˆç¯å¢ƒä¸­â€œæ„å»ºã€è®­ç»ƒã€éƒ¨ç½²å’Œç®¡ç†äººå·¥æ™ºèƒ½æ¨¡å‹ï¼Œå¹¶å‡†å¤‡å’Œåˆ†ææ•°æ®ã€‚â€æœ€åˆå«åš[æ•°æ®ç§‘å­¦](https://datascience.ibm.com/)ã€‚å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªå‰ç«¯ç½‘é¡µï¼Œé‡Œé¢æœ‰å¾ˆå¤šä¸ Watson æœåŠ¡äº¤äº’çš„å·¥å…·ã€‚æˆ‘ä»¬å¼€å§‹å§ï¼

> Watson Studio æ˜¯ä¸€ä¸ªå…è´¹çš„å·¥ä½œç©ºé—´ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­æ— ç¼åœ°åˆ›å»ºã€è¯„ä¼°å’Œç®¡ç†æ‚¨çš„å®šåˆ¶æ¨¡å‹ã€‚

[![](../Images/0ac7c9738579368924c905322ad4005c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--RdHqsVJf--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2A1cWgM-F6FnpFwZN2XqNJZw.png)

### [](#step-1-sign-up-for-ibm-cloud)ç¬¬ä¸€æ­¥:æ³¨å†Œ IBM äº‘

è¿›å…¥ [IBM Cloud](https://www.ibm.com/cloud/) ï¼Œç‚¹å‡»[æŒ‰é’®æ³¨å†Œ IBM Cloud](https://console.bluemix.net/registration/) ã€‚

[![](../Images/70c5553d9754487533429698c86c79ee.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--IVjLdfsO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2832/1%2A5dqP4i6LqAfgaWB6Bsh3Pg.png)

æˆåŠŸæ³¨å†Œåï¼Œå‰å¾€ [Watson Studio](https://www.ibm.com/cloud/watson-studio) å¹¶ç‚¹å‡»ç™»å½•ã€‚

[![](../Images/9ea654e7d006139f28bd9d477c570619.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--tSAk5lc3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2852/1%2AM3fnjggeCL_zLRiRGP-_Yw.png)

å®ƒä¼šå¸¦ä½ å» https://dataplatform.ibm.com/homeã€‚æˆ‘è®¤ä¸ºç”±äºå†å²åŸå› ï¼ŒåŸŸåå’Œäº§å“åç§°ä¸åŒ¹é…ğŸ™„ã€‚

[![](../Images/65f6619ffd5f7802a454afe1ae6c334c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--9Q51LGxe--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2850/1%2AF5vD5dDyCUtPXfRvEYDTWA.png)

### [](#step-2-create-new-project-for-visual-recognition)ç¬¬äºŒæ­¥:ä¸ºè§†è§‰è¯†åˆ«åˆ›å»ºæ–°é¡¹ç›®

ç‚¹å‡»**æ–°å»ºé¡¹ç›®**ï¼Œé€‰æ‹©å·¥å…·[è§†è§‰è¯†åˆ«](https://www.ibm.com/watson/services/visual-recognition/)ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬å¯¹è¶…çº§è‹±é›„å›¾ç‰‡åšåˆ†ç±»æ‰€éœ€è¦çš„ã€‚

> ä½¿ç”¨æœºå™¨å­¦ä¹ å¿«é€Ÿå‡†ç¡®åœ°æ ‡è®°ã€åˆ†ç±»å’Œè®­ç»ƒè§†è§‰å†…å®¹ã€‚

[![](../Images/b8a6dbeb1ca2263d0d2c52ba911ad259.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--VN7jdihu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2AguyThKfCxZN2ZJEFx1ocQQ.png)

ä¸€ä¸ªé¡¹ç›®åŒ…å«ä¸€ç»„å·¥å…·å’ŒæœåŠ¡ã€‚å°±å«å¤ä»‡è€…å§ã€‚å®ƒé…æœ‰å‚¨ç‰©ç©ºé—´ã€‚

[![](../Images/97d3a9d6b0854a6af8ee43b1bdf009b3.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--kWGUml2A--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2494/1%2A24eBxhgDK5FXYY1QAm9v2g.png)

### [](#step-3-create-service)ç¬¬ä¸‰æ­¥:åˆ›å»ºæœåŠ¡

å¯¹æˆ‘æ¥è¯´ï¼Œåœ¨åˆ›å»ºæ–°é¡¹ç›®ä¹‹åï¼Œå®ƒä¼šè½¬åˆ°é¡µé¢**é»˜è®¤å®šåˆ¶æ¨¡å‹**ï¼Œå¹¶å‘Šè¯‰æˆ‘è¯¥é¡¹ç›®éœ€è¦ä¸ä¸€ä¸ªæœåŠ¡ç›¸å…³è”ã€‚æˆ‘è®¤ä¸ºé¡¹ç›®åº”è¯¥åˆ›å»ºä¸€ä¸ªæœåŠ¡ï¼Œå¹¶åœ¨é»˜è®¤æƒ…å†µä¸‹ä¸å®ƒç›¸å…³è”ğŸ™„

[![](../Images/63526569dd17c199cd6d312bfe41af85.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--YMNcqE2p--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2854/1%2APt9ALUvl_vWjWA3D5ulffQ.png)

å›åˆ°[é¦–é¡µ](https://dataplatform.ibm.com/home?context=data)ï¼Œä»**é¡¹ç›®**èœå•ä¸­é€‰æ‹©ä½ çš„**å¤ä»‡è€…è”ç›Ÿ**é¡¹ç›®ï¼Œè¿›å…¥**è®¾ç½®**é€‰é¡¹å¡ã€‚

[![](../Images/1bacce6c7261bbab1701250ef3a26000.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--CP4YGWRR--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2AOGeJhh9Q6uyihsn9sa-xrQ.png)

å‘ä¸‹æ»šåŠ¨åˆ°**å…³è”æœåŠ¡* *éƒ¨åˆ†ï¼Œç„¶åå•å‡» Watsonã€‚åœ¨ä¸‹ä¸€ä¸ªå±å¹•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰è®¸å¤šæœåŠ¡ç”¨äºè®¸å¤šç›®çš„:æ–‡æœ¬åˆ°è¯­éŸ³ï¼Œè¯­éŸ³åˆ°æ–‡æœ¬ï¼Œè¯­è¨€ç¿»è¯‘å™¨ï¼Œå£°è°ƒåˆ†æå™¨ç­‰ã€‚åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦* *è§†è§‰è¯†åˆ«**æœåŠ¡ã€‚å¯¹äº Lite è®¡åˆ’ï¼Œæˆ‘ä»¬æ¯ä¸ªæœåŠ¡åªèƒ½æœ‰ 1 ä¸ªå®ä¾‹ï¼Œå¦‚æœæ‚¨è¯•å›¾æ·»åŠ æ›´å¤šï¼Œæ‚¨å°†å¾—åˆ°ä»¥ä¸‹è­¦å‘Šã€‚

> Service broker é”™è¯¯:æ¯ä¸ªæœåŠ¡åªèƒ½æœ‰ä¸€ä¸ª Lite è®¡åˆ’å®ä¾‹ã€‚è¦åˆ›å»ºæ–°å®ä¾‹ï¼Œè¯·åˆ é™¤ç°æœ‰çš„ Lite plan å®ä¾‹æˆ–é€‰æ‹©ä»˜è´¹è®¡åˆ’ã€‚

[![](../Images/075a3f3efeb2c90e84866f291cc07b18.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ofF3Xk4T--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2802/1%2AgZfNBaHYq-3jIbXp8ht1lw.png)

Watson é¡¹ç›®ã€å·¥å…·å’ŒæœåŠ¡ä¹‹é—´çš„è”ç³»ä»¤äººå›°æƒ‘ï¼Œå¯èƒ½æ˜¯å› ä¸ºæœ‰å¤§é‡çš„åŠŸèƒ½æˆ‘ä»¬è¿˜æ²¡æœ‰ä½¿ç”¨ã€‚æŠŠé¡¹ç›®æƒ³è±¡æˆä¸€åŒ…å·¥å…·å’ŒæœåŠ¡ã€‚å¯¹äº Lite planï¼Œæˆ‘ä»¬åªèƒ½ä½¿ç”¨æ¯ä¸ªæœåŠ¡çš„ 1 ä¸ªå®ä¾‹ï¼Œè€Œå·¥å…·æ˜¯æˆ‘ä»¬ç”¨æ¥ä¸æœåŠ¡äº¤äº’çš„å‰ç«¯ã€‚

### [](#step-4-remove-existing-service-if-any)æ­¥éª¤ 4:åˆ é™¤ç°æœ‰æœåŠ¡(å¦‚æœæœ‰)

è¦åˆ é™¤ç°æœ‰æœåŠ¡ï¼Œè¯·è¿”å›åˆ°[ä¸»é¡µ](https://dataplatform.ibm.com/)ï¼Œä»**æœåŠ¡**èœå•ä¸­é€‰æ‹©**æ²ƒæ£®æœåŠ¡**ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥å¯åŠ¨è¯¥æœåŠ¡çš„å·¥å…·æˆ–åˆ é™¤å®ƒã€‚

[![](../Images/065ceeede2cc68d45901fcb608b88f67.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--b2am0KGh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2862/1%2ACabdXO5XsJutP7vGyHrr7w.png)

åˆ é™¤ç°æœ‰æœåŠ¡åï¼Œè¿”å›æ­¥éª¤ 3ï¼Œä¸ºè¯¥é¡¹ç›®**å¤ä»‡è€…è”ç›Ÿçš„æœåŠ¡**è§†è§‰è¯†åˆ«**é…ç½®æ–°å®ä¾‹ã€‚**

### [](#step-5-create-visual-recognition-models)ç¬¬äº”æ­¥:åˆ›å»ºè§†è§‰è¯†åˆ«æ¨¡å‹

è¿›å…¥ä½ çš„**å¤ä»‡è€…è”ç›Ÿ**é¡¹ç›®ï¼Œç‚¹å‡»**èµ„äº§**æ ‡ç­¾ï¼Œå‰å¾€**è§†è§‰è¯†åˆ«æ¨¡å‹éƒ¨åˆ†ã€‚* *å¯¹äºæœ¬æ•™ç¨‹çš„æœ‰è¶£éƒ¨åˆ†ï¼Œæˆ‘å°†æˆ‘ä»¬çš„è‡ªå®šä¹‰æ¨¡å‹å‘½åä¸º* *å¤ä»‡è€…æ¨¡å‹ğŸ¤˜ã€‚**

[![](../Images/b529580abcfd3e3fae387f5a7fe0ff50.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--iFOndEKl--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2844/1%2AYtyMJfgPcAaFuXB7sJx0eg.png)

æˆ‘ä»¬å¯ä»¥ä¸ºæ¯ä¸ªè‹±é›„åˆ›å»ºèŒä¸šï¼Œæˆ–è€…ä¸Šä¼ ä¸€ä¸ªåŒ…å«æ¯ä¸ªè‹±é›„å›¾ç‰‡çš„ zip æ–‡ä»¶ã€‚è¯·æ³¨æ„ï¼Œzip æ–‡ä»¶çš„åç§°å¯¹åº”äºç±»åã€‚è´Ÿç±»ç”¨äºä¸å±äºä»»ä½•é¢„æœŸç±»çš„å›¾åƒã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºé’¢é“ä¾ ã€èœ˜è››ä¾ ã€ç¾å›½é˜Ÿé•¿å’Œé›·ç¥ï¼Œå› ä¸ºä»–ä»¬æ˜¯æˆ‘çš„æœ€çˆ±ğŸ˜…ã€‚

æˆ‘ä»¬ä¸Šä¼ çš„å›¾ç‰‡è¶Šå¤šï¼Œæ¨¡å‹å°±è¶Šæ­£ç¡®ã€‚æ­¤å¤–ï¼Œä½ åº”è¯¥åœ¨ä¸åŒçš„è§’åº¦å’Œå…‰çº¿ä¸‹ä½¿ç”¨æ›´å¤šä¸åŒçš„è§’è‰²ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨æ¯ä¸ªæ–‡ä»¶å¤¹ä¸­æ”¾ç½®æ­£ç¡®çš„å›¾åƒï¼Œå› ä¸ºåƒåœ¾è¿›å»å°±æ˜¯åƒåœ¾å‡ºæ¥ã€‚

é€‰æ‹©å³ä¸Šè§’çš„æŒ‰é’®**æŸ¥æ‰¾å¹¶æ·»åŠ å›¾åƒ**æ·»åŠ å›¾åƒã€‚

### [](#step-6-data-set)ç¬¬å…­æ­¥:æ•°æ®é›†

æˆ‘ä»¬å¯ä»¥ä»è°·æ­Œä¸‹è½½ä¸€äº›å…è´¹çš„å›¾ç‰‡ä½œä¸ºæˆ‘ä»¬çš„æ•°æ®é›†ã€‚ä½ å¯ä»¥åœ¨æˆ‘çš„ [GitHub repo](https://github.com/onmyway133/Avengers) ä¸Šè·å–æ•°æ®é›†ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å‡†å¤‡æ•°æ®é›†ã€‚æ‰‹åŠ¨ä¸‹è½½å›¾ç‰‡ä¸å¥½ç©ï¼Œè¿˜æ˜¯ç”¨è„šæœ¬å§ã€‚æˆ‘ä¸çŸ¥é“æœ‰ä»€ä¹ˆå¥½çš„å·¥å…·ï¼Œä½†æ˜¯è°·æ­Œæœç´¢æ˜¾ç¤ºè¿™ä¸ªå·¥å…·[è°·æ­Œå›¾ç‰‡ä¸‹è½½](https://github.com/hardikvasa/google-images-download)ã€‚æˆ‘ä»¬å¾ˆæ‡’ï¼Œè®©æˆ‘ä»¬èŠ‚çœæ—¶é—´ã€‚

åœ¨è¿™ä¸ªå¸–å­é‡Œï¼Œæ¯ä¸ªè‹±é›„ 50 å¼ å›¾ç‰‡åº”è¯¥æ˜¯å¥½çš„ã€‚è®©æˆ‘ä»¬å‹ç¼©å®ƒä»¬å¹¶ä¸Šä¼ åˆ° Watsonã€‚ä¸Šä¼ å®Œæˆåï¼Œå°†è¿™äº›èµ„äº§æ·»åŠ åˆ°æ¨¡å‹ä¸­ã€‚

[![](../Images/6696b87f6e01360bc4bb33b18496b709.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--3ExMOsrk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2AoH0goGCQvOUPtN-MUgpURA.png)

### [](#step-7-train-the-model)ç¬¬ä¸ƒæ­¥:è®­ç»ƒæ¨¡å‹

è¿™ä¸€æ­¥éœ€è¦ä½ æ‰€æœ‰å‰©ä½™çš„åŠ›é‡ç‚¹å‡»é‚£ä¸ª**è®­ç»ƒæ¨¡å¼**å¼€å§‹è®­ç»ƒè¿‡ç¨‹ã€‚è¿™éœ€è¦ä¸€äº›æ—¶é—´ï¼Œå…·ä½“å–å†³äºæ‚¨çš„æ•°æ®é›†ã€‚å¯¹äºæœ¬æ•™ç¨‹ä¸­çš„æ•°æ®é›†ï¼Œå®ƒåº”è¯¥ä¸åˆ° 10 åˆ†é’Ÿã€‚

ä¹‹æ‰€ä»¥éœ€è¦è¿™ä¹ˆçŸ­çš„æ—¶é—´æ˜¯å› ä¸ºæˆ‘ä»¬çš„æ•°æ®é›†éå¸¸å°ã€‚æˆ‘è®¤ä¸ºå¦ä¸€ä¸ªåŸå› æ˜¯å› ä¸ºè§†è§‰è¯†åˆ«ä½¿ç”¨äº†ä¸€ç§å«åš[è¿ç§»å­¦ä¹ ](https://developer.ibm.com/code/2018/02/13/object-detection-ai-vision-getting-easier-developers/)çš„æŠ€æœ¯

> ä»Šå¤©ï¼Œä½ å¯ä»¥ä½¿ç”¨â€œè¿ç§»å­¦ä¹ â€ï¼Œå³ä½¿ç”¨ç°æœ‰çš„å›¾åƒè¯†åˆ«æ¨¡å‹ï¼Œå¹¶ç”¨ä½ è‡ªå·±çš„æ•°æ®é›†é‡æ–°è®­ç»ƒå®ƒã€‚

[![](../Images/9581434d43b99e2d3a96041377d9c5dd.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--aNfX5KTQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2762/1%2AO_Wow5fDLf5z7_6ZFSsUmQ.png)

åŸ¹è®­å®Œæˆåï¼Œè¿›å…¥**å®æ–½**é€‰é¡¹å¡ï¼Œç„¶åé€‰æ‹© **Core ML** ä¸‹è½½ Core ML å…¼å®¹æ¨¡å‹ã€‚æ–‡ä»¶æ˜¯ 13MBã€‚

[![](../Images/d547734c0292ea883dd75abcede5198c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--HuRfliH0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2880/1%2AQCUZZcOU7ehepwO_dDWLBw.png)

## [](#using-coreml-model-in-ios-app)åœ¨ iOS app ä¸­ä½¿ç”¨ CoreML æ¨¡å‹

é€šè¿‡æ²ƒæ£®è®­ç»ƒçš„æ¨¡å‹ï¼Œæœ‰ä¸¤ç§æ–¹å¼åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒã€‚æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨åŒ…è£… CoreML çš„ Watson SDKã€‚ç¬¬äºŒç§æ–¹æ³•æ˜¯å•ç‹¬ä½¿ç”¨ CoreMLï¼Œè¿™æ˜¯æˆ‘ä»¬å°†åœ¨è¿™é‡Œå±•ç¤ºçš„æ–¹æ³•ï¼Œå› ä¸ºå®ƒå¾ˆå®¹æ˜“ç†è§£ã€‚

### [](#watson-sdk)æ²ƒæ£® SDK

å¦‚æœä½ ä»”ç»†çœ‹çœ‹ä¸Šé¢çš„æˆªå›¾ï¼Œæœ‰**åˆ†ç±» ID** ï¼Œè¿™æ˜¯ä½ çš„å®šåˆ¶æ¨¡å‹çš„ IDã€‚æ²ƒæ£®æœ‰ä¸€ä¸ªæ¼”ç¤º[è§†è§‰è¯†åˆ« coreml](https://github.com/watson-developer-cloud/visual-recognition-coreml/) ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨[æ²ƒæ£® SDK](https://github.com/watson-developer-cloud/swift-sdk) æ¥ç®€åŒ–ä¸ coreml æ¨¡å‹çš„é›†æˆã€‚SDK å…è®¸æˆ‘ä»¬ç®¡ç†æ‰€æœ‰ä¸‹è½½çš„æ¨¡å‹ï¼Œå¹¶åœ¨ç”¨æ–°æ•°æ®é›†é‡æ–°è®­ç»ƒæ—¶ä¸‹è½½æ¨¡å‹çš„æ›´æ–°ç‰ˆæœ¬ã€‚

åªæ˜¯è®©ä½ çŸ¥é“è¿™ä¸ª SDK çš„å­˜åœ¨ï¼Œæˆ‘ä»¬ä¸ä¼šåœ¨æœ¬æ•™ç¨‹ä¸­ä½¿ç”¨ä»»ä½•æ¡†æ¶ğŸ˜ã€‚

### [](#use-plain-coreml-model)ä½¿ç”¨æ™®é€š CoreML æ¨¡å‹

åœ¨æˆ‘ä»¬çš„æŒ‡å—ä¸­ï¼Œæˆ‘ä»¬åªéœ€ä¸‹è½½ç»è¿‡è®­ç»ƒçš„ CoreML æ¨¡å‹ï¼Œå¹¶åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒã€‚å½“æˆ‘ä»¬ä¸ä½¿ç”¨ä»»ä½•é¢å¤–çš„ä¸å¿…è¦çš„æ¡†æ¶æ—¶ï¼Œæˆ‘ä»¬å­¦å¾—æœ€å¤šã€‚è¯¥é¡¹ç›®ä½äº GitHub ä¸Šã€‚

* *åœ¨æ¨¡æ‹Ÿå™¨
ä¸Šè¿è¡Œ* *è¯¥é¡¹ç›®ä½¿ç”¨ UIImagePickerController å’Œ controller.sourceType =ã€‚ç›¸æœºï¼Œæ‰€ä»¥åœ¨è®¾å¤‡ä¸Šæ„å»ºã€æ‹æ‘„ä¸€äº›ç…§ç‰‡å’Œé¢„æµ‹æ˜¯å¾ˆæ£’çš„ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œå®ƒï¼Œåªæ˜¯è¦è®°ä½å°† sourceType æŒ‡å‘ photoLibraryï¼Œå› ä¸ºæ¨¡æ‹Ÿå™¨ä¸­æ²¡æœ‰æ‘„åƒå¤´ğŸ˜…ã€‚

### [](#step-1-add-the-model-to-project)ç¬¬ä¸€æ­¥:å°†æ¨¡å‹æ·»åŠ åˆ°é¡¹ç›®ä¸­

è¿™ä¸ªæ¨¡å‹æ˜¯æˆ‘ä»¬ç”¨æ¥åšé¢„æµ‹çš„ã€‚æˆ‘ä»¬åªéœ€è¦å°†å®ƒæ‹–åˆ°é¡¹ç›®ä¸­ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°åº”ç”¨ç¨‹åºç›®æ ‡ä¸­ã€‚æ­£å¦‚ä»[é˜…è¯»é›†æˆä¸€ä¸ªæ ¸å¿ƒ ML æ¨¡å‹åˆ°ä½ çš„åº”ç”¨](https://developer.apple.com/documentation/coreml/integrating_a_core_ml_model_into_your_app)æˆ‘ä»¬å¯ä»¥åªä½¿ç”¨ç”Ÿæˆçš„ç±» AvengersModelsã€‚

> Xcode è¿˜ä½¿ç”¨å…³äºæ¨¡å‹è¾“å…¥å’Œè¾“å‡ºçš„ä¿¡æ¯æ¥è‡ªåŠ¨ç”Ÿæˆæ¨¡å‹çš„è‡ªå®šä¹‰ç¼–ç¨‹æ¥å£ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¯¥æ¥å£åœ¨ä»£ç ä¸­ä¸æ¨¡å‹è¿›è¡Œäº¤äº’ã€‚

### [](#step-2-vision)ç¬¬äºŒæ­¥:è®¾æƒ³

æ®[ç»´åŸº](https://en.wikipedia.org/wiki/Vision_(Marvel_Comics)):

> **å¹»è±¡**æ˜¯ä¸€ä¸ªè™šæ„çš„[è¶…çº§è‹±é›„](https://en.wikipedia.org/wiki/Superhero)ï¼Œå‡ºç°åœ¨ç”±[æ¼«å¨æ¼«ç”»](https://en.wikipedia.org/wiki/Marvel_Comics)å‡ºç‰ˆçš„[ç¾å›½æ¼«ç”»ä¹¦](https://en.wikipedia.org/wiki/American_comic_book)ä¸­ï¼Œæ˜¯ä¸€ä¸ª[æœºå™¨äºº](https://en.wikipedia.org/wiki/Android_(robot))ï¼Œä¹Ÿæ˜¯é¦–æ¬¡å‡ºç°åœ¨[*å¤ä»‡è€…è”ç›Ÿ](https://en.wikipedia.org/wiki/The_Avengers_(comic))* # 57(1968 å¹´ 10 æœˆ)ä¸­çš„[å¤ä»‡è€…è”ç›Ÿ](https://en.wikipedia.org/wiki/Avengers_(comics))çš„æˆå‘˜

å¼€ç©ç¬‘ğŸ˜… [Vision](https://developer.apple.com/documentation/vision/classifying_images_with_vision_and_core_ml) æ˜¯ä¸€ä¸ªä¸ CoreML ä¸€èµ·å·¥ä½œçš„æ¡†æ¶ï¼Œâ€œå°†åˆ†ç±»æ¨¡å‹åº”ç”¨äºå›¾åƒï¼Œå¹¶å¯¹è¿™äº›å›¾åƒè¿›è¡Œé¢„å¤„ç†ï¼Œä»¥ä½¿æœºå™¨å­¦ä¹ ä»»åŠ¡æ›´å®¹æ˜“ã€æ›´å¯é â€ã€‚

ä½ ä¸€å®šè¦çœ‹ WWDC 2017 è§†é¢‘[è§†è§‰æ¡†æ¶:å»ºç«‹åœ¨æ ¸å¿ƒ ML](https://developer.apple.com/videos/play/wwdc2017/506/) ä¸Šï¼Œäº†è§£è¿™ä¸ªæ¡†æ¶çš„ä¸€äº›å…¶ä»–åŠŸèƒ½ï¼Œå¦‚æ£€æµ‹äººè„¸ï¼Œè®¡ç®—é¢éƒ¨æ ‡å¿—ï¼Œè·Ÿè¸ªç‰©ä½“ï¼Œâ€¦

ç”¨ç”Ÿæˆçš„ AvengersModels()ã€‚æ¨¡å‹æˆ‘ä»¬å¯ä»¥æ„é€ è§†è§‰å…¼å®¹æ¨¡å‹ VNCoreMLModel å¹¶è¯·æ±‚ VNCoreMLRequestï¼Œç„¶åæœ€ç»ˆå°†è¯·æ±‚å‘é€åˆ° VNImageRequestHandlerã€‚ä»£ç éå¸¸ç®€å•:

é¢„æµ‹æ“ä½œå¯èƒ½éœ€è¦æ—¶é—´ï¼Œæ‰€ä»¥æœ€å¥½å°†å®ƒå‘é€åˆ°åå°é˜Ÿåˆ—ï¼Œå¹¶åœ¨å¾—åˆ°ç»“æœæ—¶æ›´æ–° UIã€‚

[![](../Images/1c3ca3641b306ada14e7a0ccdd69fddb.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--efWkY7Rx--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2AVyCMO-_CEC01EGg9C_0hrg.png)

æ„å»ºå¹¶è¿è¡Œåº”ç”¨ç¨‹åºã€‚å¦‚æœä½ åœ¨ iPhone ä¸Šæ„å»ºå®ƒï¼Œæ‹ä¸€å¼ è¶…çº§è‹±é›„çš„ç…§ç‰‡ï¼Œå¦‚æœè¿™æ˜¯æˆ‘ä»¬åœ¨æœ¬æ•™ç¨‹ä¸­è®­ç»ƒçš„ 4 ä¸ªè¶…çº§è‹±é›„ä¹‹ä¸€ï¼Œé‚£ä¹ˆ CoreML å°†èƒ½å¤Ÿæ ¹æ®è®­ç»ƒæ¥é¢„æµ‹ä»–æ˜¯è°ã€‚mlmodel

## [](#where-to-go-from-here)ä½•å»ä½•ä»

IBM Watson ä¸­è¿˜æœ‰è®¸å¤šå…¶ä»–å¾ˆé…·çš„æœåŠ¡å€¼å¾—æ¢ç´¢ï¼Œæ¯”å¦‚è¯­éŸ³ã€æ–‡æœ¬ã€æ¨èã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸®åŠ©ä½ å¼€å§‹æœºå™¨å­¦ä¹ ä¹‹æ—…çš„å¥½é“¾æ¥:

*   iOS ä¸­çš„æœºå™¨å­¦ä¹ : [Azure è‡ªå®šä¹‰è§†è§‰å’Œ CoreML](https://medium.com/flawless-app-stories/machine-learning-in-ios-azure-custom-vision-and-coreml-645e93f35eee) ã€‚

*   iOS ä¸­çš„æœºå™¨å­¦ä¹ : [Turi Create å’Œ CoreML](https://medium.com/flawless-app-stories/machine-learning-in-ios-turi-create-and-coreml-5ddce0dc8e26) ã€‚

*   [ä½¿ç”¨ Watson æ„å»ºç‹¬ç‰¹çš„è§†è§‰è¯†åˆ«åº”ç”¨:4 ç§ç®€å•çš„å…¥é—¨æ–¹æ³•](https://www.ibm.com/blogs/watson/2017/04/build-unique-visual-recognition-apps-watson-4-easy-ways-get-started/):è®¸å¤šå…³äºå¦‚ä½•åˆ©ç”¨è§†è§‰è¯†åˆ«æä¾›çš„æ‰€æœ‰åŠŸèƒ½çš„æ³¨é‡Šã€‚

*   Matthijs Hollemans æœ‰å¾ˆå¤šå…³äº CoreML å’Œæœºå™¨å­¦ä¹ çš„å¾ˆé…·çš„æ–‡ç« ï¼Œæˆ‘çœŸçš„å¾ˆå–œæ¬¢ã€‚

*   [å¥‡å¦™çš„æœºå™¨å­¦ä¹ ](https://github.com/onmyway133/fantastic-machine-learning):æˆ‘è¿˜æ•´ç†äº†ä¸€äº›æœ‰è¶£çš„æœºå™¨å­¦ä¹ èµ„æºï¼Œæœ€å¥½æ˜¯ç”¨ Swift å’Œ CoreMLã€‚

*   [Watson è§†è§‰è¯†åˆ«çš„ 25+èµ„æº](https://medium.com/ibm-watson/25-resources-for-watson-visual-recognition-3d83a0b14202):åŒ…å«å¤§é‡ä¸ Watson åˆä½œçš„æœ‰ç”¨èµ„æºã€‚

*   [å¦‚ä½•é€šè¿‡ç®€å•çš„é¢„å¤„ç†å¢å¼º Watson è§†è§‰è¯†åˆ«ç»“æœ](https://www.ibm.com/blogs/bluemix/2017/03/sharpen-watson-visual-recognition-results/):å‡†å¤‡å¥½å‡†ç¡®çš„å›¾åƒéå¸¸é‡è¦ï¼Œè¿™æ˜¾ç¤ºäº†å›¾åƒé¢„å¤„ç†çš„æŠ€å·§ã€‚

åŸå¸–[https://medium . com/æ— ç‘•-app-stories/detecting-Avengers-super heroes-in-your-IOs-app-with-IBM-Watson-and-coreml-Fe 38 e 493 a4 d 1](https://medium.com/flawless-app-stories/detecting-avengers-superheroes-in-your-ios-app-with-ibm-watson-and-coreml-fe38e493a4d1)