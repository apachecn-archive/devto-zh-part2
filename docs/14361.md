# 可以随处使用 Serverless 吗？有什么缺点吗？

> 原文:[https://dev . to/rohitakiwatkar/can-you-use-server less-architecture-everywhere-any-desires-gfj](https://dev.to/rohitakiwatkar/can-you-use-serverless-architecture-everywhere-any-drawbacks--gfj)

*更新:我最近写了一篇关于无服务器的不同[用例的文章。10 个无服务器使用案例的列表，很好地介绍了无服务器可以发挥作用的领域。虽然这篇文章关注的是 AWS，但是这些想法显然也可以用在其他地方。](https://www.simform.com/serverless-examples-aws-lambda-use-cases/)*

作为无服务器的大力提倡者，我对它的未来非常乐观。但当这项技术被错误地吹捧为未来所有应用的灵丹妙药时，我感到很难过。

> ![Cloud Opinion - BRB profile image](../Images/abb786d312347ed78d662148b14e856d.png)云见-BRB@ Cloud _ Opinion![twitter logo](../Images/4c8a2313941dda016bf4d78d103264aa.png)2010:
> AWS:云是真实的
> 其他厂商:Lol、书商、真金白银在虚拟化
> 
> 2017:
> AWS:无服务器是真实的
> 其他厂商:Lol、真金白银在集装箱03:48 AM

关于这项技术的缺点的讨论将会给新的开发者和云架构师一个完整的描述。

## 适合初学者

无服务器架构指的是在很大程度上依赖于第三方服务(称为后端即服务或“BaaS”)或在短期容器中运行的自定义代码(作为服务或“FaaS”)的应用程序，目前最知名的供应商主机是 AWS Lambda。

尽管名字如此，它实际上并不涉及没有服务器的代码运行。之所以使用“无服务器计算”这个名称，是因为拥有该系统的企业或个人不必购买、租赁或提供服务器或虚拟机来运行后端代码。

以下是无服务器技术的一些突出缺点

## 第三方 API 系统导致的问题(简单来说就是厂商锁定！！)

创业公司是敏捷之舟，但你最初做出的决定会随着时间的推移产生连锁反应。云提供商向早期创业公司提供 10 万美元的初始信贷是有原因的。

液体错误:内部

一旦在特定的云上构建了初始基础架构，就很难将其迁移出去。供应商控制、多租户问题、供应商锁定和安全问题是使用第三方 API 带来的一些问题。

## 缺乏作战工具

开发人员依赖供应商提供调试和监控工具。调试分布式系统是困难的，通常需要访问大量的相关指标来确定根本原因。但最近，在无服务器生态系统中出现了许多工具，用于-
监控- Epsagon、IOpipe、Dashbird、Stackery
安全- PureSec、Sync、TwistLock

## 建筑的复杂性

关于功能应该有多小(粒度)的决定，需要花时间来评估、实现和测试。管理太多的功能会变得很麻烦，而忽略粒度最终会产生微型的整体。

目前，AWS Lambda 限制了所有 Lambda 上可以运行的并发执行数。这里的问题是，这个限制适用于您的整个 AWS 帐户。一些组织在生产和测试中使用相同的 AWS 帐户。这意味着，如果您组织中的某个人进行了一种新的负载测试，并开始尝试执行 1，000 个并发 Lambda 函数，您的生产应用程序就会意外地遭到拒绝服务(DoS)。

## 考试头疼

集成测试无服务器应用程序是困难的。无服务器 FaaS 的集成单元(即每个功能)比其他架构小得多，因此我们比其他架构风格更依赖集成测试。

## 实现弊端

还存在与部署、版本控制和打包相关的问题。您可能需要为整个逻辑应用程序中的每个功能单独部署一个 FaaS 工件。这也意味着你不能自动部署一组功能。最重要的是，没有版本化应用程序的概念，所以原子回滚不是一个选项。您可能需要关闭触发这些功能的任何事件源，部署整个组，然后重新打开事件源。

## 相关服务

诸如[无服务器数据库](https://www.simform.com/serverless-databases/)、框架、库之类的架构组件还不成熟，开发者没有广泛的选择。

[![Latency Issue](../Images/99ca9d97c107246d72c076f456d9327d.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--rvN9_q7g--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/1LUwUUK.png)

其他缺点是**功能中的性能相关问题**、安全漏洞(易受 DoS 攻击)、事件驱动的架构问题，如级联事件导致的滚雪球效应、异步副作用和有害消息。

## 最后的想法

无服务器代码可以与以传统服务器风格编写的代码结合使用，例如微服务。例如，应用程序的一部分可以编写为使用计算实例的微服务，另一部分可以编写为无服务器代码。或者，可以编写非常少的应用程序，根本不使用预配的服务器，完全没有服务器。

如果你想让我讨论任何其他的缺点，请在评论区提出来。期待 Dev 社区的看法。