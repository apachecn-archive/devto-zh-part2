# web å®‰å…¨å¿«é€Ÿå…¥é—¨

> åŸæ–‡:# t0]https://dev . to/adrianmbo/un-introduction-quick-a-la-safe-web-2815

# web å®‰å…¨å¿«é€Ÿä»‹ç»

[![Photo de Jose Fontano sur Unsplash](../Images/4442b6d1d49204445b4c5fc00192d00a.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--5cOdwmYx--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://blog.otso.fr/images/2018-08-15-une-introduction-rapide-a-la-securite-web/cadenas.jpg)

> æœ¬æ–‡æ˜¯æ–‡ç« [çš„è¯‘æœ¬ã€ç½‘ç»œå®‰å…¨å¿«é€Ÿå…¥é—¨ã€‘](https://medium.freecodecamp.org/a-quick-introduction-to-web-security-f90beaf4dd41)ï¼Œç»ä½œè€… [Augustin Tackaberry](https://medium.freecodecamp.org/@austintackaberry) çš„å–„æ„è®¸å¯

ä»¥ä¸‹æ˜¯æ‚¨å¯èƒ½éœ€è¦äº†è§£æœ‰å…³ web å®‰å…¨çš„æ›´å¤šä¿¡æ¯çš„è®¸å¤šåŸå› :

*   æ‚¨æ˜¯æ‹…å¿ƒä¸ªäººæ•°æ®å¯èƒ½æ³„éœ²çš„ç›¸å…³ç”¨æˆ·
*   æ‚¨æ˜¯ä¸€ä¸ªæœ‰æ„è¯†çš„ web å¼€å‘äººå‘˜ï¼Œå¸Œæœ›ä½¿æ‚¨çš„åº”ç”¨ç¨‹åºæ›´åŠ å®‰å…¨
*   æ‚¨æ­£åœ¨å¯»æ‰¾ web å¼€å‘äººå‘˜çš„å·¥ä½œï¼Œå¹¶å¸Œæœ›åœ¨æ‹›è˜äººå‘˜è¯¢é—®æ‚¨æœ‰å…³ web å®‰å…¨çš„é—®é¢˜æ—¶åšå¥½å‡†å¤‡

æœ¬æ–‡å°†å‘æ‚¨è§£é‡Š web å®‰å…¨ä¸­æœ€å¸¸ç”¨çš„ç¼©ç•¥è¯­çš„å«ä¹‰ï¼Œä»¥ä¾¿äºç†è§£ï¼ŒåŒæ—¶ä¿æŒå‡†ç¡®ã€‚

ä½†é¦–å…ˆï¼Œè®©æˆ‘ä»¬äº†è§£ä¸€äº›åŸºæœ¬çš„å®‰å…¨æ¦‚å¿µã€‚

## [](#les-deux-concepts-de-base-de-la-s%C3%A9curit%C3%A9)å®‰å…¨çš„ä¸¤ä¸ªåŸºæœ¬æ¦‚å¿µ

### [](#rien-nest-jamais-100-s%C3%A9curis%C3%A9)ä»æ¥æ²¡æœ‰ä»€ä¹ˆæ˜¯ 100%å®‰å…¨çš„ã€‚

æ²¡æœ‰ 100%é˜²èŒƒé»‘å®¢çš„æ¦‚å¿µã€‚å¦‚æœä¸€ä¸ªäººæ›¾ç»å‘ä½ è¯´è¿‡ç›¸åçš„è¯ï¼Œå°±çŸ¥é“å¥¹é”™äº†

### [](#une-couche-de-protection-nest-pas-suffisante)ä¿æŠ¤å±‚ä¸è¶³ã€‚

ä½ ä¸èƒ½è¯´...

> ä½†æˆ‘æ˜¯å®‰å…¨çš„ï¼Œæˆ‘å®æ–½äº†ä¸€ä¸ª CSPï¼æˆ‘å¯ä»¥ä»æˆ‘çš„æ¼æ´åˆ—è¡¨ä¸­åˆ é™¤è·¨åŸŸè„šæœ¬ï¼Œç°åœ¨ä¸èƒ½å†è¿™æ ·äº†ã€‚

å¯¹æŸäº›äººæ¥è¯´ï¼Œè¿™å¯èƒ½æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œä½†å¾ˆå®¹æ˜“å‘ç°è‡ªå·±æ˜¯è¿™æ ·æ€è€ƒçš„ã€‚æˆ‘è®¤ä¸ºï¼Œå¼€å‘äººå‘˜ä¹‹æ‰€ä»¥èƒ½å¦‚æ­¤å®¹æ˜“åœ°æ‰¾åˆ°è¿™æ ·çš„æƒ³æ³•ï¼Œä¸»è¦æ˜¯å› ä¸ºå‘å±•å¾€å¾€å±€é™äºé»‘ç™½ã€0 æˆ– 1ï¼Œæ˜¯çœŸè¿˜æ˜¯å‡ã€‚å®‰å…¨ä¸æ˜¯é‚£ä¹ˆç®€å•ã€‚

æˆ‘ä»¬å°†ä»ä¸€ä¸ªé¦–å­—æ¯ç¼©å†™è¯å¼€å§‹ï¼Œæ¯ä¸ªäººåœ¨ web å¼€å‘è¿‡ç¨‹ä¸­éƒ½ä¼šå¾ˆå¿«é‡åˆ°è¿™ä¸ªç¼©å†™ã€‚ç„¶åä½ ä¼šå‘ç° StackOverflow æœ‰å¾ˆå¤šç­”æ¡ˆå¯ä»¥å‘Šè¯‰ä½ è¯¥æ€ä¹ˆåšã€‚

## [](#crossorigin-resource-sharing-cors)è·¨äº§åœ°èµ„æºå…±äº«(CORS)

ä½ æ›¾ç»é‡åˆ°è¿‡è¿™æ ·çš„é”™è¯¯å—ï¼Ÿ

```
No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'null' is therefore not allowed access. 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½ æ˜¾ç„¶ä¸æ˜¯å”¯ä¸€ä¸€ä¸ªã€‚æœç´¢ Google åï¼Œæ‚¨ä¼šå‘ç°æœ‰äººä¼šå‘Šè¯‰æ‚¨ä¸‹è½½è¿™æ ·çš„æ‰©å±•ï¼Œä»è€Œæ¶ˆé™¤æ‚¨çš„æ‰€æœ‰é—®é¢˜ï¼

> è¶…çº§çš„ï¼Œä¸æ˜¯å—ï¼Ÿ

[![](../Images/baadb0000b84801f9d78017f28e54a3d.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ZGqX2GX4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://blog.otso.fr/images/2018-08-15-une-introduction-rapide-a-la-securite-web/no-please-no.gif)

**åˆå”±å›¢æ˜¯æ¥ä¿æŠ¤ä½ çš„ï¼Œä¸æ˜¯æ¥ä¼¤å®³ä½ çš„ï¼**

ä¸ºäº†å‘æ‚¨è¯´æ˜ cor æ˜¯å¦‚ä½•å¸®åŠ©æ‚¨çš„ï¼Œæˆ‘ä»¬é¦–å…ˆæ¥è°ˆè°ˆ cookieï¼Œç‰¹åˆ«æ˜¯èº«ä»½éªŒè¯ cookieã€‚éªŒè¯ cookies ç”¨äºæŒ‡ç¤ºæ‚¨å·²è¿æ¥åˆ°æœåŠ¡å™¨ï¼Œå¹¶ä¸”ä¼šåœ¨æ‚¨æ¯æ¬¡è¯·æ±‚è¯¥æœåŠ¡å™¨æ—¶è‡ªåŠ¨å‘é€ã€‚

å‡è®¾æ‚¨ç™»å½• Facebook å¹¶ä½¿ç”¨èº«ä»½éªŒè¯ cookiesã€‚å•å‡»â€œ`bit.ly/r43nugm`â€ï¼Œç„¶åé‡å®šå‘åˆ°â€œ`superevilwebsite.rocks`â€ã€‚ç½‘ç«™`superevilwebsite.rocks`ä¸Šçš„è„šæœ¬å‘ facebook.com å‘å‡ºå®¢æˆ·ç«¯è¯·æ±‚ï¼Œè¿”å›æ‚¨çš„è®¤è¯ cookieï¼

åœ¨ä¸€ä¸ªæ²¡æœ‰é¢œè‰²çš„ä¸–ç•Œé‡Œï¼Œä»–ä»¬ä¼šæ”¹å˜ä½ çš„è´¦æˆ·ï¼Œè€Œä½ å´ä¸çŸ¥é“ã€‚ç›´åˆ°ä»–ä»¬æŠŠ`bit.ly/r43nugm`è´´åœ¨ä½ çš„æ—¶é—´è¡¨ä¸Šï¼Œä½ æ‰€æœ‰çš„æœ‹å‹ç‚¹å‡»å®ƒï¼Œç„¶åä»–ä»¬æŠŠ`bit.ly/r43nugm`è´´åœ¨ä»–ä»¬æœ‹å‹çš„æ‰€æœ‰æ—¶é—´è¡¨ä¸Šï¼Œå‘¨æœŸç»§ç»­åœ¨ Facebook æ‰€æœ‰ç”¨æˆ·çš„æ¶æ€§å¾ªç¯ä¸­å¾ªç¯ï¼Œæ•´ä¸ªä¸–ç•Œè¢«`superevilwebsite.rocks`åå™¬ã€‚ğŸ˜†

ä½†æ˜¯ï¼Œåœ¨ä¸€ä¸ªæœ‰ CORS çš„ä¸–ç•Œä¸­ï¼Œåªæœ‰æºè‡ª`facebook.com`çš„æŸ¥è¯¢æ‰ä¼šå¾—åˆ° Facebook çš„æˆæƒï¼Œå¯ä»¥ä¿®æ”¹å…¶æœåŠ¡å™¨ä¸Šçš„æ•°æ®ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒä»¬å°†é™åˆ¶å…±äº«å¤šç§æ¥æºçš„èµ„æºã€‚ä½†ä½ å¯èƒ½ä¼šé—®è‡ªå·±

> æ˜¯ superevilwebsite . rocks éš¾é“ä¸èƒ½åœ¨æŸ¥è¯¢ä¸­æ›´æ”¹å…¶åŸå§‹æ ‡å¤´ï¼Œä½¿å…¶çœ‹èµ·æ¥åƒæ¥è‡ª facebook.com å—ï¼Ÿ

ä»–ä»¬å¯ä»¥å°è¯•ï¼Œä½†è¿™å°†ä¸èµ·ä½œç”¨ï¼Œå› ä¸ºæµè§ˆå™¨åªä¼šå¿½ç•¥å®ƒä»¬ï¼Œå¹¶ä½¿ç”¨çœŸå®çš„åŸç‚¹ã€‚

> å¥½å§ï¼Œä½†å¦‚æœå®ƒæˆåŠŸäº†å‘¢ï¼Ÿrocks å¯¹æœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢å—ï¼Ÿ

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»–ä»¬å¯ä»¥ç»•è¿‡é¢œè‰²ï¼Œä½†æ— æ³•èµ¢å¾—é¢œè‰²ï¼Œå› ä¸ºä»–ä»¬æ— æ³•åœ¨æŸ¥è¯¢ä¸­å‘é€æ‚¨çš„éªŒè¯ cookieã€‚è„šæœ¬å¿…é¡»åœ¨å®¢æˆ·ç«¯è¿è¡Œæ‰èƒ½è®¿é—®å®¢æˆ·ç«¯ cookiesã€‚

## [](#content-security-policy-csp)å†…å®¹å®‰å…¨ç­–ç•¥(CSP)

è¦ç†è§£ CSP(å†…å®¹å®‰å…¨ç­–ç•¥)ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦è®¨è®º web ä¸–ç•Œä¸­æœ€å¸¸è§çš„æ¼æ´ä¹‹ä¸€:XSSï¼Œå³è·¨ç«™ç‚¹è„šæœ¬(youhou å¦ä¸€ä¸ªç¼©å†™)ã€‚

æ¶æ„ç”¨æˆ·å‘å®¢æˆ·ç«¯ä»£ç ä¸­æ³¨å…¥ Javascript æ—¶ï¼ŒXSS ä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚ä½ å¯èƒ½ä¼šé—®

> ä»–ä»¬ä¼šæ€ä¹ˆåšï¼Ÿå°†é¢œè‰²ä»çº¢è‰²æ”¹ä¸ºè“è‰²ï¼Ÿ

å‡è®¾æ‚¨æˆåŠŸåœ°å°†å®¢æˆ·ç«¯ javascript æ³¨å…¥äº†æ‚¨æ­£åœ¨è®¿é—®çš„ç«™ç‚¹çš„ä»£ç ä¸­ã€‚

ä»–ä»¬èƒ½åšä»€ä¹ˆåäº‹ï¼Ÿ

*   ä»–ä»¬å¯ä»¥é€šè¿‡ä¼ªè£…è‡ªå·±å‘å¦ä¸€ä¸ªç«™ç‚¹å‘å‡º HTTP è¯·æ±‚
*   ä»–ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ªæŒ‡å‘æ‚¨çš„ç«™ç‚¹çš„é“¾æ¥ï¼Œè¯¥ç«™ç‚¹çœ‹èµ·æ¥ä¸æ‚¨æ‰€åœ¨çš„ç«™ç‚¹å®Œå…¨ç›¸åŒï¼Œä½†æœ‰äº›å¾®å°çš„æ¶æ„æ›´æ”¹å·²å‡†å¤‡å°±ç»ªã€‚
*   ä»–ä»¬å¯ä»¥ä½¿ç”¨å†…ç½® Javascript æ·»åŠ è„šæœ¬æ ‡ç­¾ã€‚
*   ä»–ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ªè„šæœ¬æ ‡ç­¾æ¥æ£€ç´¢æŸä¸ªä½ç½®çš„ Javascript æ–‡ä»¶ã€‚
*   ä»–ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ªå¤ç›–é¡µé¢çš„ iframeï¼Œè¯¥ iframe ç±»ä¼¼äºç«™ç‚¹ä¸­è¦æ±‚æ‚¨è¾“å…¥å¯†ç çš„éƒ¨åˆ†ã€‚

æœºä¼šæ˜¯æ— é™çš„ã€‚

[![](../Images/d469ba8bdb95a893b850e80e4cc35026.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--c9FLhRN2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://blog.otso.fr/images/2018-08-15-une-introduction-rapide-a-la-securite-web/old-guy-nodding.gif)

CSP è¯•å›¾é€šè¿‡é™åˆ¶:

*   å¯ä»¥åœ¨ iframe ä¸­æ‰“å¼€çš„å†…å®¹
*   å¯ä»¥åŠ è½½å“ªäº›æ ·å¼è¡¨
*   æŸ¥è¯¢çš„ç›®æ ‡ä½ç½®ç­‰ç­‰ã€‚

é‚£æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ

ç­‰åƒ»è®®è·ºèˆè¯¿ä¹ˆå©“éŠ¡æ‹Ÿè…”åœ°å€æ ç¬¢æ€€æ¡´è¸è…” url å¥€ã„›éŠ¡æ‹Ÿè”šç¡’ä¿´ GET è„¤æˆ™ï¹ã€‚æœ€åï¼Œå®ƒä¼šåˆ°è¾¾ä½¿ç”¨ HTML å’Œ HTTP å¤´çš„æœåŠ¡å™¨ã€‚å¦‚æœæ‚¨æƒ³çŸ¥é“æ‚¨æ”¶åˆ°çš„æ˜¯ä»€ä¹ˆï¼Œè¯·æ‰“å¼€æ§åˆ¶å°çš„â€œç½‘ç»œâ€é€‰é¡¹å¡ï¼Œç„¶åè®¿é—®å‡ ä¸ªç«™ç‚¹ã€‚

ä½ ç”šè‡³å¯èƒ½ä¼šæœ‰ä¸€ä¸ªåƒè¿™æ ·çš„åº”ç­”å¤´:

```
content-security-policy: default-src * data: blob:;script-src *.facebook.com *.fbcdn.net *.facebook.net *.google-analytics.com *.virtualearth.net *.google.com 127.0.0.1:* *.spotilocal.com:* 'unsafe-inline' 'unsafe-eval' *.atlassolutions.com blob: data: 'self';style-src data: blob: 'unsafe-inline' *;connect-src *.facebook.com facebook.com *.fbcdn.net *.facebook.net *.spotilocal.com:* wss://*.facebook.com:* https://fb.scanandcleanlocal.com:* *.atlassolutions.com attachment.fbsbx.com ws://localhost:* blob: *.cdninstagram.com 'self' chrome-extension://boadgeojelhgndaghljhdicfkmllpafd chrome-extension://dliochdbjfkdbacpmhlcpmleaejidimm; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™ä»£è¡¨äº†`facebook.com`çš„å†…å®¹å®‰å…¨ç­–ç•¥ã€‚ä»¥ä¸‹æ˜¯å®ƒç»è¿‡æ ¼å¼åŒ–åçš„æ ·å­ï¼Œä»¥ä¾¿äºé˜…è¯»:

```
content-security-policy:

default-src * data: blob:;

script-src *.facebook.com *.fbcdn.net *.facebook.net *.google-analytics.com *.virtualearth.net *.google.com 127.0.0.1:* *.spotilocal.com:* 'unsafe-inline' 'unsafe-eval' *.atlassolutions.com blob: data: 'self';

style-src data: blob: 'unsafe-inline' *;

connect-src *.facebook.com facebook.com *.fbcdn.net *.facebook.net *.spotilocal.com:* wss://*.facebook.com:* https://fb.scanandcleanlocal.com:* *.atlassolutions.com attachment.fbsbx.com ws://localhost:* blob: *.cdninstagram.com 'self' chrome-extension://boadgeojelhgndaghljhdicfkmllpafd chrome-extension://dliochdbjfkdbacpmhlcpmleaejidimm; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ï¼Œè®©æˆ‘ä»¬åˆ†å¼€æ¯ä¸ªæŒ‡ä»¤:

*   **default-src** é™åˆ¶æ‰€æœ‰æœªæ˜ç¡®åˆ—å‡ºçš„å…¶ä»– CSP å‡†åˆ™ã€‚
*   **script-src** é™åˆ¶å¯ä»¥è½½å…¥çš„ scriptã€‚
*   **style-src** é™åˆ¶å¯è½½å…¥çš„æ ·å¼è¡¨ã€‚
*   **connect-src** é™åˆ¶å¯ä»è„šæœ¬(å¦‚ fetchã€XHRã€ajax ç­‰)åŠ è½½çš„ URLã€‚

è¯·æ³¨æ„ï¼Œé™¤äº†ä¸Šé¢åˆ—å‡ºçš„å››é¡¹ä»¥å¤–ï¼Œè¿˜æœ‰è®¸å¤š CSP å‡†åˆ™ã€‚æµè§ˆå™¨å°†è¯»å– CSP æ ‡é¢˜ï¼Œå¹¶å°†è¿™äº›æŒ‡ä»¤åº”ç”¨äºæ˜¾ç¤ºçš„ HTML é¡µä¸­çš„æ‰€æœ‰å†…å®¹ã€‚å¦‚æœæ­£ç¡®å¡«å†™äº†è¿™äº›æŒ‡ä»¤ï¼Œåˆ™ä»…å…è®¸æ‰§è¡Œå¿…è¦çš„æ“ä½œã€‚

å¦‚æœæ²¡æœ‰ csp å¤´ï¼Œé‚£ä¹ˆä¸€åˆ‡éƒ½è¿‡å»äº†ï¼Œæ²¡æœ‰é™åˆ¶ã€‚å‡¡è§`*`çš„åœ°æ–¹éƒ½æ˜¯é‡å¡(æˆ–æ³•è¯­ä¸­çš„å°ä¸‘)ã€‚ä½ å¯ä»¥æŠŠ`*`æ¢æˆä½ æƒ³è¦çš„ä»»ä½•ä¸œè¥¿ï¼Œè¿™æ˜¯å…è®¸çš„ã€‚

## [](#https-ou-http-secure)HTTPS æˆ– HTTP Secure

ä½ è‚¯å®šå¬è¯´è¿‡ HTTPSã€‚ä¹Ÿè®¸ä½ å¬åˆ°æœ‰äººè¯´â€¦

> ä¸ºä»€ä¹ˆ-å¦‚æœæˆ‘åªæ˜¯åœ¨ç©ç½‘ç«™ï¼Œæˆ‘ä¼šåœ¨ä¹ä½¿ç”¨ HTTPS å—ï¼Ÿ

æˆ–è€…ä½ å¬åˆ°äº†å¦ä¸€éƒ¨åˆ†...

> å¦‚æœæ‚¨çš„ç«™ç‚¹ä¸ä½¿ç”¨ HTTPSï¼Œåˆ™è¡¨ç¤ºæ‚¨ç–¯äº†ã€‚ç°åœ¨æ˜¯ 2018 å¹´ï¼ä¸è¦ç›¸ä¿¡ä»»ä½•äººä¼šå‘Šè¯‰ä½ ç›¸åçš„äº‹ã€‚

æ‚¨å¯èƒ½å¬è¯´ Chrome ç°åœ¨ä¼šå°†æ‚¨çš„ç«™ç‚¹æ ‡è®°ä¸ºä¸å®‰å…¨(å¦‚æœå®ƒä¸ä½¿ç”¨ HTTPS)ã€‚

åŸºæœ¬ä¸Šï¼ŒHTTPS ç›¸å½“ç®€å•ã€‚HTTPS æ˜¯åŠ å¯†çš„ï¼ŒHTTP ä¸æ˜¯åŠ å¯†çš„ã€‚

é‚£ä¸ºä»€ä¹ˆ-å¦‚æœä½ ä¸å‘é€æ•æ„Ÿæ•°æ®é‚£ä¹ˆé‡è¦ï¼Ÿ

å‡†å¤‡å¥½ä¸€ä¸ªæ–°çš„é¦–å­—æ¯ç¼©å†™è¯â€¦ MITMï¼Œæ„æ€æ˜¯â€œä¸­é—´äººâ€ã€‚

å¦‚æœæ‚¨åœ¨å’–å•¡é¦†ä½¿ç”¨æ²¡æœ‰å¯†ç çš„å…¬å…± Wi-Fiï¼Œåˆ™å¾ˆå®¹æ˜“æœ‰äººä»£æ›¿æ‚¨çš„è·¯ç”±å™¨ï¼Œè¿™æ ·æ‚¨çš„æ‰€æœ‰æŸ¥è¯¢å’Œç­”æ¡ˆéƒ½å¯ä»¥é€šè¿‡å®ƒã€‚å¦‚æœæ‚¨çš„æ•°æ®æ²¡æœ‰åŠ å¯†ï¼Œä»–å¯ä»¥åšä»–æƒ³åšçš„äº‹ã€‚å©“ htmlï¹œCSS ä¹ˆ Javascript å–„éŠ¡æ‹Ÿçœ³ã„›å³è¤«çœ•è¾†ä¿´æ™¤æ€ƒï¹ã€‚å› æ­¤ï¼Œè€ƒè™‘åˆ°æˆ‘ä»¬å¯¹ XSS çš„äº†è§£ï¼Œä½ å¯ä»¥æƒ³è±¡è¿™ä¼šå˜å¾—å¤šä¹ˆå±é™©ã€‚

> å¥½å§ï¼Œä½†æˆ‘çš„è®¡ç®—æœºå’ŒæœåŠ¡å™¨æ€ä¹ˆçŸ¥é“å¦‚ä½•åŠ å¯†/è§£å¯†ï¼Œä½† MITM ä¸çŸ¥é“ï¼Ÿ

å®‰å…¨å¥—æ¥å­—å±‚(SSL)ä»¥åŠæœ€è¿‘çš„ä¼ è¾“å±‚å®‰å…¨æ€§(TLS)å°±æ˜¯åœ¨è¿™ç§æƒ…å†µä¸‹å‡ºç°çš„ã€‚TLS äº 1999 å¹´å–ä»£ SSLï¼Œæˆä¸º HTTPS ä¸­ä½¿ç”¨çš„åŠ å¯†æŠ€æœ¯ã€‚æˆ‘ä»¬ä¸ä¼šåœ¨æ­¤è§£é‡Š TLS æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œè¿™ä¸æ˜¯æœ¬æ–‡çš„ç›®çš„ã€‚

## [](#http-stricttransportsecurity-hsts)HTTP ä¸¥æ ¼-è¿è¾“-å®‰å…¨(HSTS)

è¿™ä¸ªå¾ˆç®€å•ã€‚å†ä¸¾ä¸€ä¸ª Facebook å¤´åƒä¸ºä¾‹:

```
strict-transport-security: max-age=15552000; preload 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

*   **ã€æœ€å¤§å¹´é¾„ã€‘**å‘ŠçŸ¥æµè§ˆå™¨ç”¨æˆ·è¢«è¿«è®¿é—® HTTPS ç½‘ç«™çš„æ—¶é—´ã€‚
*   **é¢„å¤‡å½¹**åœ¨æœ¬æ–‡ä¸­å¹¶ä¸é‡è¦ã€‚è¿™æ˜¯ Google æ‰˜ç®¡çš„æœåŠ¡ï¼Œä¸å±äº HSS è§„èŒƒçš„ä¸€éƒ¨åˆ†ã€‚

æ­¤æ ‡å¤´ä»…åœ¨é€šè¿‡ HTTPS è®¿é—®ç«™ç‚¹æ—¶æ‰é€‚ç”¨ã€‚å¦‚æœåœ¨ HTTP ä¸­è®¿é—®ï¼Œåˆ™ä¼šå¿½ç•¥æ ‡å¤´ã€‚åŸå› å¾ˆç®€å•:HTTP å¤ªä¸å®‰å…¨ï¼Œæˆ‘ä»¬æ— æ³•ä¿¡ä»»å®ƒã€‚

è®©æˆ‘ä»¬å†ç”¨ Facebook çš„ä¾‹å­æ¥è¯´æ˜å®ƒåœ¨å®è·µä¸­æ˜¯å¤šä¹ˆæœ‰ç”¨æ‚¨æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®`facebook.com`ï¼Œè€Œä¸”å› ä¸ºæ‚¨çŸ¥é“ HTTPS æ¯” HTTP æ›´å®‰å…¨ï¼Œæ‰€ä»¥æ‚¨ä½¿ç”¨ HTTPSã€ [https://facebook.com](https://facebook.com) ã€‚ç»éŠ¡æ‹Ÿè¯¿å½¶ HTML å¥€ã„›è”šè¯¿å½¶å–„å¥»é…¦è…”æ¢“æ €ã„›èš¬æ¢“æ €ç¡Œå°¨éŠ¡æ‹Ÿèµ»é›„ç¬­é™”ç ƒå–„ https çœ•å¤‡ç¼€è¾†ä¿´è„¤æˆ™ï¹ã€‚ä¸€ä¸ªæœˆåï¼Œæœ‰äººç”¨ HTTPã€ [http://facebook.com](http://facebook.com) å‘ç»™ä½  Facebook çš„é“¾æ¥ï¼Œç„¶åç‚¹å‡»å®ƒã€‚ç”±äºä¸€ä¸ªæœˆæ¯”æŒ‡ä»¤`max-age`ä¸­æŒ‡å®šçš„ 15552ï¼Œ000 ç§’çŸ­ï¼Œå› æ­¤æµè§ˆå™¨å°†é€šè¿‡ HTTPS å‘é€è¯·æ±‚ï¼Œä»è€Œä¿æŠ¤æ‚¨å…å—æ¥è‡ªä¸­é—´äºº(MITM)çš„æ”»å‡»ã€‚

## [](#en-conclusion)æ©ç»“è®º

web å®‰å…¨åœ¨ web å¼€å‘è¿‡ç¨‹ä¸­çš„ä»»ä½•æ—¶å€™éƒ½å¾ˆé‡è¦ã€‚ä½ è¶Šæ—©æš´éœ²è‡ªå·±ä¿æŠ¤è‡ªå·±çš„æœºä¼šå°±è¶Šå¤§ã€‚å®‰å…¨æ˜¯æ¯ä¸ªäººéƒ½åº”è¯¥å…³å¿ƒçš„è¯é¢˜ï¼Œè€Œä¸ä»…ä»…æ˜¯é‚£äº›ä»äº‹è¿™ç§èŒä¸šçš„äººï¼ğŸ‘®

[![](../Images/d281d9470042f39bd8b2748f164596b7.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--YoEgi6zU--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://blog.otso.fr/images/2018-08-15-une-introduction-rapide-a-la-securite-web/cops-are-looking-at-you.gif)