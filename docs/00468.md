# 为程序员迁移到新的 Mac

> 原文:[https://dev . to/Brandon Weiss/migrating-to-a-new-MAC-for-programmers-3j 12](https://dev.to/brandonweiss/migrating-to-a-new-mac-for-programmers-3j12)

苹果创造了伟大的体验，但迁移到一台新电脑往往不是其中之一。有几种不同的迁移方式，不清楚它们之间的相对差异是什么，当迁移时间比预期长很多时，也不清楚为什么会这样。看似永无止境的迁移对程序员的打击尤其大。

在最近再次遇到这个问题后，我做了一些研究和实验，直到我发现问题所在以及如何解决它。以下是我学到的。

## [](#target-disk-mode)目标磁盘模式

您可能已经习惯于将旧电脑引导至目标磁盘模式，然后让新电脑在安装过程中迁移旧硬盘上的内容。不要那样做！我不太明白为什么，但似乎目标磁盘模式无法以迅雷不及掩耳的速度传输；它只是降低到正常的 USB 传输速度。

## [](#migration-assistant)迁移助手

使用迁移助手，而不是目标磁盘模式。“迁移助理”是在旧电脑上运行的应用程序。它将重新启动到一个特殊的模式，这是对你的新电脑启动的设置模式的补充，并允许你的新电脑以迅雷不及掩耳的速度从你的旧电脑传输文件。

## [](#thunderbolt-cable)霹雳索

确保你有一根迅雷电缆。USB-C 和 Thunderbolt 的情况很混乱。端口看起来一模一样，电缆看起来也几乎一样。你的 Mac 附带的充电线是*而不是*Thunderbolt 线。您将知道您是否有 Thunderbolt 电缆，因为电缆的至少一端会有一个 Thunderbolt 符号。

如果您没有太多要迁移的数据，为了方便起见，也可以通过 WiFi 进行传输，因此迁移助手会要求您连接到您的 WiFi 网络，但不是很清楚*为什么*它会要求。很容易误解正在发生的事情，并连接到您的 WiFi 网络，即使您无意以这种方式迁移数据。如果你还错误地使用了 USB-C 电缆而不是 Thunderbolt 电缆，你可能会认为它在使用 Thunderbolt，而实际上它在使用 WiFi。

## [](#thunderbolt-ports)霹雳港

并非所有 MacBooks 上的所有 USB-C 端口都是 Thunderbolt 端口。我相信没有 Touch Bar 的 2016 和 2017 款 13 寸 MacBook Pros *只支持*左*两个端口上的全速数据传输。你不能使用正确的两个端口。带有* Touch Bar 的 2016 和 2017 款 13 英寸 MacBook Pros *和 2016 和 2017 款 15 英寸 MacBook Pros 在所有四个端口上都有全速数据传输。真的很混乱。谢天谢地，现在所有带 Touch Bar 的 2018 款 MacBook Pros 都支持四个端口的全速数据传输。*

## [](#zip-your-code-folder)压缩你的代码文件夹

最后一个障碍是文件本身。我注意到传输速度会到处波动。有时它会达到迅雷不及掩耳的速度，但通常会慢得像爬行一样，导致传输时间比预期长几个小时。

最终我意识到，尽管我只有大约 400 GB 的数据要传输，但它之所以比预期的要长，是因为我是一名程序员。

“迁移助理”进行文件级拷贝，一次拷贝一个文件。开始复制一个文件和完成复制一个文件是有开销的。这意味着复制一个大文件比复制许多小文件要快得多，即使它们的总大小与大文件相同。

程序员所做的工作并不占用太多空间，所以看起来数据应该传输得很快，但是我们用来安装依赖项的包管理器通常会创建大量的文件。我刚刚看了一个项目，依赖项总共有大约 120，000 个文件。将 20 或 30 个项目相乘，*得出*就是转移需要这么长时间的原因。

解决方法是压缩保存代码的文件夹，删除原始文件夹，进行传输，然后再解压缩。

* * *

之前我在迁移时获得了大约 5 MB/s 的速度。有时峰值会达到 20 MB/s，但只是短暂的。我甚至不知道转移最终需要多长时间，因为我在 20 个小时后只完成了大约三分之二就停止了。

想通这一切后我又做了一次尝试。这一次传输从 5 MB/s 开始，但慢慢增加到 105 MB/s，并在迁移的剩余时间里保持稳定。

用了 1 小时 45 分钟。🚀