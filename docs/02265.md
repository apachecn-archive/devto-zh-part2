# JavaScript ä¸­æ‰§è¡Œä¸Šä¸‹æ–‡ã€æå‡ã€ä½œç”¨åŸŸå’Œé—­åŒ…çš„ç»ˆææŒ‡å—

> åŸæ–‡:[https://dev . to/tylermcginnis/the-ultimate-guide-to-execution-contexts-raising-scopes-and-closures-in-JavaScript-4bih](https://dev.to/tylermcginnis/the-ultimate-guide-to-execution-contexts-hoisting-scopes-and-closures-in-javascript-4bih)

* * *

***è¿™æ˜¯æˆ‘ä»¬[é«˜çº§ JavaScript](https://tylermcginnis.com/courses/advanced-javascript/) è¯¾ç¨‹çš„ä¸€éƒ¨åˆ†ã€‚å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œå°±å»çœ‹çœ‹å§ã€‚***

* * *

[https://www.youtube.com/embed/Nt-qa_LlUH0](https://www.youtube.com/embed/Nt-qa_LlUH0)

è¿™ä¼¼ä¹ä»¤äººæƒŠè®¶ï¼Œä½†åœ¨æˆ‘çœ‹æ¥ï¼Œç†è§£ JavaScript è¯­è¨€æœ€é‡è¦å’Œæœ€åŸºæœ¬çš„æ¦‚å¿µæ˜¯ç†è§£æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚é€šè¿‡æ­£ç¡®åœ°å­¦ä¹ å®ƒï¼Œæ‚¨å°†èƒ½å¤Ÿå¾ˆå¥½åœ°å­¦ä¹ æ›´é«˜çº§çš„ä¸»é¢˜ï¼Œå¦‚æå‡ã€ä½œç”¨åŸŸé“¾å’Œé—­åŒ…ã€‚è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼Œä»€ä¹ˆæ˜¯â€œæ‰§è¡Œä¸Šä¸‹æ–‡â€å‘¢ï¼Ÿä¸ºäº†æ›´å¥½åœ°ç†è§£å®ƒï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æˆ‘ä»¬æ˜¯å¦‚ä½•ç¼–å†™è½¯ä»¶çš„ã€‚

ç¼–å†™è½¯ä»¶çš„ä¸€ä¸ªç­–ç•¥æ˜¯å°†æˆ‘ä»¬çš„ä»£ç åˆ†æˆç‹¬ç«‹çš„éƒ¨åˆ†ã€‚å°½ç®¡è¿™äº›â€œç‰‡æ®µâ€æœ‰è®¸å¤šä¸åŒçš„åç§°(å‡½æ•°ã€æ¨¡å—ã€åŒ…ç­‰)ï¼Œä½†å®ƒä»¬éƒ½æ˜¯ä¸ºäº†ä¸€ä¸ªç›®çš„è€Œå­˜åœ¨çš„â€”â€”åˆ†è§£å’Œç®¡ç†æˆ‘ä»¬åº”ç”¨ç¨‹åºä¸­çš„å¤æ‚æ€§ã€‚ç°åœ¨ï¼Œä¸è¦åƒç¼–å†™ä»£ç çš„äººé‚£æ ·æ€è€ƒï¼Œè€Œæ˜¯ä» JavaScript å¼•æ“çš„è§’åº¦æ€è€ƒï¼Œå®ƒçš„å·¥ä½œæ˜¯ç”± T2 è§£é‡Šä»£ç ã€‚æˆ‘ä»¬èƒ½ä¸èƒ½ä½¿ç”¨åŒæ ·çš„ç­–ç•¥ï¼Œå°†ä»£ç åˆ†æˆç‰‡æ®µï¼Œæ¥ç®¡ç†è§£é‡Šä»£ç çš„å¤æ‚æ€§ï¼Œå°±åƒæˆ‘ä»¬ä¸ºäº†ç¼–å†™ä»£ç æ‰€åšçš„é‚£æ ·ï¼Ÿäº‹å®è¯æ˜æˆ‘ä»¬å¯ä»¥ï¼Œè¿™äº›â€œç‰‡æ®µâ€è¢«ç§°ä¸ºæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚**å°±åƒå‡½æ•°/æ¨¡å—/åŒ…å…è®¸ä½ ç®¡ç†ç¼–å†™ä»£ç çš„å¤æ‚æ€§ä¸€æ ·ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡å…è®¸ JavaScript å¼•æ“ç®¡ç†è§£é‡Šå’Œè¿è¡Œä»£ç çš„å¤æ‚æ€§ã€‚**ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç›®çš„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å›ç­”çš„é—®é¢˜æ˜¯å®ƒä»¬æ˜¯å¦‚ä½•åˆ›å»ºçš„ï¼Œå®ƒä»¬ç”±ä»€ä¹ˆç»„æˆï¼Ÿ

JavaScript å¼•æ“è¿è¡Œä»£ç æ—¶åˆ›å»ºçš„ç¬¬ä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ç§°ä¸ºâ€œå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡â€ã€‚æœ€åˆï¼Œè¿™ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡å°†ç”±ä¸¤ä»¶äº‹ç»„æˆâ€”â€”ä¸€ä¸ªå…¨å±€å¯¹è±¡å’Œä¸€ä¸ªåä¸º`this`çš„å˜é‡ã€‚å¦‚æœæ‚¨åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ JavaScriptï¼Œé‚£ä¹ˆ`this`å°†å¼•ç”¨å…¨å±€å¯¹è±¡`window`,å¦‚æœæ‚¨åœ¨èŠ‚ç‚¹ç¯å¢ƒä¸­è¿è¡Œ JavaScriptï¼Œé‚£ä¹ˆ`global`å°†å¼•ç”¨å…¨å±€å¯¹è±¡ã€‚

[![Shows how even with no code, the global execution context still creates a window object and a this object for you](../Images/b6c113a8d531a6baa8832ec1707819ee.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--zlGOjGfK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://tylermcginnis.com/images/posts/advanced-javascript/no-code.png)

ä¸Šé¢æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå³ä½¿æ²¡æœ‰ä»»ä½•ä»£ç ï¼Œå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä»ç„¶ä¼šç”±ä¸¤ä¸ªä¸œè¥¿ç»„æˆâ€”â€”`window`å’Œ`this`ã€‚è¿™æ˜¯æœ€åŸºæœ¬å½¢å¼çš„å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚

è®©æˆ‘ä»¬ä¸€æ­¥æ­¥æ¥ï¼Œçœ‹çœ‹å½“æˆ‘ä»¬çœŸæ­£å¼€å§‹å‘ç¨‹åºä¸­æ·»åŠ ä»£ç æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆã€‚è®©æˆ‘ä»¬ä»æ·»åŠ å‡ ä¸ªå˜é‡å¼€å§‹ã€‚

[![Globals variables in the creation phase](../Images/7f9b9dbe876ae137993b6efe897628be.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--c-9FRS17--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://tylermcginnis.com/images/posts/advanced-javascript/global-variables-in-creation-phase.png)

[![Global variables in the execution phase](../Images/af1026104305e1a145f17ff5fa4151d4.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--RpOqaW_K--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://tylermcginnis.com/images/posts/advanced-javascript/global-variables-in-execution-phase.png)

ä½ èƒ½çœ‹å‡ºä¸Šé¢ä¸¤å¼ å›¾ç‰‡çš„ä¸åŒä¹‹å¤„å—ï¼Ÿå…³é”®æ˜¯æ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡éƒ½æœ‰ä¸¤ä¸ªç‹¬ç«‹çš„é˜¶æ®µï¼Œä¸€ä¸ª`Creation`é˜¶æ®µå’Œä¸€ä¸ª`Execution`é˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰è‡ªå·±ç‹¬ç‰¹çš„èŒè´£ã€‚

åœ¨å…¨å±€`Creation`é˜¶æ®µï¼ŒJavaScript å¼•æ“å°†

1)åˆ›å»ºä¸€ä¸ªå…¨å±€å¯¹è±¡ã€‚
2)åˆ›å»ºä¸€ä¸ªåä¸ºâ€œthisâ€çš„å¯¹è±¡ã€‚
3)ä¸ºå˜é‡å’Œå‡½æ•°è®¾ç½®å†…å­˜ç©ºé—´ã€‚
4)åœ¨å†…å­˜ä¸­æ”¾ç½®ä»»ä½•å‡½æ•°å£°æ˜æ—¶ï¼Œç»™å˜é‡å£°æ˜åˆ†é…ä¸€ä¸ªé»˜è®¤å€¼â€œæœªå®šä¹‰â€ã€‚

ç›´åˆ°`Execution`é˜¶æ®µï¼ŒJavaScript å¼•æ“æ‰å¼€å§‹ä¸€è¡Œä¸€è¡Œåœ°è¿è¡Œä»£ç å¹¶æ‰§è¡Œå®ƒã€‚

æˆ‘ä»¬å¯ä»¥åœ¨ä¸‹é¢çš„ GIF ä¸­çœ‹åˆ°è¿™ä¸ªä»`Creation`é˜¶æ®µåˆ°`Execution`é˜¶æ®µçš„æµç¨‹ã€‚

[![Animated GIF showing flow from creation phase to execution phase](../Images/9ea82229df89ba0f202e2449a17bd3ba.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--7md78Hvc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://tylermcginnis.com/images/posts/advanced-javascript/global-execution-context-gif.gif)

åœ¨`Creation`é˜¶æ®µ`window`å’Œ`this`è¢«åˆ›å»ºï¼Œå˜é‡å£°æ˜(`name`å’Œ`handle`)è¢«èµ‹äºˆé»˜è®¤å€¼`undefined`ï¼Œä»»ä½•å‡½æ•°å£°æ˜(`getUser`)è¢«å®Œå…¨æ”¾å…¥å†…å­˜ã€‚ç„¶åï¼Œä¸€æ—¦æˆ‘ä»¬è¿›å…¥`Execution`é˜¶æ®µï¼ŒJavaScript å¼•æ“å°±å¼€å§‹ä¸€è¡Œä¸€è¡Œåœ°æ‰§è¡Œä»£ç ï¼Œå¹¶å°†å®é™…å€¼èµ‹ç»™å·²ç»å­˜åœ¨äºå†…å­˜ä¸­çš„å˜é‡ã€‚

> gif å¾ˆé…·ï¼Œä½†æ²¡æœ‰å•æ­¥æ‰§è¡Œä»£ç å¹¶äº²çœ¼çœ‹åˆ°è¿‡ç¨‹é‚£ä¹ˆé…·ã€‚å› ä¸ºè¿™æ˜¯ä½ åº”å¾—çš„ï¼Œæˆ‘ä¸“é—¨ä¸ºä½ åˆ›å»ºäº† [JavaScript Visualizer](https://tylermcginnis.com/javascript-visualizer) ã€‚å¦‚æœä½ æƒ³æµè§ˆä¸Šé¢çš„ä»£ç ï¼Œä½¿ç”¨[è¿™ä¸ªé“¾æ¥](https://tylermcginnis.com/javascript-visualizer/?code=var%20name%20%3D%20%27Tyler%27%0Avar%20handle%20%3D%20%27%40tylermcginnis%27%0A%0Afunction%20getUser%20%28%29%20%7B%0A%20%20return%20%7B%0A%20%20%20%20name%3A%20name%2C%0A%20%20%20%20handle%3A%20handle%0A%20%20%7D%0A%7D)ã€‚

ä¸ºäº†çœŸæ­£å·©å›º`Creation`é˜¶æ®µä¸`Execution`é˜¶æ®µçš„æ¦‚å¿µï¼Œè®©æˆ‘ä»¬åœ¨`Creation`é˜¶æ®µä¹‹åå’Œ`Execution`é˜¶æ®µä¹‹å‰è®°å½•ä¸€äº›å€¼*ã€‚* 

```
console.log('name: ', name)
console.log('handle: ', handle)
console.log('getUser :', getUser)

var name = 'Tyler'
var handle = '@tylermcginnis'

function getUser () {
  return {
    name: name,
    handle: handle
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæ‚¨å¸Œæœ›æ§åˆ¶å°è®°å½•ä»€ä¹ˆï¼Ÿå½“ JavaScript å¼•æ“å¼€å§‹é€è¡Œæ‰§è¡Œæˆ‘ä»¬çš„ä»£ç å¹¶è°ƒç”¨æˆ‘ä»¬çš„ console.logs æ—¶ï¼Œ`Creation`é˜¶æ®µå·²ç»å‘ç”Ÿäº†ã€‚è¿™æ„å‘³ç€ï¼Œæ­£å¦‚æˆ‘ä»¬å‰é¢çœ‹åˆ°çš„ï¼Œå˜é‡å£°æ˜åº”è¯¥å·²ç»è¢«èµ‹å€¼ä¸º`undefined`ï¼Œè€Œå‡½æ•°å£°æ˜åº”è¯¥å·²ç»å®Œå…¨åœ¨å†…å­˜ä¸­ã€‚æ­£å¦‚æˆ‘ä»¬æ‰€æ–™ï¼Œ`name`å’Œ`handle`æ˜¯`undefined`ï¼Œè€Œ`getUser`æ˜¯å¯¹å†…å­˜ä¸­å‡½æ•°çš„å¼•ç”¨ã€‚

```
console.log('name: ', name) // name: undefined
console.log('handle: ', handle) // handle: undefined
console.log('getUser :', getUser) // getUser: Æ’ getUser () {}

var name = 'Tyler'
var handle = '@tylermcginnis'

function getUser () {
  return {
    name: name,
    handle: handle
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> è¿™ä¸ªåœ¨åˆ›å»ºé˜¶æ®µç»™å˜é‡å£°æ˜èµ‹äºˆé»˜è®¤å€¼`undefined`çš„è¿‡ç¨‹è¢«ç§°ä¸º**æå‡**ã€‚

å¸Œæœ›ä½ åªæ˜¯â€œå•Šå“ˆï¼â€œæ—¶åˆ»ã€‚ä½ å¯èƒ½å·²ç»å¾—åˆ°äº†â€œåŠè£…â€çš„è§£é‡Šï¼Œä½†å¹¶ä¸æˆåŠŸã€‚â€œæå‡â€ä»¤äººå›°æƒ‘çš„ä¸€ç‚¹æ˜¯ï¼Œå®é™…ä¸Šæ²¡æœ‰ä¸œè¥¿è¢«â€œæå‡â€æˆ–ç§»åŠ¨ã€‚ç°åœ¨æ‚¨å·²ç»ç†è§£äº†æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå¹¶ä¸”åœ¨`Creation`é˜¶æ®µï¼Œå˜é‡å£°æ˜è¢«èµ‹äºˆäº†ä¸€ä¸ªé»˜è®¤å€¼`undefined`ï¼Œæ‚¨ç†è§£äº†â€œæå‡â€,å› ä¸ºè¿™å®é™…ä¸Šå°±æ˜¯æå‡ã€‚

* * *

æ­¤æ—¶ï¼Œæ‚¨åº”è¯¥å¯¹å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡åŠå…¶ä¸¤ä¸ªé˜¶æ®µ`Creation`å’Œ`Execution`ç›¸å½“ç†Ÿæ‚‰äº†ã€‚å¥½æ¶ˆæ¯æ˜¯ï¼Œæ‚¨åªéœ€è¦å­¦ä¹ å¦ä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå®ƒå‡ ä¹ä¸å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å®Œå…¨ç›¸åŒã€‚å®ƒè¢«ç§°ä¸ºå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæ¯å½“å‡½æ•°è¢«**è°ƒç”¨**æ—¶å°±ä¼šè¢«åˆ›å»ºã€‚

è¿™æ˜¯å…³é”®ã€‚åªæœ‰åœ¨ JavaScript å¼•æ“ç¬¬ä¸€æ¬¡å¼€å§‹è§£é‡Šæ‚¨çš„ä»£ç (å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡)ä»¥åŠè°ƒç”¨å‡½æ•°æ—¶ï¼Œæ‰ä¼šåˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚

ç°åœ¨æˆ‘ä»¬éœ€è¦å›ç­”çš„ä¸»è¦é—®é¢˜æ˜¯ï¼Œå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å’Œå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚å¦‚æœæ‚¨è¿˜è®°å¾—ï¼Œæˆ‘ä»¬åœ¨å‰é¢è¯´è¿‡ï¼Œåœ¨å…¨å±€`Creation`é˜¶æ®µï¼ŒJavaScript å¼•æ“å°†

1)åˆ›å»ºä¸€ä¸ªå…¨å±€å¯¹è±¡ã€‚
2)åˆ›å»ºä¸€ä¸ªåä¸ºâ€œthisâ€çš„å¯¹è±¡ã€‚
3)ä¸ºå˜é‡å’Œå‡½æ•°è®¾ç½®å†…å­˜ç©ºé—´ã€‚
4)åœ¨å†…å­˜ä¸­æ”¾ç½®ä»»ä½•å‡½æ•°å£°æ˜æ—¶ï¼Œç»™å˜é‡å£°æ˜åˆ†é…ä¸€ä¸ªé»˜è®¤å€¼â€œæœªå®šä¹‰â€ã€‚

å½“æˆ‘ä»¬è°ˆè®ºå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡æ—¶ï¼Œå“ªäº›æ­¥éª¤**å’Œ**æ²¡æœ‰æ„ä¹‰ï¼Ÿè¿™æ˜¯ç¬¬ä¸€æ­¥ã€‚æˆ‘ä»¬åº”è¯¥åªåœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡çš„`Creation`é˜¶æ®µåˆ›å»ºä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œè€Œä¸æ˜¯æ¯æ¬¡è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼ŒJavaScript å¼•æ“åˆ›å»ºä¸€ä¸ªå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚é™¤äº†åˆ›å»ºä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡éœ€è¦æ‹…å¿ƒçš„ä¸€ä»¶äº‹æ˜¯ï¼Œå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡æ²¡æœ‰å‚æ•°ã€‚è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä¹‹å‰çš„åˆ—è¡¨ã€‚æ¯å½“**å‡½æ•°**æ‰§è¡Œä¸Šä¸‹æ–‡è¢«åˆ›å»ºæ—¶ï¼ŒJavaScript å¼•æ“å°†

1.~~åˆ›å»ºä¸€ä¸ªå…¨å±€å¯¹è±¡ã€‚~~

1ã€‚åˆ›å»º arguments å¯¹è±¡ã€‚
2
ã€‚åˆ›å»ºåä¸º this çš„å¯¹è±¡ã€‚

3ã€‚ä¸ºå˜é‡å’Œå‡½æ•°è®¾ç½®å†…å­˜ç©ºé—´ã€‚

4ã€‚å°†ä»»ä½•å‡½æ•°å£°æ˜æ”¾åœ¨å†…å­˜ä¸­æ—¶ï¼Œç»™å˜é‡å£°æ˜èµ‹ä¸€ä¸ªç¼ºçœå€¼â€œundefinedâ€ã€‚

ä¸ºäº†çœ‹åˆ°è¿™ä¸€ç‚¹ï¼Œè®©æˆ‘ä»¬å›åˆ°å‰é¢çš„ä»£ç ï¼Œä½†æ˜¯è¿™æ¬¡ä¸æ˜¯ä»…ä»…å®šä¹‰`getUser`ï¼Œè€Œæ˜¯è®©æˆ‘ä»¬çœ‹çœ‹å½“æˆ‘ä»¬è°ƒç”¨å®ƒæ—¶ä¼šå‘ç”Ÿä»€ä¹ˆã€‚

> [è‡ªå·±å°†ä»£ç å¯è§†åŒ–](https://tylermcginnis.com/javascript-visualizer/?code=var%20name%20%3D%20%27Tyler%27%0Avar%20handle%20%3D%20%27%40tylermcginnis%27%0A%0Afunction%20getUser%20%28%29%20%7B%0A%20%20return%20%7B%0A%20%20%20%20name%3A%20name%2C%0A%20%20%20%20handle%3A%20handle%0A%20%20%7D%0A%7D%0A%0AgetUser%28%29)

[![GIF showing how a new execution context is created when a function is invoked](../Images/097a113497211efb971c2f2519835963.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--LULiqLC6--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://tylermcginnis.com/images/posts/advanced-javascript/function-execution-context-gif.gif)

æ­£å¦‚æˆ‘ä»¬è°ˆåˆ°çš„ï¼Œå½“æˆ‘ä»¬è°ƒç”¨`getUser`æ—¶ï¼Œä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡è¢«åˆ›å»ºã€‚åœ¨`getUsers`æ‰§è¡Œä¸Šä¸‹æ–‡çš„`Creation`é˜¶æ®µï¼ŒJavaScript å¼•æ“åˆ›å»ºä¸€ä¸ª`this`å¯¹è±¡å’Œä¸€ä¸ª`arguments`å¯¹è±¡ã€‚å› ä¸º`getUser`æ²¡æœ‰ä»»ä½•å˜é‡ï¼ŒJavaScript å¼•æ“ä¸éœ€è¦è®¾ç½®ä»»ä½•å†…å­˜ç©ºé—´æˆ–è€…â€œæå‡â€ä»»ä½•å˜é‡å£°æ˜ã€‚

æ‚¨å¯èƒ½è¿˜æ³¨æ„åˆ°ï¼Œå½“`getUser`å‡½æ•°æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œå®ƒä¼šä»å¯è§†åŒ–ä¸­ç§»é™¤ã€‚å®é™…ä¸Šï¼ŒJavaScript å¼•æ“åˆ›å»ºäº†æ‰€è°“çš„â€œæ‰§è¡Œå †æ ˆâ€(ä¹Ÿç§°ä¸ºâ€œè°ƒç”¨å †æ ˆâ€)ã€‚æ¯å½“è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶å°†å…¶æ·»åŠ åˆ°æ‰§è¡Œå †æ ˆä¸­ã€‚æ¯å½“ä¸€ä¸ªå‡½æ•°é€šè¿‡`Creation`å’Œ`Execution`é˜¶æ®µå®Œæˆè¿è¡Œæ—¶ï¼Œå®ƒå°±ä¼šä»æ‰§è¡Œå †æ ˆä¸­å¼¹å‡ºã€‚å› ä¸º JavaScript æ˜¯å•çº¿ç¨‹çš„(æ„å‘³ç€ä¸€æ¬¡åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡)ï¼Œæ‰€ä»¥è¿™å¾ˆå®¹æ˜“å¯è§†åŒ–ã€‚ä½¿ç”¨â€œJavaScript Visualizer â€,æ‰§è¡Œå †æ ˆä»¥åµŒå¥—æ–¹å¼æ˜¾ç¤ºï¼Œæ¯ä¸ªåµŒå¥—é¡¹ç›®éƒ½æ˜¯æ‰§è¡Œå †æ ˆä¸Šçš„ä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚

> [è‡ªå·±å°†ä»£ç å¯è§†åŒ–](https://tylermcginnis.com/javascript-visualizer/?code=function%20a%20%28%29%20%7B%0A%20%20console.log%28%27In%20fn%20a%27%29%0A%20%20%0A%20%20function%20b%20%28%29%20%7B%0A%20%20%20%20console.log%28%27In%20fn%20b%27%29%0A%20%20%20%20%0A%20%20%20%20function%20c%20%28%29%20%7B%0A%20%20%20%20%20%20console.log%28%27In%20fn%20c%27%29%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20c%28%29%0A%20%20%7D%0A%0A%20%20b%28%29%0A%7D%0A%0Aa%28%29)

[![Shows how JavaScript is single threaded and each time a function is invoked, a new execution context is added to the execution stack](../Images/070a52a1a2172e9cdfc76486ecd579cf.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--I8h-mVqz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://tylermcginnis.com/images/posts/advanced-javascript/javascript-execution-stack.gif)

* * *

è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»çœ‹åˆ°äº†å‡½æ•°è°ƒç”¨å¦‚ä½•åˆ›å»ºè‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œè¿™äº›ä¸Šä¸‹æ–‡è¢«æ”¾ç½®åœ¨æ‰§è¡Œå †æ ˆä¸Šã€‚æˆ‘ä»¬è¿˜ä¸çŸ¥é“å±€éƒ¨å˜é‡æ˜¯å¦‚ä½•èµ·ä½œç”¨çš„ã€‚è®©æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹ä»£ç ï¼Œè®©æˆ‘ä»¬çš„å‡½æ•°æœ‰å±€éƒ¨å˜é‡ã€‚

> [è‡ªå·±å°†ä»£ç å¯è§†åŒ–](https://tylermcginnis.com/javascript-visualizer/?code=var%20name%20%3D%20%27Tyler%27%0Avar%20handle%20%3D%20%27%40tylermcginnis%27%0A%0Afunction%20getURL%20%28handle%29%20%7B%0A%20%20var%20twitterURL%20%3D%20%27https%3A%2F%2Ftwitter.com%2F%27%0A%0A%20%20return%20twitterURL%20%2B%20handle%0A%7D%0A%0AgetURL%28handle%29)

[![Execution Context with local variables and an argument](../Images/e2e475207a9de8a80b0872d16f9dd362.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--nNw8pRhb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://tylermcginnis.com/images/posts/advanced-javascript/local-variables.gif)

è¿™é‡Œæœ‰å‡ ä¸ªé‡è¦çš„ç»†èŠ‚éœ€è¦æ³¨æ„ã€‚é¦–å…ˆï¼Œæ‚¨ä¼ å…¥çš„ä»»ä½•å‚æ•°éƒ½å°†ä½œä¸ºå±€éƒ¨å˜é‡æ·»åŠ åˆ°è¯¥å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`handle`æ—¢ä½œä¸ºå˜é‡å­˜åœ¨äº`Global`æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­(å› ä¸ºå®ƒæ˜¯åœ¨é‚£é‡Œè¢«å®šä¹‰çš„),ä¹Ÿå­˜åœ¨äº`getURL`æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ï¼Œå› ä¸ºæˆ‘ä»¬æŠŠå®ƒä½œä¸ºå‚æ•°ä¼ å…¥ã€‚å…¶æ¬¡ï¼Œåœ¨å‡½æ•°å†…éƒ¨å£°æ˜çš„å˜é‡å­˜åœ¨äºå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ã€‚æ‰€ä»¥å½“æˆ‘ä»¬åˆ›å»º`twitterURL`æ—¶ï¼Œå®ƒå­˜åœ¨äº`getURL`æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ï¼Œå› ä¸ºå®ƒæ˜¯åœ¨é‚£é‡Œå®šä¹‰çš„ï¼Œ**è€Œä¸æ˜¯**æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚è¿™ä¼¼ä¹æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œä½†å®ƒæ˜¯æˆ‘ä»¬ä¸‹ä¸€ä¸ªä¸»é¢˜ä½œç”¨åŸŸçš„åŸºç¡€ã€‚

* * *

è¿‡å»ï¼Œä½ å¯èƒ½å¬è¯´è¿‡â€œä½œç”¨åŸŸâ€çš„å®šä¹‰ï¼Œç±»ä¼¼äºâ€œå˜é‡å¯è®¿é—®çš„åœ°æ–¹â€ã€‚ä¸ç®¡è¿™åœ¨å½“æ—¶æ˜¯å¦æœ‰æ„ä¹‰ï¼Œæœ‰äº†æ‚¨å¯¹æ‰§è¡Œä¸Šä¸‹æ–‡å’Œ JavaScript Visualizer å·¥å…·çš„æ–°çŸ¥è¯†ï¼Œä½œç”¨åŸŸå°†æ¯”ä»¥å‰æ›´åŠ æ¸…æ™°ã€‚äº‹å®ä¸Šï¼ŒMDN å°†â€œèŒƒå›´â€å®šä¹‰ä¸ºâ€œæ‰§è¡Œçš„å½“å‰ä¸Šä¸‹æ–‡â€ã€‚å¬èµ·æ¥ç†Ÿæ‚‰å—ï¼Ÿæˆ‘ä»¬å¯ä»¥æŠŠâ€œèŒƒå›´â€æˆ–â€œå˜é‡å¯è®¿é—®çš„ä½ç½®â€ç†è§£ä¸ºä¸æˆ‘ä»¬ç†è§£æ‰§è¡Œä¸Šä¸‹æ–‡çš„æ–¹å¼éå¸¸ç›¸ä¼¼ã€‚

ç»™ä½ åšä¸ªæµ‹è¯•ã€‚å½“`bar`è¢«è®°å½•åœ¨ä¸‹é¢çš„ä»£ç ä¸­æ—¶ä¼šæ˜¯ä»€ä¹ˆï¼Ÿ

```
function foo () {
  var bar = 'Declared in foo'
}

foo()

console.log(bar) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è®©æˆ‘ä»¬åœ¨ JavaScript Visualizer ä¸­æ£€æŸ¥ä¸€ä¸‹ã€‚

> [è‡ªå·±å°†ä»£ç å¯è§†åŒ–](https://tylermcginnis.com/javascript-visualizer/?code=function%20foo%20%28%29%20%7B%0A%20%20var%20bar%20%3D%20%27Declared%20in%20foo%27%0A%7D%0A%0Afoo%28%29%0A%0Aconsole.log%28bar%29)

[![Visualizes how variables can't be accessed once the Execution Context is removed from the stack](../Images/3323551d4b26338e0a641d0d12dcdbdb.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--5eewZCIV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://tylermcginnis.com/images/posts/advanced-javascript/scope.gif)

å½“`foo`è¢«è°ƒç”¨æ—¶ï¼Œæˆ‘ä»¬åœ¨æ‰§è¡Œå †æ ˆä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚`Creation`é˜¶æ®µåˆ›å»º`this`ã€`arguments`ï¼Œå¹¶å°†`bar`è®¾ç½®ä¸º`undefined`ã€‚ç„¶åè¿›å…¥`Execution`é˜¶æ®µï¼Œå°†å­—ç¬¦ä¸²`Declared in foo`åˆ†é…ç»™`bar`ã€‚ä¹‹åï¼Œ`Execution`é˜¶æ®µç»“æŸï¼Œå¹¶ä¸”`foo`æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å¼¹å‡ºå †æ ˆã€‚ä¸€æ—¦`foo`ä»æ‰§è¡Œå †æ ˆä¸­ç§»é™¤ï¼Œæˆ‘ä»¬å°±å°è¯•å°†`bar`è®°å½•åˆ°æ§åˆ¶å°ã€‚æ ¹æ® JavaScript Visualizerï¼Œé‚£ä¸€åˆ»å°±å¥½åƒ`bar`ä»æœªå­˜åœ¨è¿‡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—åˆ°äº†`undefined`ã€‚è¿™å‘æˆ‘ä»¬å±•ç¤ºäº†åœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºçš„å˜é‡æ˜¯å±€éƒ¨ä½œç”¨åŸŸçš„ã€‚è¿™æ„å‘³ç€(åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šï¼Œæˆ‘ä»¬ç¨åä¼šçœ‹åˆ°ä¸€ä¸ªå¼‚å¸¸)ä¸€æ—¦å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å¼¹å‡ºæ‰§è¡Œå †æ ˆï¼Œå®ƒä»¬å°±ä¸èƒ½è¢«è®¿é—®ã€‚

è¿™æ˜¯å¦ä¸€ä¸ªã€‚ä»£ç æ‰§è¡Œå®Œæ¯•åï¼Œæ§åˆ¶å°ä¸Šä¼šè®°å½•ä»€ä¹ˆï¼Ÿ

```
function first () {
  var name = 'Jordyn'

  console.log(name)
}

function second () {
  var name = 'Jake'

  console.log(name)
}

console.log(name)
var name = 'Tyler'
first()
second()
console.log(name) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åŒæ ·ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹ JavaScript å¯è§†åŒ–å·¥å…·ã€‚

> [è‡ªå·±å°†ä»£ç å¯è§†åŒ–](https://tylermcginnis.com/javascript-visualizer?code=function%20first%20%28%29%20%7B%0A%20%20var%20name%20%3D%20%27Jordyn%27%0A%0A%20%20console.log%28name%29%0A%7D%0A%0Afunction%20second%20%28%29%20%7B%0A%20%20var%20name%20%3D%20%27Jake%27%0A%0A%20%20console.log%28name%29%0A%7D%0A%0Aconsole.log%28name%29%0Avar%20name%20%3D%20%27Tyler%27%0Afirst%28%29%0Asecond%28%29%0Aconsole.log%28name%29)

[![Visualized how each scope has its own unique variable environment](../Images/34d00445382324966c9462e35fd8489c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--RMZ8IP7r--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://tylermcginnis.com/images/posts/advanced-javascript/unique-scopes.gif)

æˆ‘ä»¬å¾—åˆ°`undefined`ã€`Jordyn`ã€`Jake`ï¼Œç„¶åæ˜¯`Tyler`ã€‚è¿™å‘æˆ‘ä»¬å±•ç¤ºçš„æ˜¯ï¼Œæ‚¨å¯ä»¥å°†æ¯ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡è§†ä¸ºå…·æœ‰è‡ªå·±ç‹¬ç‰¹çš„å˜é‡ç¯å¢ƒã€‚å³ä½¿æœ‰å…¶ä»–åŒ…å«å˜é‡`name`çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ŒJavaScript å¼•æ“ä¹Ÿä¼šé¦–å…ˆåœ¨å½“å‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾è¯¥å˜é‡ã€‚

è¿™å°±å¸¦æ¥äº†ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœå˜é‡åœ¨å½“å‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ä¸å­˜åœ¨æ€ä¹ˆåŠï¼ŸJavaScript å¼•æ“ä¼šåœæ­¢å¯»æ‰¾é‚£ä¸ªå˜é‡å—ï¼Ÿè®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­æ¥å›ç­”è¿™ä¸ªé—®é¢˜ã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œå°†è®°å½•ä»€ä¹ˆï¼Ÿ

```
var name = 'Tyler'

function logName () {
  console.log(name)
}

logName() 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> [è‡ªå·±å°†ä»£ç å¯è§†åŒ–](https://tylermcginnis.com/javascript-visualizer/?code=var%20name%20%3D%20%27Tyler%27%0A%0Afunction%20logName%20%28%29%20%7B%0A%20%20console.log%28name%29%0A%7D%0A%0AlogName%28%29)

[![Visualizes how if an execution context can't find a variable, it'll look in all its parent execution contexts](../Images/d2aa1495b8ece82162593059a76a8247.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--9WS5dZ24--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://tylermcginnis.com/images/posts/advanced-javascript/parent-lookup.gif)

æ‚¨çš„ç›´è§‰å¯èƒ½æ˜¯å®ƒå°†è®°å½•`undefined`ï¼Œå› ä¸º`logName`æ‰§è¡Œä¸Šä¸‹æ–‡åœ¨å…¶èŒƒå›´å†…æ²¡æœ‰`name`å˜é‡ã€‚é‚£æ˜¯å…¬å¹³çš„ï¼Œä½†æ˜¯å®ƒæ˜¯é”™è¯¯çš„ã€‚å¦‚æœ JavaScript å¼•æ“æ‰¾ä¸åˆ°å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„æœ¬åœ°å˜é‡ï¼Œå®ƒä¼šåœ¨æœ€è¿‘çš„çˆ¶æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾è¯¥å˜é‡ã€‚è¿™ä¸ªæŸ¥æ‰¾é“¾å°†ä¸€ç›´ç»§ç»­ä¸‹å»ï¼Œç›´åˆ°å¼•æ“åˆ°è¾¾å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡æ²¡æœ‰è¯¥å˜é‡ï¼Œå®ƒå°†æŠ›å‡ºä¸€ä¸ªå¼•ç”¨é”™è¯¯ã€‚

> JavaScript å¼•æ“é€ä¸ªæ£€æŸ¥æ¯ä¸ªå•ç‹¬çš„çˆ¶æ‰§è¡Œä¸Šä¸‹æ–‡(å¦‚æœå˜é‡ä¸å­˜åœ¨äºæœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­)çš„è¿‡ç¨‹ç§°ä¸º`Scope Chain`ã€‚JavaScript Visualizer é€šè¿‡ç¼©è¿›æ¯ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶ä½¿ç”¨ç‹¬ç‰¹çš„å½©è‰²èƒŒæ™¯æ¥æ˜¾ç¤ºä½œç”¨åŸŸé“¾ã€‚ä»è§†è§‰ä¸Šå¯ä»¥çœ‹åˆ°ï¼Œä»»ä½•å­æ‰§è¡Œä¸Šä¸‹æ–‡éƒ½å¯ä»¥å¼•ç”¨ä½äºå…¶ä»»ä½•çˆ¶æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„ä»»ä½•å˜é‡ï¼Œä½†åä¹‹åˆ™ä¸ç„¶ã€‚

* * *

å‰é¢æˆ‘ä»¬äº†è§£åˆ°ï¼Œåœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºçš„å˜é‡æ˜¯å±€éƒ¨ä½œç”¨åŸŸçš„ï¼Œä¸€æ—¦å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å¼¹å‡ºæ‰§è¡Œå †æ ˆï¼Œå®ƒä»¬å°±ä¸èƒ½è¢«è®¿é—®äº†ã€‚æ˜¯æ—¶å€™æ·±å…¥é‚£ä¸ªâ€œ**å¤§éƒ¨**â€äº†ã€‚ä¸€ç§ä¸æ­£ç¡®çš„æƒ…å†µæ˜¯ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°åµŒå¥—åœ¨å¦ä¸€ä¸ªå‡½æ•°ä¸­ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå³ä½¿çˆ¶å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å·²ç»ä»æ‰§è¡Œå †æ ˆä¸­ç§»é™¤ï¼Œå­å‡½æ•°ä»ç„¶å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°çš„èŒƒå›´ã€‚è¯´äº†å¾ˆå¤šè¯ã€‚å’Œå¾€å¸¸ä¸€æ ·ï¼ŒJavaScript Visualizer å¯ä»¥å¸®åŠ©æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

> [è‡ªå·±å°†ä»£ç å¯è§†åŒ–](https://tylermcginnis.com/javascript-visualizer/?code=var%20count%20%3D%200%0A%0Afunction%20makeAdder%28x%29%20%7B%0A%20%20return%20function%20inner%20%28y%29%20%7B%0A%20%20%20%20return%20x%20%2B%20y%3B%0A%20%20%7D%3B%0A%7D%0A%0Avar%20add5%20%3D%20makeAdder%285%29%3B%0Acount%20%2B%3D%20add5%282%29)

[![Visualizes closures](../Images/419744ca85f3e250f4fad9dbfbcd7205.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--dUcCeGvH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://tylermcginnis.com/images/posts/advanced-javascript/closure-scope.gif)

æ³¨æ„ï¼Œåœ¨`makeAdder`æ‰§è¡Œä¸Šä¸‹æ–‡ä»æ‰§è¡Œå †æ ˆä¸­å¼¹å‡ºåï¼ŒJavaScript Visualizer ä¼šåˆ›å»ºä¸€ä¸ªæ‰€è°“çš„`Closure Scope`ã€‚åœ¨é‚£ä¸ª`Closure Scope`å†…éƒ¨æ˜¯å­˜åœ¨äº`makeAdder`æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„åŒä¸€ä¸ªå˜é‡ç¯å¢ƒã€‚å‘ç”Ÿè¿™ç§æƒ…å†µçš„åŸå› æ˜¯å› ä¸ºæˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°åµŒå¥—åœ¨å¦ä¸€ä¸ªå‡½æ•°ä¸­ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œ`inner`å‡½æ•°åµŒå¥—åœ¨`makeAdder`å‡½æ•°ä¸­ï¼Œæ‰€ä»¥`inner`åœ¨`makeAdder`å˜é‡ç¯å¢ƒä¸Šåˆ›å»ºäº†ä¸€ä¸ª`Closure`ã€‚å³ä½¿åœ¨`makeAdder`æ‰§è¡Œç¯å¢ƒè¢«å¼¹å‡ºæ‰§è¡Œå †æ ˆä¹‹åï¼Œå› ä¸º`Closure Scope`è¢«åˆ›å»ºï¼Œ`inner`ä»ç„¶å¯ä»¥è®¿é—®`x`å˜é‡(é€šè¿‡ä½œç”¨åŸŸé“¾)ã€‚

æ­£å¦‚æ‚¨å¯èƒ½çŒœåˆ°çš„é‚£æ ·ï¼Œå­å‡½æ•°â€œå…³é—­â€å…¶çˆ¶å‡½æ•°çš„å¯å˜ç¯å¢ƒçš„æ¦‚å¿µè¢«ç§°ä¸º`Closures`ã€‚

* * *

### [](#bonus-section)å¥–é‡‘éƒ¨åˆ†

è¿™é‡Œè¿˜æœ‰å‡ ä¸ªç›¸å…³çš„è¯é¢˜ï¼Œæˆ‘çŸ¥é“å¦‚æœæˆ‘ä¸æçš„è¯ï¼Œä¼šæœ‰äººæ‰¾æˆ‘çš„éº»çƒ¦ğŸ™ˆã€‚

#### [](#global-variables)å…¨å±€å˜é‡

åœ¨æµè§ˆå™¨ä¸­ï¼Œæ¯å½“æ‚¨åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­(ä»»ä½•å‡½æ•°ä¹‹å¤–)åˆ›å»ºä¸€ä¸ªå˜é‡æ—¶ï¼Œè¯¥å˜é‡å°†ä½œä¸ºå±æ€§æ·»åŠ åˆ°`window`å¯¹è±¡ä¸­ã€‚

åœ¨æµè§ˆå™¨å’ŒèŠ‚ç‚¹ä¸­ï¼Œå¦‚æœä½ åˆ›å»ºä¸€ä¸ªæ²¡æœ‰å£°æ˜çš„å˜é‡(å³æ²¡æœ‰`var`ã€`let`æˆ–`const`)ï¼Œè¿™ä¸ªå˜é‡ä¹Ÿå°†ä½œä¸ºä¸€ä¸ªå±æ€§æ·»åŠ åˆ°å…¨å±€å¯¹è±¡ä¸­ã€‚

```
// In the browser
var name = 'Tyler'

function foo () {
  bar = 'Created in foo without declaration'
}

foo()

console.log(window.name) // Tyler
console.log(window.bar) // Created in foo without declaration 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

#### [](#let-and-const)è®¾å’Œå¸¸æ•°

[https://www.youtube.com/embed/6vBYfLCE9-Q](https://www.youtube.com/embed/6vBYfLCE9-Q)

#### [](#the-this-keyword)è¿™ä¸ªå…³é”®å­—

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬äº†è§£åˆ°åœ¨æ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡çš„`Creation`é˜¶æ®µï¼ŒJavaScript å¼•æ“ä¼šåˆ›å»ºä¸€ä¸ªåä¸º`this`çš„å¯¹è±¡ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ä»¥åŠå¦‚ä½•ç¡®å®šä»€ä¹ˆæ˜¯`this`å…³é”®å­—ï¼Œæˆ‘å»ºè®®é˜…è¯» [**WTF is this -ç†è§£ this å…³é”®å­—ï¼Œç”¨ JavaScript**](https://tylermcginnis.com/this-keyword-call-apply-bind-javascript/) è°ƒç”¨ã€åº”ç”¨å’Œç»‘å®š

* * *

è¿™ç¯‡æ–‡ç« æœ€åˆå‘è¡¨åœ¨ TylerMcGinnis.com å¤§å­¦ï¼Œæ˜¯ä»–ä»¬åœ¨ T2 å¤§å­¦é«˜çº§ JavaScript è¯¾ç¨‹çš„ä¸€éƒ¨åˆ†ã€‚