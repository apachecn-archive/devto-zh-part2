# 如何构建家庭 Wi-Fi 的 2 因子 Auth？

> 原文:[https://dev.to/vinayhegde1990/2-factor-for-home-wi-fi-1i7k](https://dev.to/vinayhegde1990/2-factor-for-home-wi-fi-1i7k)

由于我们现在 24x7x365 都在使用互联网，我觉得很少有人愿意花时间在我们无处不在的路由器的安全性上，或者对其进行优化。这源于这样一个事实，即当前大多数原始设备制造商经常提供我们设置一次的神秘功能&忘记何时再次需要它。

据我所知，像 [DD-WRT](https://dd-wrt.com/) 、 [OpenWRT](https://openwrt.org/) 、 [VyOS](https://vyos.io/) 、[番茄](http://www.polarcloud.com/tomato)、 [PfSense](https://www.pfsense.org/) 这样的固件确实存在，以弥合这一差距，但它们有一个非常陡峭的学习曲线，这使得它们过于依赖于掌握它的人。

我最近还发现，由于 WPA2 [漏洞](https://www.krackattacks.com/)，所有家庭/企业 Wi-Fi 设备都有可能被破坏，因此我希望实施双因素身份认证&以下是我的要求:

## 硬件:

一个带 RJ-45 广域网的普通路由器需要 4 个 RJ-45 局域网端口和 Wi-Fi 功能，预算在 100 美元左右。

## 软件:

1.  Linux 操作系统具有 web-UI / CLI 来查看流量统计、跟踪和管理用户、日志记录、带宽跟踪/节流。
2.  能够在( *Python、Go、Ruby 或 Shell* )中添加定制插件。
3.  出现问题时易于理解的文档。
4.  任何外部应用(*再次开源*)通过短信进行双因素认证。

## 双因素认证流程:

1.  人们使用他们的智能手机或其他移动设备与我的 Wi-Fi 配对并输入密码(*标准方法，此处不涉及 RADIUS 或 Active Directory】*
2.  他们看到一个闪屏页面，输入他们的手机号码(*像公共 Wi-Fi 热点，例如:印度的 Google RailWire Wi-Fi*
3.  然后，他们输入自己的手机号码，我的路由器会存储这些号码，可能还会存储移动设备的 **MAC ID** &等一些关键信息。
4.  我的路由器现在将通过**短信**向上面提供的号码发送一个**动态口令**。
5.  人们使用 **OTP** 连接到我的 Wi-Fi post，路由器验证后给予他们访问权限。
6.  然后，只要连接持续，路由器就会跟踪该 **MAC ID** 的使用情况。
7.  如果连接中断，用户必须使用步骤 2 →步骤 5 重新验证

* * *

#### 谁能分享一下关于实现上述所有功能的系统的信息？