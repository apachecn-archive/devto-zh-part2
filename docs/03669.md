# é»‘æš—é¢ä¸Šçš„è¡Œèµ°

> åŸæ–‡:[https://dev.to/hector6872/a-walk-on-the-dark-side-14ei](https://dev.to/hector6872/a-walk-on-the-dark-side-14ei)

## [](#there-has-been-an-awakening)å‡ºç°äº†è§‰é†’â€¦â€¦

[![](../Images/351c65be1b00ab790524d66e556e75b2.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--yn3zY0xb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/hrules6872/Writings/master/7-dark-side/art/1.jpeg)

## [](#introduction)ç®€ä»‹

ä»Šå¹´å¤å¤©[æˆ‘ä»¬çš„æŠ€æœ¯è´Ÿè´£äºº](https://twitter.com/jberlana)å‘Šè¯‰æˆ‘ä»¬ï¼Œæˆ‘ä»¬è¢«å…è®¸èŠ±ä¸€å®šæ¯”ä¾‹çš„æ—¶é—´[åœ¨å·¥ä½œä¸­](https://lolamarket.com/)åšä¸€äº›æˆ‘ä»¬ä¸ä¹ æƒ¯åšçš„äº‹æƒ…æˆ–è€…ç ”ç©¶ä¸€äº›æˆ‘ä»¬ä¸ä¹ æƒ¯åšçš„äº‹æƒ…([ä¸€ç§è°·æ­Œçš„â€œ20%æ—¶é—´æ”¿ç­–â€](https://www.businessinsider.com/google-20-percent-time-policy-2015-4?IR=T)â€¦â€¦ä½†æ˜¯æ˜¯ä»¥å¥½çš„æ–¹å¼)ã€‚åªæœ‰ä¸€ä¸ªæ¡ä»¶:æˆ‘ä»¬å¿…é¡»å°±é€‰å®šçš„ä¸»é¢˜ç»™å›¢é˜Ÿçš„å…¶ä»–æˆå‘˜åšä¸€æ¬¡æŠ€æœ¯æŠ¥å‘Šã€‚

æ•™å­¦æ˜¯æœ€å¥½çš„å­¦ä¹ æ–¹å¼ã€‚

## [](#motivation)åŠ¨æœº

å› ä¸ºæˆ‘ç»å¸¸å–ç¬‘é˜Ÿå‹åœ¨æ—¥å¸¸å·¥ä½œä¸­ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€(100% trolling åªæ˜¯ä¸ºäº†å¥½ç©æˆ‘å‘èª“ï¼›æˆ‘ä¸æƒ³æŒ‘èµ·ä»»ä½•æ— èŠçš„ç¼–ç¨‹è¯­è¨€æˆ˜äº‰(T1)ã€‚æˆ‘æƒ³ç”¨ä¸€ç§æˆ‘å·²ç»å¾ˆä¹…æ²¡æœ‰æ¥è§¦è¿‡çš„è¯­è¨€æ¥å›æŠ¥ä»–ä»¬ä¼šå¾ˆæ£’: **[PHP](https://eev.ee/blog/2012/04/09/php-a-fractal-of-bad-design/)** ã€‚

## [](#idea)æƒ³æ³•

æˆ‘æ˜¯ä¸€ä¸ªçœŸæ­£çš„è‡ªåŠ¨åŒ–çˆ±å¥½è€…([å³ä½¿æˆ‘ä»¬èŠ±åœ¨ç¼–ç ](https://xkcd.com/1205/)äº‹æƒ…ä¸Šçš„æ—¶é—´æ¯”å®ƒå®é™…ä¸Šä¸ºæˆ‘ä»¬èŠ‚çœçš„æ—¶é—´è¿˜è¦å¤š)ï¼Œæ‰€ä»¥åŸºäºä¸€ä¸ªæˆ‘ä»¬å‡ ä¹æ¯å¤©éƒ½åœ¨å·¥ä½œä¸­ä½¿ç”¨çš„åŠŸèƒ½ï¼Œè¢«ç§°ä¸ºâ€œ[é€šè¿‡æäº¤æ¶ˆæ¯è‡ªåŠ¨å…³é—­é—®é¢˜](https://confluence.atlassian.com/bitbucket/resolve-issues-automatically-when-users-push-code-221451126.html)â€(æˆ‘çŒœæ‰€æœ‰åŸºäº web çš„ Git åº“ç®¡ç†äººå‘˜éƒ½æœ‰ä¸€ä¸ªå¥½å¬çš„åå­—)ï¼Œæˆ‘å¼€å§‹ç¼–ç **ä¸€ä¸ª [Bitbucket](https://medium.com/@hector6872/moving-from-github-to-bitbucket-30c12dd8aea5) Webhookã€‚**

## Webhoâ€¦â€¦ä»€ä¹ˆï¼Ÿ

ä¸€ä¸ª **[WebHook](https://en.wikipedia.org/wiki/Webhook) æ˜¯ä¸€ä¸ª`HTTP`å›è°ƒ**:ä¸€ä¸ªå®ç° WebHook çš„ web åº”ç”¨ä¼š`POST`ä¸€ä¸ªæ¶ˆæ¯(æœ‰æ•ˆè½½è·)ç»™ä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„`URL` (web æœåŠ¡)å½“äº‹æƒ…å‘ç”Ÿæ—¶ã€‚å°±è¿™ä¹ˆç®€å•ã€‚

æ‰€ä»¥ï¼Œåœ¨æˆ‘çš„ä¾‹å­ä¸­ï¼Œæˆ‘ç¼–ç çš„æ˜¯ä¸€ä¸ª [Githook](https://medium.com/@hector6872/how-good-are-git-hooks-75ae4c3fe3f5) ä½†æ˜¯å¦ä¸€ç«¯çš„(åŸºæœ¬ä¸Šå®ƒè¿æ¥äº† Bitbucket+ [Trello](https://developers.trello.com/) )ã€‚

æˆ‘è®¤ä¸ºä¸å€¼å¾—ç»™å‡ºå…³äºæˆ‘çš„é¡¹ç›®æœ¬èº«çš„æ›´å¤šç»†èŠ‚ï¼Œä½†æˆ‘å¯ä»¥æ€»ç»“ä»¥ä¸‹å‡ ç‚¹:

*   å›¢é˜Ÿä¸­æœ‰äººæ¨åŠ¨[å›è´­](https://confluence.atlassian.com/bitbucket/manage-webhooks-735643732.html)

*   Bitbucket å‘æˆ‘ä»¬çš„ webservice å‘é€ä¸€ä¸ª[æœ‰æ•ˆè´Ÿè½½](https://confluence.atlassian.com/bitbucket/event-payloads-740262817.html)

*   å®ƒè§£æè¿™äº›ä¿¡æ¯ï¼Œç„¶å:**åšæˆ‘ä»¬èƒ½æƒ³è±¡çš„ä»»ä½•äº‹æƒ…ã€‚**

## [](#conclusions)ç»“è®º

èµ°å‡ºæˆ‘çš„[èˆ’é€‚åŒº](http://lmgtfy.com/?q=comfort+zone+where+the+magic+happens)éå¸¸æœ‰è¶£(æˆ‘ä¸çŸ¥é“æˆ‘ä¸“é—¨ä¸º [Android](https://play.google.com/store/apps/details?id=com.comprea.client) å¹³å°ç¼–å†™ä»£ç æœ‰å¤šå°‘å¹´äº†)ï¼Œæˆ‘å¯ä»¥ç¡®è®¤æˆ‘åˆ©ç”¨äº†æˆ‘ä»¬å·¥ä½œä¸­çš„å¤§å¥½æœºä¼š(æˆ‘å¸Œæœ›æ¯ä¸ªäººéƒ½æœ‰):**æˆ‘å­¦åˆ°äº†å¾ˆå¤š**(ç°åœ¨æˆ‘èƒ½å¤Ÿæ›´å¥½åœ°é©¾é©­å®ƒä»¬ğŸ¤·).

PS: [æˆ‘ä»¬è¦æ‹›äººäº†ï¼](https://lolamarket.com/jobs/)T3ã€‘

## [](#disclaimer)å…è´£å£°æ˜

æ²¡æœ‰å¹»ç¯ç‰‡(æˆ‘æŠŠæˆ‘çš„æŠ€æœ¯æ¼”è®²åˆ†æˆ:ä»£ç å®¡æŸ¥ï¼Œæˆ‘çš„é˜Ÿå‹æŒ‡å‡ºäº†æˆ‘æ‰€æœ‰çš„é”™è¯¯è¿›è¡ŒæŠ¥å¤ğŸ˜ƒ&ä¸€ä¸ªç°åœºæ¼”ç¤º)æˆ–å…¬å…±å­˜å‚¨åº“(æˆ‘ä¸æ•¢å…¬å¼€å®ƒï¼Œå› ä¸ºæˆ‘çŸ¥é“å®ƒæ²¡æœ‰æˆ‘å¸Œæœ›çš„é‚£ä¹ˆå¥½)ä½†æ˜¯æˆ‘å›¢é˜Ÿä¸­çš„ä¸€ä¸ªäºº(ä»–æ˜¯ä¸€ä¸ªçœŸæ­£çš„ PHP ç»åœ°æ­¦å£«)è®¤ä¸ºè¿™ä¸ªæƒ³æ³•å¯ä»¥æ”¹è¿›(æˆ‘è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªæƒŠäººçš„æè®®ï¼Œå› ä¸ºæˆ‘ä»¬ä»ç„¶å¯ä»¥å­¦ä¹ å®ƒ),æ‰€ä»¥ä¹Ÿè®¸å°†æ¥æˆ‘ä»¬ä¼šåœ¨è¿™ä¸ªåŸºç¡€ä¸Šå‘å¸ƒä¸€äº›ä¸œè¥¿ã€‚

**[æ•¬è¯·æœŸå¾…ï¼](https://twitter.com/LolaMarket_tech)T3ã€‘**

æœ¬æ–‡æœ€åˆå‘è¡¨äº[åª’ä½“](https://medium.com/@hector6872/a-walk-on-the-dark-side-669213cc2260)

* * *

[1]å°½ç®¡è¿™å¯èƒ½æ˜¯ä¸€ä¸ªç®€å•çš„è„šæœ¬ï¼Œä½†æˆ‘è¦æ±‚è‡ªå·±æ»¡è¶³ä¸€äº›è¦æ±‚:æ—¢ä¸ä½¿ç”¨ä»»ä½•ç±»å‹çš„æ¡†æ¶ä¹Ÿä¸ä½¿ç”¨ä»»ä½•ç±»å‹çš„åº“ï¼Œéµå¾ªè‰¯å¥½çš„å®è·µã€æ¨¡å¼å’Œ SOLIDï¼Œå¹¶æ·»åŠ ä¸€äº›æµ‹è¯•( [PHPUnit](https://phpunit.de/) is loveï¼Œmy friends)ã€‚

* * *

[å¤–éƒ¨é“¾æ¥ğŸ‘€](https://gist.github.com/hrules6872/25fcd2ab507f2293c8ab8720983afcc4)