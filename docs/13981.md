# 通过在酒吧点饮料来解释模型-视图-控制器(MVC)

> 原文:[https://dev . to/kbk 0125/model-view-controller-MVC-explained-through-ordering-drinks-at-the-bar-32jm](https://dev.to/kbk0125/model-view-controller-mvc-explained-through-ordering-drinks-at-the-bar--32jm)

#### [](#if-you-have-been-to-a-bar-then-mvc-aint-that-hard)如果你去过酒吧，那么 MVC 也没那么难。

模型-视图-控制器(MVC)框架是构建现代 web 应用程序的关键部分。走进一个 web 开发人员的房间，你可能会被提到 Ruby on Rails、Angular 或 Django 的声音轰炸。

更一般地说，MVC 逻辑可以用来描述几乎任何使用 PHP、Ruby、Python 或 JavaScript 等语言的 web 开发过程。

#### [](#never-the-less)绝不少…

许多 web 开发人员面带微笑地在杂草中穿行，在这个神秘的世界中导航。当一个高级开发人员或团队成员需要查看这些开发人员的代码时，他们会立即大喊一声，然后是一个关于常见编码实践的快速讲座。

这不是生活的方式！事实上，现代 web 开发中的 MVC 模式可以通过向酒保点一杯酒来解释。是的，这意味着如果你去过酒吧，你就能理解所有网络应用共有的主要结构模式。

[![](../Images/e7e2984e8fadba43396069b5fade02b9.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--_bU2Njso--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/800/1%2Af0mX-pFfwmoQKGdIUQoXEQ.jpeg)

*勇敢地冲破障碍，直到现实来临*

**什么是 MVC 模式？**

*   **模型**:以可靠的形式组织数据，并根据控制器的指令准备数据
*   **视图**:根据用户的动作，以易于理解的格式向用户显示数据
*   **控制器**:接收用户命令，向模型发送命令进行数据更新，向视图发送指令更新界面。

或者，以图表形式:

[![](../Images/cb8efeb26d5d1fe93be3fd2e556ca801.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--TkDCx_CU--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/800/1%2A4SxbmCrI5YVp1Uyj1Jstsg.png) 
*图像 Cred:真实 Python*

太无聊了。到吧台上。

#### [](#a-beginner-web-developer-enters-a-bar)一个初学 web 开发的人进入一个酒吧…

星期五晚上，你走进一家酒吧，走近酒保。由于酒吧已经很拥挤，你穿过人群，直到最后引起酒保的注意，你脱口而出，“请来一杯曼哈顿！”

你是**用户**，你点的饮料是**用户请求**。对你来说，曼哈顿只是你最喜欢的饮料，你非常确定这将是一种甜美可口的饮料。

酒保向你快速点了点头。对于调酒师来说，曼哈顿不是一种美味的饮料，它仅仅是一系列的步骤:

1.  抓取玻璃
2.  添加威士忌
3.  加入苦艾酒
4.  添加苦味剂
5.  搅拌饮料
6.  加入樱桃
7.  索要信用卡并收费。

[![](../Images/0294873820e952ba0164dfa5c3e0be58.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--IYKfDQ9b--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/800/1%2AAMWKKh4SxqNrcM5dNnSsfQ.jpeg) 
*图片来源:维基百科*

调酒师的大脑就是**控制器**。只要你用他们能理解的语言说出“曼哈顿”这个词，工作就开始了。这项工作在本质上类似于制作玛格丽塔酒或草莓代基里酒，但使用不同的成分，永远不会混淆。酒保只能使用吧台后面的工具和资源。这套有限的工具是**型号****，包括以下内容:**

 ***   酒保的手
*   振动器/混合设备
*   酒
*   混合
*   眼镜
*   装饰

也许在更高级的酒吧，他们可能会有一个机器人助手！或者自动饮料搅拌机。这对你的特定调酒师来说无关紧要，他们只能使用可用的资源。

最后，你能看到和消费的成品饮料就是* *观。* *视图是从模型的有限选项中构建出来的，并通过控制器(即调酒师的大脑)进行排列和传输。

### [](#lessons-learned)**吸取教训**

*   想再来一杯吗？对着你的空杯子大喊大叫，对你一点好处都没有。你必须和酒保谈谈。
*   从调酒师听到要求到开始制作饮料之间的时间应该是绝对最短的。这有时被称为“瘦控制器”——换句话说，控制器应该包含最少量的逻辑，并尽可能多地委托给模型。一个优秀的调酒师不仅会记住菜谱，还会每晚以可靠的方式准备食材和工具，这样一旦顾客开始点餐，只需要最少的搜索和安排。
*   调酒师能把所有的配料直接倒在顾客的嘴里，然后期望顾客嗖嗖地转动并混合饮料吗？是的，我想有可能。您希望将尽可能多的逻辑保留在模型中，而不是视图中。换句话说，在吧台后面制作饮料比在顾客口中混合要好。

[![](../Images/62e7dfc99674c6b13d9fa7abbf829130.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--EldvCSUQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/800/1%2AfpP-3F2rQUApiAx5Hm3H7w.png) 
*图片来源:Xperience*

*   如果你点一杯啤酒，酒保几乎不需要做任何事情。也许他们会简单地拿掉瓶盖，把饮料递给你。话虽如此，你仍然必须要求酒保。啤酒不会神奇地出现在你面前。

### [](#tying-it-back-to-web-development)回到 Web 开发

以下是同样的过程在现代 web 应用程序中的表现:

*   用户沿着一条路线发出**请求**，比方说/回家。
*   **控制器**接收该请求，并给出一组与该路线相关的特定命令。这些指令可以是让**视图**更新或服务某个页面，或者让**模型**执行特定的逻辑。让我们假设这个请求有一些相关的逻辑。
*   该模型执行逻辑，从数据库中提取数据，并根据控制器的指令发回一致的响应。
*   然后，控制器将这些数据传递给视图，以更新用户界面。

每当一个请求进来，它首先必须到达控制器，然后才能被转换成视图或模型的指令。如果你想了解更多，维基百科的文章包含了更进一步的概述。

任何时候你需要学习一个新的 web 开发框架，你都会遇到这种一致的 MVC 模式。如果一个特定的框架与此不同，你可以肯定作者会用 MVC 来解释他们的新模式。

这应该使学习变得容易得多——一旦你用 MVC 开发了一次，每一个新的框架都可以适应你的舒适区。

你喜欢这本指南吗？请在评论中告诉我，或者查看 [CodeAnalogies 博客](https://codeanalogies.com)。**