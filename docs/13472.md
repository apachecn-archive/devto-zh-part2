# Ch-Ch-Changes:去壳和返回

> 原文:[https://dev.to/denmch/ch-ch-changes-to-shell-and-back-nnb](https://dev.to/denmch/ch-ch-changes-to-shell-and-back-nnb)

我还没来得及阅读 Remy Sharp 的命令行手册，所以我在他拍卖的时候买了他的 T2 终端培训课程。他向我介绍的新东西之一是改变我的终端的外壳，尽管他使用 zsh(接下来会谈到这个)，但他用我从未见过的东西开始，但那真的很酷:鱼。

首先，让我们弄清楚一件事:什么是终端，什么是外壳？

## [](#i-never-metaphor-i-didnt-like)我从不比喻我不喜欢的人

曾几何时，终端是一种物理设备——一个人与机器交互的字面端点。你有时会看到一个同义词是 TTY，是电传打字机的缩写，是一种可以通过逐行键入命令来发送输入并接收打印输出的打字机。(出于显而易见的原因，它也被称为电传打字机。)这就是命令行界面(CLI)的由来。

今天，我们大多使用图形用户界面(GUI ),因此我们需要一个程序来模拟昔日的电传打字。这就是我们所说的终端，不再是一个物理设备，而是运行在我们个人电脑上的另一个软件包。如果你用的是 Mac，默认的终端应用程序叫做终端，但是很多人更喜欢 iTerm2 这样的替代品。在 Linux 上，你可能会使用 Gnome-Terminal 或 Konsole。对于终端，您有多种选择，并且可以定制它们的外观和行为。

## [](#the-shell-game)贝壳游戏

shell 有点难以理解，只是因为产生其名称的隐喻来自于它与操作系统的关系，而不是与用户的关系。操作系统的核心是控制硬件并与之交互的东西。操作系统的核心部分被称为内核，类似于坚果硬壳中柔软的可咀嚼的部分。

同样，外壳应该是物理终端的同义词。但这就是类比失效的地方。我们不用壳来得到美味的、可食用的坚果。我们把它剥掉，扔进堆肥里。但是在这里，对于计算机，我们完全依赖外壳，从来不接触内核。

现在，终端是让您与机器对话的应用程序——一个模拟电传打字机的程序——而外壳是您与机器对话的方式，是命令行解释程序的一种特殊风格，它有助于您发送命令和接收反馈，并提供不同级别的帮助和可定制性。你可以把终端想象成吉他，把外壳想象成琴弦，它们可以有各种各样的材料和规格，有时还会以奇特的方式调音。一个外壳是常见的青铜合金，一个是尼龙，一个是丝钢。他们的感觉和演奏不同，但他们都用同样的方式创作音乐。

## [](#z-sells-z-shells-by-the-z-shore)z 在 z 岸卖 z 壳

最常见的 shell 是 bash，但是还有其他 shell，比如 ksh、zsh 等等。请注意，它们往往以 sh 结尾，代表 shell。我们确实喜欢在命令行中缩写一些东西，比如这篇文章标题中的 ch。但是我们会谈到这一点。Shells 在细节上有所不同，比如是否可以对命令进行分组，如何设置变量，以及是否支持键入命令的制表符补全。

Remy 介绍了 fish，这是一个带有 tab 补全功能的奇特 shell，作为一个很好的入门 shell，尽管他个人使用 zsh。我只用过 bash，所以 fish 非常奇怪和不同，tab 补全特别酷，就像在 Visual Studio 中使用 Intellisense 一样。

但是我遇到的一个问题是:我如何回到 bash 的土地？

## [](#chchchanges)Ch-ch-changes

按照 fish 安装程序，您会被告知运行某个命令来切换您的 shell，Remy 在这里没有详细介绍，但是值得看一下这个命令:

```
chsh -s /usr/local/bin/fish 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

命令`chsh`的意思是“更改 shell”，正如`chown`允许您更改文件或目录的所有者，而`chmod`允许您更改当前用户、组和其他人的读、写、执行权限。

`-s`选项允许您输入该位置，而不需要任何额外的提示或打开文件。所以上面的命令说，“把我的 shell 改成/usr/local/bin/fish 中的 shell。”

`chsh`实际上调用了与另外两个`ch`前缀的命令相同的程序:`chfn`，或“换手指”，和`chpass`，或“换密码”这个程序允许你改变用户数据库信息，比如你的全名，办公地点，电话号码，最重要的是，你的首选 shell 的位置，你用哪个都没关系。更容易记住的是，`chsh`是用于更改 shell 的，如果您想在不编辑 vim 中的文件的情况下完成它，请将它与`-s`选项和 shell 位置放在一行中。

所以一旦你切换到了 fish，如果你想换回，你只需要知道 bash 的位置，这应该很简单:

```
chsh -s /bin/bash 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

从那里，您可以尝试其他相同的方式。

这就是:一个绕过从 fish 切换回 bash 的冗长方法。我总是发现挖掘命令的真正含义，理解它们并记住它们的作用是很有帮助的。所以现在我对它有了更多的了解，也许你也是。