# 自我代码审查

> 原文：<https://dev.to/brightdevs/self-code-review-5372>

当我还是个孩子的时候，我的父母说服我，在交作业和试卷之前仔细检查它们是值得的，以便发现错误并改正。这很快成了我的习惯。曾经评估为自我代码评审过程的习惯:)

[![](../Images/e4b19306c4afe8f47fe5dc3b640f0a50.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--Zx4yFdAE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/auekgo687fwuyolanu7v.jpg)

我将与你分享我在提交代码之前采取的步骤。可能大多数对你来说是显而易见的，但也许你会发现一些有趣的和值得纳入你的日常生活的东西？

**1。编译错误**

这似乎是显而易见的。如果代码不能编译，你怎么能检查它是否工作呢？我最近将这一步添加到了我的脑海清单中，因为在我们的 TypeScript 项目中,`compile`脚本比在热重载模式下运行应用程序的脚本更“严格”(例如，未使用导入的编译错误)。因此，即使应用程序无缝地重新编译，它也不会在 CI 服务器上编译。

**2。警告**

当警告阻止编译时，我实际上非常喜欢严格的方法。但是情况并不总是这样，所以仔细查看警告并在需要的地方应用修复程序是值得的。

**3。单元和集成测试**

运行所有测试，看看它们是否是绿色的。这也是一些特定于框架的检查的时间，例如，`mocha`需要将`only()`添加到测试方法中，以运行特定的测试子集。当然，你需要在提交之前删除它:)你知道其他框架的特性有可能产生这种残余吗？

**4。代码审查本身**

我通常会列出所有更改过的文件，然后逐一仔细阅读，特别注意以下要素(与一个普通代码审查过程的相似性不是偶然的:)。

*   所有让代码更干净的小事情，比如现代语言拥有的所有快捷方式或智能方法(举几个例子:Kotlin 的`isNullOrEmpty`或 Scala 的`getOrElse`)。ide 给出了很多这样的提示，我们只需要利用它们。
*   拼写错误使代码混乱:)
*   重新思考类、变量等等的名字。它们足够有意义吗？或者太啰嗦了？
*   任何过于复杂的结构，如长时间的计算或嵌套条件？如果我刚刚写完，第一眼看上去还是没有什么意思，也许有一种方法可以让它变得更清晰？

ide 使这种阅读变得更容易。在代码编辑窗口中，您标记了更改的行，这样您就知道最多关注哪一行。我知道我们中的一些人为此使用了差异窗口。我通常更喜欢用更温和的方式来突出差异，但这是非常个人化的——两者都尝试一下，然后决定哪一个最适合你。或者只是把它们结合起来。

**5。大局**

然后我又读了一遍代码，这次是以大局为重。目的是检查代码是否清晰易懂，是否读起来流畅。

**6。CI 服务器检查**

提交和推送之后，最后一步是检查代码是否编译，CI 服务器上的测试是否显示为绿色。

我是否每次都应用这个程序？这个例程会阻止我签入一些可疑的代码吗？当然不是，我们都知道尽可能快地交付一个特性或者仅仅是一点点改变的场景，这肯定不需要所有这些步骤。像`Fix typos`或`Remove “only” from tests`这样的错误仍然会发生:)但毕竟我们只是人类，我们都会犯错误。而队友代码评审恰恰是不可替代的:)

最初发布于 [brightinventions.pl](https://brightinventions.pl/blog/)

软件工程师@光明发明
[电子邮件](agnieszka.olszewska@brightinventions.pl)