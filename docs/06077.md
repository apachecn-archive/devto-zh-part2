# Javascript å‰è§†å’Œåè§†

> åŸæ–‡:[https://dev . to/wangonya/JavaScript-lookaheads-and-lookbehinds-4p 60](https://dev.to/wangonya/javascript-lookaheads-and-lookbehinds-4p60)

æ­£åˆ™è¡¨è¾¾å¼(ä¹Ÿç§°ä¸º regex)æ˜¯ç”¨äºåŒ¹é…å­—ç¬¦ä¸²ä¸­å­—ç¬¦ç»„åˆçš„æ¨¡å¼ã€‚å®ƒä»¬å¸®åŠ©æˆ‘ä»¬ä»¥ä¸€ç§éå¸¸é«˜æ•ˆçš„æ–¹å¼å¤„ç†å¼¦ä¹ã€‚

é€šè¿‡ç”¨ç‰¹æ®Šçš„è¯­æ³•è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œæ‚¨å¯ä»¥:

*   åœ¨å­—ç¬¦ä¸²ä¸­æœç´¢æ–‡æœ¬
*   æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„å­å­—ç¬¦ä¸²
*   ä»å­—ç¬¦ä¸²ä¸­æå–ä¿¡æ¯

å¦‚æœè¿™ä¸€åˆ‡å¯¹ä½ æ¥è¯´éƒ½æ˜¯å…¨æ–°çš„ï¼Œè¯·çœ‹ä¸€ä¸‹ [mdn web docs](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions) äº†è§£æ›´å¤šä¿¡æ¯ã€‚

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†é‡ç‚¹ä»‹ç»ä½¿ç”¨ regex çš„ä¸€ç§æ›´ç®€å•(ä¹Ÿéå¸¸æœ‰ç”¨)çš„æ–¹æ³•ã€‚

#### Lookaheads:æ ¹æ®åé¢çš„å†…å®¹åŒ¹é…ä¸€ä¸ªå­—ç¬¦ä¸²

##### æ ¼å¼:`x(?=y)`

`x(?=y)`ä»…å½“â€œxâ€åè·Ÿâ€œyâ€æ—¶æ‰åŒ¹é…â€œxâ€ã€‚
æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­:

```
// check to see if we have the right 'Kanye'
// /Kanye(?= West)/ : the string 'Kanye' must be followed by 'West'

/Kanye(?= West)/.test('I heard Kanye will be performing tonight') // false. we cant really be sure it's the right Kanye
/Kanye(?= West)/.test('I heard Kanye East will be performing tonight') // false. Kanye who???
/Kanye(?= West)/.test('I heard Kanye West will be performing tonight') // true 
```

Enter fullscreen mode Exit fullscreen mode

ä½ ä¹Ÿå¯ä»¥åš`/Kanye(?= West | East)/`æ¥åŒ¹é… Kanyeï¼Œå¦‚æœå®ƒåé¢è·Ÿç€â€˜Eastâ€™æˆ–è€…â€˜Westâ€™ã€‚

##### æ ¼å¼:`x(?!y)`

`x(?!y)`æ‰§è¡Œé€†è¿ç®—ï¼Œä»…å½“â€˜xâ€™æ˜¯**è€Œä¸æ˜¯**åè·Ÿâ€˜yâ€™æ—¶æ‰åŒ¹é…â€˜xâ€™ã€‚è¿™è¢«ç§°ä¸ºå¦å®šçš„å‰ç»ã€‚

```
// we want a different 'Kanye'
// /Kanye(?! West)/ : the string 'Kanye' must not be followed by 'West'

/Kanye(?! West)/.test('I heard Kanye will be performing tonight') // true. might be West, but I'll just take the risk and see
/Kanye(?! West)/.test('I heard Kanye East will be performing tonight') // true. let's give the new guy a chance
/Kanye(?! West)/.test('I heard Kanye West will be performing tonight') // false 
```

Enter fullscreen mode Exit fullscreen mode

#### Lookbehinds:æ ¹æ®å‰é¢çš„å†…å®¹åŒ¹é…å­—ç¬¦ä¸²

**è¿™æ˜¯ä¸€ä¸ª [ES2018](https://github.com/tc39/proposal-regexp-lookbehind) çš„ç‰¹è‰²**ğŸ‰ğŸŠğŸš€ğŸ¸ğŸ¤˜ğŸ¾

##### æ ¼å¼:`(?<=y)x`

`(?<=y)x`ä»…åŒ¹é…å‰é¢å¸¦â€œyâ€çš„â€œxâ€

```
// check to see if we have the right 'Kanye West'
// /(?<= Kanye) West/ : the string 'West' must be preceded by 'Kanye'

/(?<= Kanye) West/.test('I heard West will be performing tonight') // false. we cant really be sure it's the right West 
/(?<= Kanye) West/.test('I heard Keith West will be performing tonight') // false 
/(?<= Kanye) West/.test('I heard Kanye West will be performing tonight') // true 
```

Enter fullscreen mode Exit fullscreen mode

##### æ ¼å¼:`(?<!y)x`

`(?<!y)x`ä»…å½“**ä¸æ˜¯**å‰é¢æœ‰â€œyâ€
æ—¶æ‰åŒ¹é…â€œxâ€

```
// check to see if we have another 'West'
// /(?<= Kanye) West/ : the string 'West' must be not be preceded by 'Kanye'

/(?<! Kanye) West/.test('I heard West will be performing tonight') // true 
/(?<! Kanye) West/.test('I heard Keith West will be performing tonight') // true 
/(?<! Kanye) West/.test('I heard Kanye West will be performing tonight') // false 
```

Enter fullscreen mode Exit fullscreen mode

å°±æˆäº†ğŸ˜„ã€‚Regex å¯èƒ½æœ‰ç‚¹éš¾æŒæ¡ï¼Œä½†æ˜¯ä¸€æ—¦ä½ æŒæ¡äº†ï¼Œä½ ä¼šå‘ç°å®ƒä½¿å¤„ç†å­—ç¬¦ä¸²å˜å¾—å®¹æ˜“å¤šäº†ã€‚è®©æˆ‘çŸ¥é“ä½ ä½¿ç”¨ regex çš„å…¶ä»–ä¸€äº›å¾ˆé…·çš„æ–¹å¼ã€‚