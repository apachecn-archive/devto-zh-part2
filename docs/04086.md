# åœ¨å•ä¸ªæ–‡ä»¶ä¸­ç¼–å†™å¤šä¸ª Vue ç»„ä»¶

> åŸæ–‡:[https://dev . to/Hugo _ _ df/writing-multiple-vue-components-in-a-single-file-hgj](https://dev.to/hugo__df/writing-multiple-vue-components-in-a-single-file-hgj)

åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ç¼–å†™å¤šä¸ªç»„ä»¶æ˜¯ React çš„ä¸€ç§æ¨¡å¼ï¼Œå…¶ä¸­ä¸€äº›æ–‡ä»¶åŒ…å«å¤šä¸ªç»„ä»¶ã€‚

å…¶ä¸­ä¸€äº›ç»„ä»¶æ˜¯æ–‡ä»¶/å¯¼å‡ºç»„ä»¶çš„â€œç§æœ‰â€ç»„ä»¶ï¼Œå› ä¸ºæ²¡æœ‰å…¶ä»–ç»„ä»¶éœ€è¦ä½¿ç”¨å®ƒä»¬ã€‚

ä¸‹é¢æ˜¯ Swizec å¯¹æ­¤çš„æŠ±æ€¨:

> åˆ›å»ºæ–°çš„å¾®å‹ Vue ç»„ä»¶å¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´è¿™æ ·çš„é‡å¤ä»£ç ğŸ¤¨
> 
> é¢„è®¢æè¿°åº”è¯¥æ˜¯ä¸€ä¸ªå¾ˆå°çš„ç»„ä»¶ï¼Œåªæ˜¯ä»é“å…·ä¸­è·å–ä¸œè¥¿ï¼Œç”šè‡³å¯èƒ½ä¸çœŸæ­£çš„ç»„ä»¶åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚
> 
> ä½¿ç”¨ä¸¤æ¬¡ï¼Œä½†ä¸å¯é‡å¤ä½¿ç”¨æˆ–åŸå­ğŸ¤”[pic.twitter.com/6WzEO5knen](https://t.co/6WzEO5knen)
> 
> â€”ç‘å£«ä¿¡è´·æŸœå‘˜(@ç‘å£«ä¿¡è´·)ã€2018 å¹´ 9 æœˆ 6 æ—¥

ç”±äºæˆ‘æ²¡æœ‰ä¸Šé¢çš„å®Œæ•´ä»£ç ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨é»˜è®¤çš„â€œHello Worldâ€ç»„ä»¶ï¼Œè¯¥ç»„ä»¶æ¥è‡ªä¸€ä¸ªä»¥`vue-cli`ä¸ºä¾‹æ­å»ºçš„é¡¹ç›®ã€‚

é»˜è®¤æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªç”¨äº`App`ï¼Œä¸€ä¸ªç”¨äº`HelloWorld`(åœ¨`src/App.vue`å’Œ`components/HelloWorld.vue`)ã€‚`HelloWorld`æ‹¿ä¸€ä¸ª`msg`é“å…·å¹¶æ¸²æŸ“ã€‚

è¦åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ç¼–å†™è¿™äº›å†…å®¹ï¼Œä½¿ç”¨ React å¯èƒ½æ˜¯è¿™æ ·çš„:

```
const HelloWorld = ({ msg }) => (<div>
  <h1>Hello world</h1>
  <div>{msg}</div>
</div>);

const App = () => (<div id="app">
  <HelloWorld msg="Welcome to Your React App" />
</div>);

export default App; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å› ä¸º Reactâ€œåªæ˜¯ JavaScript â€,æ‰€ä»¥æ‚¨å¯ä»¥åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­æœ‰å¤šä¸ªç»„ä»¶å®šä¹‰ï¼Œè€Œä¸æ˜¯å¯¼å‡ºå…¶ä¸­çš„ä¸€äº›(åªæ˜¯ä¸ºäº†ä¿æŒå¯¼å‡ºçš„ç»„ä»¶å¹²ç‡¥)ã€‚

åœ¨ Vue ä¸­ï¼Œè¿™ä»ç„¶æ˜¯å¯èƒ½çš„ï¼Œä½†ä¼šç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œå› ä¸ºå®ç°è¿™ä¸€ç‚¹çš„æ–¹æ³•ä¸æ­¢ä¸€ç§:

*   [ä½¿ç”¨æ¸²æŸ“åŠŸèƒ½](#using-a-render-function)
*   [ä½¿ç”¨ Vue.component å’Œä¸€ä¸ªæ¨¡æ¿](#using-vuecomponent-and-a-t%20%20%20%20emplate)
*   [ä½¿ç”¨æ¨¡æ¿å’Œæ—  Vue.component](#using-a-template-and-no%20%20%20%20-vuecomponent)
    *   [vista CLI 3+](#vue-cli-3)
    *   [vista CLI<3.0](#vue-cli--30)

åœ¨[github.com/HugoDF/vue-multiple-components-in-sfc](https://github.com/HugoDF/vue-multiple-components-in-sfc)å›è´­çš„ä¾‹å­ã€‚

## [](#using-a-render-function)ä½¿ç”¨æ¸²æŸ“åŠŸèƒ½

```
<template>
  <div id="app">
    <HelloWorld msg="Welcome to Your Vue.js App"/>
  </div>
</template>
<script>
// inline component
const HelloWorld = {
  props: ['msg'],
  render(h) {
    return h('div', [
      h('h1', 'Hello world'),
      h('div', this.msg)
    ])
  }
};
export default {
  name: 'app',
  components: {
    HelloWorld
  }
}
</script>
<style>
#app {
  font-family: 'Avenir', Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}
</style> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[![](../Images/e860e4ed48616d58ca35af4f5b52c7a3.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--oNPeDihA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://d2mxuefqeaa7sj.cloudfront.net/s_C77B3833CA1DF6A1ECE1A6427FA5D87D901D3E0465D27B32C42538222EBFCCF1_1536749104796_Screen%2BShot%2B2018-09-12%2Bat%2B11.44.47.png)

## [](#using-vuecomponent-and-a-template)ä½¿ç”¨ Vue.component å’Œä¸€ä¸ªæ¨¡æ¿

```
<template>
  <div id="app">
    <HelloWorld msg="Welcome to Your Vue.js App"/>
  </div>
</template>
<script>
import Vue from 'vue';
// inline component with template string :+1:
const HelloWorld = Vue.component('hello-world', {
  props: ['msg'],
  template: `<div>
    <h1>Hello world</h1>
    <div>{{ this.msg }}</div>
  </div>`
});
export default {
  name: 'app',
  components: {
    HelloWorld
  }
}
</script>
<style>
#app {
  font-family: 'Avenir', Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}
</style> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¦‚æœä¸åŒ…å«è¿è¡Œæ—¶ï¼Œè¿™æ˜¯å¦æœ‰æ•ˆï¼Ÿ

**æ²¡æœ‰**

```
[Vue warn]: You are using the runtime-only build of Vue where the template compiler is not available. Either pre-compile the templates into render functions, or use the compiler-included build.

found in

--------> <HelloWorld>
        <App>
          <Root> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¸¦æœ‰æ¨¡æ¿ç¼–è¯‘å™¨çš„æ„å»ºæ¥ä¿®å¤å®ƒ(å‚è§[https://code . Lua software . com/tutorials/vue js/vue-CLI-3-include-runtime-compiler/):](https://code.luasoftware.com/tutorials/vuejs/vue-cli-3-include-runtime-compiler/):)å·®ä¸å¤šï¼Œåˆ›å»º(å¦‚æœä¸å­˜åœ¨)`vue.config.js`å¹¶æ·»åŠ :

```
module.exports = {
  runtimeCompiler: true
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ­£å¦‚åœ¨é“¾æ¥æ–‡ç« ä¸­æŒ‡å‡ºçš„ï¼Œè¿™å°† Vue æ¨¡æ¿ç¼–è¯‘å™¨æ·»åŠ åˆ°æ‚¨çš„åŒ…ä¸­â€¦å¤§çº¦ 10KBã€‚é‡æ–°å¯åŠ¨å¼€å‘æœåŠ¡å™¨:`npm run serve`:

[![](../Images/b89e2fad46f683f870a72176b73d9d90.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--lI5aLye5--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://d2mxuefqeaa7sj.cloudfront.net/s_C77B3833CA1DF6A1ECE1A6427FA5D87D901D3E0465D27B32C42538222EBFCCF1_1536749628943_Screen%2BShot%2B2018-09-12%2Bat%2B11.44.47.png)

## [](#using-a-template-and-no-vuecomponent)ä½¿ç”¨ä¸€ä¸ªæ¨¡æ¿è€Œæ²¡æœ‰ Vue.component

```
<template>
  <div id="app">
    <HelloWorld msg="Welcome to Your Vue.js App"/>
  </div>
</template>
<script>
// inline component with template string :+1:
const HelloWorld = {
  props: ['msg'],
  template: `<div>
    <h1>Hello world</h1>
    <div>{{ this.msg }}</div>
  </div>`
};
export default {
  name: 'app',
  components: {
    HelloWorld
  }
}
</script>
<style>
#app {
  font-family: 'Avenir', Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}
</style> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä»ç„¶æœ‰æ•ˆ(å¦‚æœæˆ‘ä»¬æœ‰æ­£ç¡®çš„`vue.config.js`å¹¶å¯ç”¨äº†`runtimeCompiler`):

[![](../Images/861de5404fb5f6a97670f6acbe08ba1b.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--LDRb2qIy--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://d2mxuefqeaa7sj.cloudfront.net/s_C77B3833CA1DF6A1ECE1A6427FA5D87D901D3E0465D27B32C42538222EBFCCF1_1536749695600_Screen%2BShot%2B2018-09-12%2Bat%2B11.44.47.png)

ç”±äºæˆ‘æ²¡æœ‰ä¸Šé¢çš„å®Œæ•´ä»£ç ï¼Œw#ä½¿ç”¨ JSX(ç¼–è¯‘æˆæ¸²æŸ“å‡½æ•°)

æˆ‘ä»¬å¯ä»¥ç”¨ JSX: `App.js` :
é‡å†™æˆ‘ä»¬æœ€åˆçš„æ¸²æŸ“å‡½æ•°çš„ä¾‹å­

```
<template>
  <div id="app">
    <HelloWorld msg="Welcome to Your Vue.js App"/>
  </div>
</template>
<script>
// inline component with JSX
const HelloWorld = {
  props: ['msg'],
  render() {
    return (<div>
      <h1>Hello world</h1>
      <div>{this.msg}</div>
    </div>);
  } 
};

export default {
  name: 'app',
  components: {
    HelloWorld
  }
}
</script>
<style>
#app {
  font-family: 'Avenir', Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}
</style> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### CLI 3+è§†å›¾

å¦‚æœæ‚¨ä½¿ç”¨çš„ Vue-cli ç‰ˆæœ¬é«˜äºæˆ–ç­‰äº 3.0ï¼Œé‚£ä¹ˆæ‚¨å¾ˆå¹¸è¿ï¼Œå› ä¸ºå®ƒæ”¯æŒ JSXã€‚[https://scotch . io/tutorials/using-jsx-with-vue-and-why-you-should-care](https://scotch.io/tutorials/using-jsx-with-vue-and-why-you-should-care)

### CLI è§†å›¾< 3.0

ä½ éœ€è¦å››å¤„æŒ–æ˜ï¼Œçœ‹çœ‹[babel-plugin-transform-vue-jsx](https://github.com/vuejs/babel-plugin-transform-vue-jsx#usage)ã€‚

æˆ‘å¯èƒ½ä¼šå®‰è£…ä»¥ä¸‹è½¯ä»¶åŒ…:

```
npm install\
  babel-plugin-syntax-jsx\
  babel-plugin-transform-vue-jsx\
  babel-helper-vue-jsx-merge-props\
  babel-preset-env\
  --save-dev 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å†æ¬¡ä¸¾ä¾‹è¯´æ˜åœ¨[github.com/HugoDF/vue-multiple-components-in-sfc](https://github.com/HugoDF/vue-multiple-components-in-sfc)çš„å›è´­ã€‚

éšæ—¶ç»™æˆ‘å‘å¾®åš [@hugo__df](https://twitter.com/hugo__df) ã€‚

è¿™ç¯‡æ–‡ç« æœ€åˆå‘è¡¨äº https://codewithhugo.com

é›·è’™å¾·Â·æ‹‰æ–¯å§†æ£®