# 我如何每天使用 CRC(班级责任协作)卡(第一部分)

> 原文:[https://dev . to/defmy func/how-I-use-CRC-class-respons ibility-collaboration-cards-every-day-part-1-1m jj](https://dev.to/defmyfunc/how-i-use-crc-class-responsibility-collaboration-cards-every-day-part-1-1mjj)

在与同事的一些讨论中，我意识到一项我认为理所当然的技术通常不会被其他人使用，所以我想写一篇关于我如何使用它们来推进一般的“让我的团队擅长软件”任务的文章。

这里可以看到我对 CRC 卡的思考第二部分:[https://medium . com/@ defmy func/how-I-use-CRC-class-respons ibility-collaboration-cards-every-day-Part-2-8 F9 a6 f 79 f 7 c 2](https://medium.com/@defmyfunc/how-i-use-crc-class-responsibility-collaboration-cards-every-day-part-2-8f9a6f79f7c2)

我第一次在 XP 白皮书中读到这些，但我并没有真正使用它们，直到 Kevin Rutherford 向我介绍了它们，当时他在 BBC 与我们一起工作，是我们在那里的软件工艺计划的一部分。如此巨大的道具给他([https://silkandspinach.net/](https://silkandspinach.net/))。

本文中的观点是我个人的，不一定得到我的雇主的认可。

### CRC 卡是什么？

[类责任合作者(CRC)模型:敏捷简介](http://www.agilemodeling.com/artifacts/crcModel.htm)

我对这个描述的唯一异议是它的名字。这听起来像是语义学，但是如果你从**对象**(即假设系统实际上正在运行)而不是**类**的角度考虑，我倾向于发现这种技术更成功。但是考虑到我的内在偏见，我认为软件开发中的几乎所有事情都是如此。

### 我什么时候用它们？

这个问题的答案是…一直都是。作为一名“技术领导”，他们对我来说是无价的，因为他们允许我从代码中抽象出来，但仍然通过探索他们的问题为我的团队提供价值。

通常，如果你以前从未使用过它们，在你的过程开始时很难引入一些东西。当我第一次开始在我的团队中使用它们时，我首先在一个任务/故事/史诗/无论什么的结尾介绍它们的用法，直到团队对它们变得熟悉，然后你可以在你的过程开始时作为一个设计工具使用它们，而不是在你的过程结束时作为一个反思工具。无论如何…向前看！

#### 场景 1

你/你的团队刚刚完成了一项任务。吼吼。干得好！现在是反思的时候了。为你刚刚完成的任务写一张 CRC 卡。

现在比较之前和之后的状态，您是否添加了新的协作者？您是否添加了新的责任？这仅仅是对现有责任的改变吗？如果我们添加了新的东西，它真的是添加的正确位置吗？

当你练习问自己和团队这些问题时，你将开始建立你正在工作的系统部分的心智模型。

#### 场景二

你/你的团队刚刚完成了一个**故事**。吼吼！干得好！现在是反思的时候了。为你刚刚完成的故事写一张 CRC 卡。

假设一个任务比一个故事小…那么这可能需要写更多的卡片。你应该有一个稍微大一点的图景来工作，并且对某个特定事物的端到端价值有一个真实的看法。这是反思的大好时机:)

查看卡片，问你自己/你的团队和以前一样的问题…有什么新发现吗？改变了什么？有更好的地方放它吗？你可能现在也开始问这样的问题…我们引入了任何新的耦合吗？(或 http://connascence.io/)这样做对吗？我们是有意这样做的，还是这是一个意外？我们能做得更好吗？我们如何重构它来改进它？这个故事的影响是广还是窄？这是我们所想的吗？…等等…等等…

#### 场景三

你/你的团队刚刚完成了一部**史诗**。吼吼！干得好！你们太棒了。现在是反思的时候了！为你刚刚完成的 epic 写一张 CRC 卡。

假设一个故事比一部史诗小…那么这可能需要写更多的卡片。这可能是你接触过的最大的照片。

这是和你的团队进行“技术回顾”的好时机。为你的 epic 修改/创建/删除的所有对象写好卡片，然后作为一个团队坐下来讨论。你建造了你在史诗开始时认为你会建造的东西吗？如果不是为什么不是？有什么完全出乎意料的变化吗？你会如何重构它？

例如，在我的一个团队中，我根据我们刚刚完成的一项工作提前做了以下工作:

[![](../Images/1ebf27bcb88f42fa5753e495d08ccd15.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--2C8srUdh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2Amvs3sqQEBapabFkhZC36kw.jpeg)

然后要求团队根据我们团队的技术策略进行协作重构。他们这样做了:

[![](../Images/8b67c88c5818a24efcf2c88a0ce5f3d1.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--ZiBjNuT2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2AVYzYAfa7IWoF-OT-CsqL4Q.jpeg)

他们整合了真正的复制逻辑，使我们的一个控制器更像我们应用程序中的其他控制器，并减少了我们对一些对象的依赖。

这不仅是与那些没有参与该作品的团队成员的知识共享，也意味着整个团队可以积极参与考虑其未来方向，每个人的意见都会被考虑在内。

在我下一篇关于 CRC 卡的文章中，我将讲述我如何提前使用它们来帮助设计决策。

### 顶级提示

1.  在之前的**和**之后的**写一张卡片，然后进行比较。**
2.  根据正版代码写卡片。不要把它建立在一些图画或者你对它做了什么的记忆上。打开代码，一行一行地读代码，边读边写出来。确保所有东西都在里面。
3.  在我看来，编写一个好的 CRC 卡意味着从代码中引入一个抽象层次。虽然合作者列表可能是对象的 121 映射，但职责应该反映您的领域，而不一定是您的代码。我这么说是什么意思？假设你有一个“EmailAddressValidator”对象，它的职责可能是“验证电子邮件地址”,然而，它可能需要 3 个函数来完成。责任>执行。
4.  扔掉它们。经常。如果你不能快速重新创建这些卡，那么通常是代码味道，你的代码太复杂——参见“适合你头脑的软件”
5.  如果你不能把所有的职责和合作者都放在卡片的一边，那么你的代码就太复杂了——见上文。
6.  如果你正在进行任何类型的重构会议，把责任和合作者写在不同的纸条上，你可以用蓝色大头针粘在卡片上。鼓励人们移动纸片。
7.  记住要包括所有的东西。人们不包括但你应该包括的常见事物包括:

*   配置更改
*   测试代码的更改
*   数据库更改
*   基础设施