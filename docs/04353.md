# 2018 å¹´ Firebase SDK å’Œ Firestore for React åŸç”Ÿåº”ç”¨

> åŸæ–‡:[https://dev . to/on myway 133/firebase-SDK-with-firestore-for-react-native-apps-in-2018-6an](https://dev.to/onmyway133/firebase-sdk-with-firestore-for-react-native-apps-in-2018-6an)

[![](../Images/774c5daa61b5839af2dedffffba4624e.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--S5RV4GaC--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1600/0%2AVlZ7ou_WmSvHZg9a.jpg)

åœ¨ 2017 å¹´ Firebase Dev Summit[ä¸Šï¼Œè°·æ­Œæ¨å‡ºäº†](https://www.youtube.com/watch?v=W3xIOQu0h1w) [Firestore](https://firebase.googleblog.com/2017/10/introducing-cloud-firestore.html) ä½œä¸ºå®Œå…¨ç®¡ç†çš„ NoSQL æ–‡æ¡£æ•°æ®åº“ï¼Œç”¨äºç§»åŠ¨å’Œ web åº”ç”¨å¼€å‘ã€‚ä¸ Firebase å®æ—¶æ•°æ®åº“ç›¸æ¯”ï¼Œå®ƒæ‹¥æœ‰[æ›´å¥½çš„æŸ¥è¯¢](https://firebase.googleblog.com/2017/10/cloud-firestore-for-rtdb-developers.html)å’Œæ›´å¤šçš„ç»“æ„åŒ–æ•°æ®ï¼Œä»¥åŠè½»æ¾çš„æ‰‹åŠ¨è·å–æ•°æ®ã€‚

é›†åˆå’Œæ–‡æ¡£çš„æ–°ç»“æ„å¯èƒ½æ˜¯å¼•äººæ³¨ç›®çš„ï¼Œè¿™ä½¿å¾—æ•°æ®å¯¹ç”¨æˆ·æ¥è¯´æ›´åŠ ç›´è§‚ï¼ŒæŸ¥è¯¢ä¹Ÿå˜å¾—è½»è€Œæ˜“ä¸¾ã€‚

[![From [https://firebase.googleblog.com/2017/10/cloud-firestore-for-rtdb-developers.html](https://firebase.googleblog.com/2017/10/cloud-firestore-for-rtdb-developers.html)](../Images/4d2fefa5a695ffae9fe81fe952972fb4.png) ](https://res.cloudinary.com/practicaldev/image/fetch/s--KRBLprlR--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/0%2AmEjeh2eMqIvQYNTa.png) *æ¥è‡ª[https://firebase . Google blog . com/2017/10/cloud-firestore-for-rtdb-developers . html](https://firebase.googleblog.com/2017/10/cloud-firestore-for-rtdb-developers.html)*

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†å±•ç¤ºå¦‚ä½•åœ¨ iOS å’Œ Android çš„ React æœ¬æœºåº”ç”¨ç¨‹åºä¸­è®¾ç½® Firebase Cloud Firestoreï¼Œå½“ç„¶ï¼Œè¿˜æœ‰ä¸€äº›éš¾ç‚¹ã€‚ç„¶åæˆ‘ä»¬åœ¨ Firestore æ•°æ®åº“ä¸­åˆ›å»ºå’Œè·å–æ–‡æ¡£ã€‚

## [](#firebase-javascript-sdk)Firebase Javascript SDK

æˆ‘çš„ç¬¬ä¸€ä¸ªé€‰æ‹©æ˜¯ä½¿ç”¨ [Firebase Javascript SDK](https://github.com/firebase/firebase-js-sdk) ï¼Œå› ä¸ºå®ƒå¯¹æˆ‘æ¥è¯´ä¸ Firebase å®æ—¶æ•°æ®åº“é…åˆå¾—å¾ˆå¥½ã€‚æˆ‘çš„ç”¨ä¾‹åªæ˜¯è·å–å’Œæ›´æ–° Firestore é›†åˆï¼Œæˆ‘è®¤ä¸ºå®ƒä¸æ¶‰åŠå¤ªå¤šçš„åŸç”ŸåŠŸèƒ½ã€‚æ­¤å¤–ï¼Œåœ¨å¤„ç† React Native æ—¶ï¼Œå¦‚æœå¯èƒ½çš„è¯ï¼Œæˆ‘ä¼šå°½é‡é¿å…ä½¿ç”¨æœ¬æœºä»£ç ã€‚

å› æ­¤ï¼Œè®©æˆ‘ä»¬å°è¯•[å¼€å§‹ä½¿ç”¨äº‘ Firestore](https://firebase.google.com/docs/firestore/quickstart)

```
npm install firebase 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘å®‰è£…çš„ç‰ˆæœ¬æ˜¯ 5.4.0ã€‚æ¥ä¸‹æ¥ï¼Œå¯¼å…¥ firebaseï¼Œæ³¨æ„æˆ‘ä»¬è¿˜éœ€è¦å¯¼å…¥ firestore

```
const firebase = require("firebase");
// Required for side-effects
require("firebase/firestore"); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#document-is-not-defined)å•æ®æœªå®šä¹‰

è¿™ä¸ª[é—®é¢˜](https://github.com/firebase/firebase-js-sdk/issues/1157)è®©æˆ‘åœ¨æ¡Œå­ä¸Šæ•²äº†ä¸€ä¼šå„¿ã€‚æ­£å¦‚[äºº](https://github.com/firebase/firebase-js-sdk/issues/1138)æ‰€æŒ‡å‡ºçš„ï¼Œæ˜¯å› ä¸ºæ–‡ä»¶è¢«è®¿é—®ã€‚

```
var BrowserPlatform = /** @class */ (function () {
    function BrowserPlatform() {
        this.emptyByteString = '';
        this.document = document; // delete this line
        this.window = window; // delete this line
        this.base64Available = typeof atob !== 'undefined';
    } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å½“å‰ Firebase Javascript SDK ä¸­çš„ firestore ç»„ä»¶ä¸å®Œå…¨æ”¯æŒ React Nativeï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦è§£å†³è¿™ä¸ªé—®é¢˜æˆ–ä½¿ç”¨ npm install firebase@next çš„æµ‹è¯•ç‰ˆã€‚åŒæ—¶ï¼Œè®©æˆ‘ä»¬è¯•è¯•ååº”åŸç”Ÿç«ç„°åŸºã€‚

## [](#react-native-firebase)ååº”åŸç”Ÿç«åŸº

é˜…è¯» [Cloud Firestore åº“å’Œæ¡†æ¶é›†æˆ](https://firebase.google.com/docs/firestore/library-integrations)ï¼Œæ¨è React Native Firebaseã€‚è™½ç„¶æ¥è‡ª [Firebase Web SDK](https://www.npmjs.com/package/firebase) çš„ä¸€äº›åŠŸèƒ½é€šå¸¸å¯ä»¥ä¸ React Native ä¸€èµ·å·¥ä½œï¼Œä½†å®ƒä¸»è¦æ˜¯ä¸º Web æ„å»ºçš„ï¼Œå› æ­¤å…·æœ‰æœ‰é™çš„å…¼å®¹åŠŸèƒ½é›†ã€‚

[![Source: [https://rnfirebase.io/docs/v4.3.x/getting-started](https://rnfirebase.io/docs/v4.3.x/getting-started)](../Images/2925f691f9d2a81a6d4f972b5ffe1479.png) ](https://res.cloudinary.com/practicaldev/image/fetch/s--U35YTrW5--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2Arae3_7gLeEQvPRDNesXgrw.png) *æ¥æº:ã€https://rnfirebase.io/docs/v4.3.x/getting-startedã€‘*T4

ä¸‹é¢è¿™ç¯‡æ–‡ç« å’Œä»–ä»¬çš„[å…¥é—¨ app](https://github.com/invertase/react-native-firebase-starter) å°±æ˜¯æŒ‡è·¯æ˜Ÿã€‚åœ¨ iOS å’Œ Android ä¸­é›†æˆæœ¬æœºä»£ç å¯èƒ½ä¼šå¾ˆç—›è‹¦ï¼Œä½†æˆ‘è®¤ä¸ºæœ¬æœº Firebase éå¸¸å¼ºå¤§ï¼Œå› ä¸ºå®ƒæœ‰æœ€æ–°çš„æœ¬æœº Firebase SDK åŒ…è£…å™¨ã€‚

è®©æˆ‘ä»¬å®‰è£… NPM react-native-firebaseï¼Œå½“å‰ç‰ˆæœ¬æ˜¯ 4.3.8ï¼Œå¹¶éµå¾ªç°æœ‰é¡¹ç›®çš„[æ‰‹åŠ¨å®‰è£…æŒ‡å—](https://rnfirebase.io/docs/v4.3.x/installation/initial-setup)ï¼Œè¿™æœ‰åŠ©äºæ‚¨äº†è§£æ›´å¤šå…³äºè¿‡ç¨‹å’Œå¼•å¯¼è„šæœ¬çš„ä¿¡æ¯ã€‚

## [](#a-quick-look)åŒ†åŒ†ä¸€ç¥

é¦–å…ˆä½ éœ€è¦ [Firebase æ§åˆ¶å°](https://firebase.google.com/console)å¹¶æ·»åŠ ä¸€ä¸ªé¡¹ç›®ã€‚ä¸€ä¸ªé¡¹ç›®å…è®¸è®¸å¤šåº”ç”¨ç¨‹åºé©»ç•™ï¼Œä¾‹å¦‚æˆ‘æœ‰ 4 ä¸ªåº”ç”¨ç¨‹åº(2 ä¸ª iOSï¼Œ2 ä¸ª Android)å¯ä»¥è®¿é—® Firestore æ•°æ®åº“ã€‚

[![](../Images/56a2520246c43168fa6578b7d097c180.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--_JNnAalS--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2868/1%2Aab5VL-6oUZdahAQAFYFBuQ.png)

åœ¨å·¦ä¾§èœå•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿæµè§ˆ Firestore åŠå…¶æ”¶è—/æ–‡æ¡£ç»“æ„

[![](../Images/323a2361abbf4047aa5778169ee5edca.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--txd7Ae8r--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2796/1%2A0NEWzQZ9oiKY3lkMBxHtcA.png)

### iOS è®¾ç½®

éµå¾ª [iOS å®‰è£…æŒ‡å—](https://rnfirebase.io/docs/v4.3.x/installation/ios)

é¦–å…ˆï¼Œä¸‹è½½ [GoogleService-Info.plist](https://rnfirebase.io/docs/v4.3.x/installation/ios#1.1.-Setup-GoogleService-Info.plist) å¹¶æ”¾åœ¨æ­£ç¡®çš„æ–‡ä»¶å¤¹ä¸­ï¼Œç¡®ä¿å®ƒå·²ç»é€šè¿‡ Xcode æ·»åŠ åˆ°é¡¹ç›®ä¸­ã€‚å¦åˆ™ Firebase SDK ä¼šå¯¼è‡´åº”ç”¨ç¨‹åºåœ¨å¯åŠ¨åç«‹å³å´©æºƒã€‚

[![](../Images/1501ac54517d5ccc24ad9b1bea146b60.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--VYdPNrK6--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2A-Tz59Dx1xbIyqUEuKOlXCA.png)

ç„¶åæ·»åŠ #import åˆ° AppDelegate.m å’Œã€FIRApp configureã€‘ï¼›ä»¥è¿è¡Œ didFinishLaunchingWithOptionsã€‚æ¥ä¸‹æ¥åœ¨ ios æ–‡ä»¶å¤¹ä¸­ç”¨ pod init åˆ›å»º Podfileã€‚å¯¹äº Firestoreï¼Œæ‚¨éœ€è¦ Firebase/Firestore æ¥é˜²æ­¢ä»¥ä¸‹é”™è¯¯

> æ‚¨è¯•å›¾é€šè¿‡è°ƒç”¨ firebase.firestore()æ¥ä½¿ç”¨ iOS é¡¹ç›®ä¸­æœªæœ¬æœºå®‰è£…çš„ firebase æ¨¡å—

è€Œä¸”ä¸åº”è¯¥ç”¨ use_frameworksï¼å› ä¸ºå®ƒç»™å‡ºé”™è¯¯â€œæ‰¾ä¸åˆ° firebase core/firalyticsconfiguration . hâ€æ–‡ä»¶

```
platform :ios, '9.0'

target 'FoodshopGuest' do
  pod 'Firebase/Core', '~> 5.3.0'
  pod 'Firebase/Firestore', '~> 5.3.0'
end 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¦‚æœæ‚¨å¾—åˆ° Framework not found firebase analyticsï¼Œé‚£ä¹ˆç¡®ä¿æ¯ä¸ªç›®æ ‡åœ¨æ¡†æ¶æœç´¢è·¯å¾„çš„é¡¶éƒ¨éƒ½æœ‰$(inherited)

[![](../Images/f194b326f8006df73d11ee2f5e13c483.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--tY75V3Qe--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2446/1%2ATBQZ1GbbDtWFz8Ife2mTEg.png)

ç„¶åè¿è¡Œ react-native link react-native-firebaseï¼Œä½ åº”è¯¥å¯¹ iOS å¾ˆå¥½ã€‚

### Android è®¾ç½®

ä¸ iOS ç›¸æ¯”ï¼ŒAndroid çš„è®¾ç½®æœ‰ç‚¹ä¸é‚£ä¹ˆç®€å•ã€‚ä½†ä¹Ÿä¸æ˜¯ä¸å¯èƒ½ã€‚è®©æˆ‘ä»¬è·Ÿéš[å®‰å“å®‰è£…æŒ‡å—](https://rnfirebase.io/docs/v4.3.x/installation/android)ã€‚

é¦–å…ˆï¼Œå°† [google-services.json](https://rnfirebase.io/docs/v4.3.x/installation/android#2.-Setup-google-services.json) æ”¾åœ¨ Android/app/Google-services . JSON ä¸­ã€‚è®©æˆ‘ä»¬ä¹Ÿä½¿ç”¨ Gradle 4.4 å’Œ Google Play æœåŠ¡ 15.0.1ã€‚æ›´æ”¹è¦ä½¿ç”¨çš„ gradle/gradle-wrapper . properties

```
distributionUrl=https\://services.gradle.org/distributions/gradle-4.4-all.zip 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸‹é¢æ˜¯æˆ‘çš„é¡¹ç›® build.gradle ç”¨ compileSdkVersion 27 å’Œ buildToolsVersion 27.0.3ã€‚ç¡®ä¿ google()ä¿æŒåœ¨ jcenter()ä¹‹ä¸Š

```
// Top-level build file where you can add configuration options common to all sub-projects/modules.

buildscript {
    repositories {
        mavenLocal()
        google()
        jcenter()
        maven {
            url '[https://maven.google.com/'](https://maven.google.com/')
            name 'Google'
        }
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:3.1.3'
        classpath 'com.google.gms:google-services:4.0.1'

// NOTE: Do not place your application dependencies here; they belong
        // in the individual module build.gradle files
    }
}

allprojects {
    repositories {
        mavenLocal()
        google()
        jcenter()
        maven {
            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm
            url "$rootDir/../node_modules/react-native/android"
        }
    }
}

ext {
    buildToolsVersion = "27.0.3"
    minSdkVersion = 16
    compileSdkVersion = 27
    targetSdkVersion = 26
    supportLibVersion = "26.1.0"
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¯¹äºæˆ‘çš„åº”ç”¨ç¨‹åºæ¨¡å— build.gradleï¼Œè®©æˆ‘ä»¬åœ¨æ–‡ä»¶çš„æœ€åº•éƒ¨åº”ç”¨æ’ä»¶:â€œcom.google.gms.google-servicesâ€ï¼Œè¿™å¾ˆé‡è¦ã€‚åœ¨ä¾èµ–é¡¹éƒ¨åˆ†ï¼Œæ‚¨å¿…é¡»æ‹¥æœ‰ com . Google . firebase:firebase-firestore ä»¥åŒ…å« Firestore ç»„ä»¶ã€‚

```
dependencies {
    implementation project(':react-native-firebase')
    implementation fileTree(dir: "libs", include: ["*.jar"])
    implementation "com.android.support:appcompat-v7:${rootProject.ext.supportLibVersion}"

// Firebase dependencies
    implementation "com.google.android.gms:play-services-base:15.0.1"
    implementation "com.google.firebase:firebase-core:16.0.1"
    implementation "com.google.firebase:firebase-firestore:17.0.2"

} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç¡®ä¿æ²¡æœ‰é‡å¤çš„é¡¹ç›®(':react-native-firebase ')ã€‚è€Œä¸”æ—¢ç„¶ç”¨çš„æ˜¯ Gradle 4ï¼Œé‚£å°±ç”¨å®ç°ä»£æ›¿ç¼–è¯‘
[**åœ¨ Gradle ä¸­å®ç°å’Œç¼–è¯‘æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ**
*æœ¬ç½‘ç«™ä½¿ç”¨ cookies æä¾›æˆ‘ä»¬çš„æœåŠ¡ï¼Œå¹¶å‘æ‚¨æ˜¾ç¤ºç›¸å…³å¹¿å‘Šå’Œå·¥ä½œåˆ—è¡¨ã€‚é€šè¿‡ä½¿ç”¨æˆ‘ä»¬çš„ç½‘ç«™ï¼Œæ‚¨â€¦â€¦* stack overflow . com](https://stackoverflow.com/questions/44493378/whats-the-difference-between-implementation-and-compile-in-gradle)

å› ä¸º Firestoreï¼Œè®©æˆ‘ä»¬æŒ‰ç…§[react-native-firebase-starter](https://github.com/invertase/react-native-firebase-starter/blob/master/android/app/build.gradle)æ¥ä¿®å¤å †é—®é¢˜

```
dexOptions {
    javaMaxHeapSize "4g"
}

multiDexEnabled true 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¦‚æœè·å¾—æœ¬æœºæ¨¡å—ï¼ŒRNFirebaseModule ä¼šå°è¯•é‡å†™ FNFirebaseModule

> æœ¬æœºæ¨¡å— RNFirebaseModule è¯•å›¾é‡å†™æ¨¡å—åä¸º Firebase çš„ FNFirebaseModuleã€‚å¦‚æœè¿™æ˜¯æ‚¨çš„æ„å›¾ï¼Œè¯·è®¾ç½®â€œcanOverrideExistingModule=trueâ€

ç„¶åç¡®ä¿æ‚¨çš„ MainApplication.java å¯¹äºæ–°çš„ RNFirebasePackage()æ²¡æœ‰é‡å¤ã€‚è¿™é‡Œæ˜¯æˆ‘çš„ MainApplication.javaï¼Œæ³¨æ„éœ€è¦å¯¼å…¥ io . invertase . firebase . firestore . rnfirebasefirestorepackageï¼›è‹¥è¦ä½¿ç”¨ RNFirebaseFirestorePackage

```
package com.fantageek.foodshophost;

import android.app.Application;

import com.facebook.react.ReactApplication;
import io.invertase.firebase.RNFirebasePackage;
import io.invertase.firebase.firestore.RNFirebaseFirestorePackage;
import com.facebook.react.ReactNativeHost;
import com.facebook.react.ReactPackage;
import com.facebook.react.shell.MainReactPackage;
import com.facebook.soloader.SoLoader;

import java.util.Arrays;
import java.util.List;

public class MainApplication extends Application implements ReactApplication {

private final ReactNativeHost mReactNativeHost = new ReactNativeHost(this) {
    [@Override](http://twitter.com/Override)
    public boolean getUseDeveloperSupport() {
      return BuildConfig.DEBUG;
    }

[@Override](http://twitter.com/Override)
    protected List<ReactPackage> getPackages() {
      return Arrays.<ReactPackage>asList(
          new MainReactPackage(),
          new RNFirebasePackage(),
          new RNFirebaseFirestorePackage()
      );
    }

[@Override](http://twitter.com/Override)
    protected String getJSMainModuleName() {
      return "index";
    }
  };

[@Override](http://twitter.com/Override)
  public ReactNativeHost getReactNativeHost() {
    return mReactNativeHost;
  }

[@Override](http://twitter.com/Override)
  public void onCreate() {
    super.onCreate();
    SoLoader.init(this, /* native exopackage */ false);
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘çš„ç»éªŒæ˜¯ï¼Œä½ åº”è¯¥æ€»æ˜¯ä½¿ç”¨ Android Studio æ¥æ‰§è¡Œ Gradle sync æˆ–æ„å»ºé¡¹ç›®ï¼Œåœ¨é‚£é‡Œä½ åº”è¯¥èƒ½å¤Ÿæ›´å®¹æ˜“åœ°å‘ç°ç¼–è¯‘é—®é¢˜ã€‚æœ‰äº†ä¸Šé¢çš„æ‰€æœ‰æ­¥éª¤ï¼Œç¼–è¯‘åº”è¯¥ä¼šæˆåŠŸã€‚

åœ¨ Android ä¸Šè¿è¡Œ React Native çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œå¦‚æœåœ¨ react-native run-android å’Œ Metro ä¸€ç›´æ˜¾ç¤ºåŠ è½½ä¾èµ–å›¾ï¼Œdoneï¼Œé‚£ä¹ˆä½ åº”è¯¥é€šè¿‡ Android Studio -> AVD Manager æˆ– adb å¯åŠ¨æ¨¡æ‹Ÿå™¨ï¼Œåº”ç”¨ç¨‹åºåº”è¯¥å·²ç»å®‰è£…åœ¨æ¨¡æ‹Ÿå™¨ä¸­ï¼Œæ‰“å¼€åº”ç”¨ç¨‹åºï¼ŒMetro å°†å†æ¬¡å¼€å§‹åŠ è½½ã€‚

## [](#trying-firestore)è¯•ç«

React Native Firebase åº”è¯¥ä¸ºæ‚¨æä¾›ä¸ web ä¸­çš„ API ç±»ä¼¼çš„ APIï¼Œæ‰€ä»¥è¯·ä»[Get data with Cloud Firestore](https://firebase.google.com/docs/firestore/query-data/get-data)äº†è§£å¦‚ä½•è·å–æˆ–è®¾ç½®æ–‡æ¡£ã€‚

æˆ‘å–œæ¬¢åœ¨å•ç‹¬çš„æ–‡ä»¶ä¸­ç»„ç»‡æœåŠ¡ï¼Œä»¥ä¸‹æ˜¯å¦‚ä½•å¼•ç”¨ firestore å’ŒåŠ è½½æ–‡æ¡£ã€‚

```
import firebase from 'react-native-firebase'

ç±» FirebaseService { 
æ„é€ å‡½æ•°(){
this . ref = firebase . firestore()ã€‚æ”¶è—(â€˜äººâ€™)
}

å¼‚æ­¥åŠ è½½(id){
const doc = await this . ref . doc(id)ã€‚get()
if(doc . exists){
return doc . data()
} else {
const default doc = {
name:" ABC "ï¼Œ
 age: 2 
 }

ç­‰å¾…æ­¤å¼•ç”¨æ–‡ä»¶(id)ã€‚è®¾ç½®ã€é»˜è®¤å•æ®ã€‘
è¿”å›å•æ®
 } 
 } 

export const firebaseService = new firebaseService() 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## 
 [](#where-to-go-from-here) 
ä½•å»ä½•ä»

æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« æœ‰åŠ©äºåœ¨ React Native apps ä¸­è®¾ç½® Firebase SDKã€‚ä»¥ä¸‹æ˜¯ä¸€äº›æœ‰åŠ©äºæ‚¨è¿›ä¸€æ­¥æ¢ç´¢çš„èµ„æºã€‚å¦‚æœæ‚¨åœ¨ä½¿ç”¨ react-native-firebase æ—¶é‡åˆ°ä»»ä½•éº»çƒ¦ï¼Œreact-native-firebase-starter åŒ…å«äº†éå¸¸æ£’çš„å‚è€ƒä»£ç ã€‚
[**React Native ä¸Šçš„äº‘ Firestore å…¥é—¨**
*ä¸€å‘¨å‰ï¼ŒFirebase å®£å¸ƒæ¨å‡ºäº‘ Firestoreï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„ NoSQL æ–‡æ¡£æ•°æ®åº“ï¼Œè¡¥å……äº†ç°æœ‰çš„â€¦* blog . inversase . io](https://blog.invertase.io/getting-started-with-cloud-firestore-on-react-native-b338fb6525b9)
[**inversase/React-Native-Firebase-starter**
* React-Native-Firebase-starter-ğŸé¢„é›†æˆäº† react-native-firebase çš„åŸºæœ¬ react åŸç”Ÿåº”ç”¨ç¨‹åºï¼Œå› æ­¤æ‚¨å¯ä»¥â€¦*github.com](https://github.com/invertase/react-native-firebase-starter)

åŸå¸–[https://medium . com/react-native-training/firebase-SDK-with-firestore-for-react-native-apps-in-2018-aa89 a67d 6934](https://medium.com/react-native-training/firebase-sdk-with-firestore-for-react-native-apps-in-2018-aa89a67d6934)

* * *

æ”¯æŒæˆ‘çš„åº”ç”¨ç¨‹åº

*   [æ¨é€ Hero -æµ‹è¯•æ¨é€é€šçŸ¥çš„çº¯ Swift åŸç”Ÿ macOS åº”ç”¨](https://www.producthunt.com/posts/push-hero-2)
*   [å¿«é€Ÿè®¿é—®-åœ¨ Mac èœå•æ ä¸­ç»„ç»‡æ–‡ä»¶](https://www.producthunt.com/posts/quick-access)
*   [å¸§è®°å½•å™¨-å¸¦å¸§è®°å½•å™¨ gif å’Œè§†é¢‘](https://www.producthunt.com/posts/frame-recorder)
*   [å…¶ä»–åº”ç”¨](https://onmyway133.github.io/projects/)

â¤ï¸â¤ï¸ğŸ˜‡ğŸ˜ğŸ¤˜â¤ï¸â¤ï¸