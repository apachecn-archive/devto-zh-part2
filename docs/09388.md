# CI/CD æ‰€æœ‰çš„äº‹æƒ…:ä» GitLab å¼•å…¥è‡ªåŠ¨æ—©é¤(æŸç§ç¨‹åº¦ä¸Š)

> åŸæ–‡:[https://dev . to/olearycrew/ci-CD-all-the-things-introducing-auto-breakfast-from-git lab-sort-of-3d 93](https://dev.to/olearycrew/ci-cd-all-the-things-introducing-auto-breakfast-from-gitlab-sort-of-3d93)

GitLab æ–‡åŒ–çš„ä¸€å¤§éƒ¨åˆ†æ˜¯[äº’ç›¸æ„Ÿè°¢](https://about.gitlab.com/handbook/communication/#say-thanks)æ‰€åšçš„ä¼Ÿå¤§å·¥ä½œã€‚è¿™å¯ä»¥æ˜¯ä»»ä½•äº‹æƒ…ï¼Œä»å¸®åŠ©è§£å†³ä¸€ä¸ªæ£˜æ‰‹çš„æŠ€æœ¯é—®é¢˜ï¼Œåˆ°ç®€å•åœ°åˆ†äº«ä¸€ä¸ªç¾å¥½çš„[å’–å•¡ä¼‘æ¯ç”µè¯](https://about.gitlab.com/culture/all-remote/#coffee-break-calls)æ¥ç»“æŸä¸€å¤©çš„å·¥ä½œã€‚ä¸€å¤©ï¼Œä¸€åé”€å”®å›¢é˜Ÿæˆå‘˜æ„Ÿè°¢ Customer Success çš„æŸäººä¸ºä»–åšäº†ä¸€æ¬¡ç²¾å½©çš„ [GitLab CI/CD](https://about.gitlab.com/features/gitlab-ci-cd/) æ¼”ç¤ºã€‚å®¢æˆ·äº‹åè¯„è®ºâ€œå¥½å§ï¼ŒGitLab ä¸åšä»€ä¹ˆï¼Ÿâ€

å¤§é‡ä»¥å¿ƒè„ä¸ºä¸»é¢˜çš„è¡¨æƒ…ç¬¦å·ååº”éšä¹‹è€Œæ¥ã€‚æˆ‘ä»¬å·²ç»çœ‹åˆ°ç”¨æˆ·ç”¨ GitLab CI/CD åšäº†ä¸€äº›éå¸¸æƒŠäººçš„äº‹æƒ…ï¼Œä»[å¢åŠ åˆ°æ¯å‘¨ç§»åŠ¨å‘å¸ƒ](https://about.gitlab.com/2017/06/07/continous-integration-ticketmaster/)åˆ°[è‡ªåŠ¨åŒ–æ¯ç‡¥çš„ Git æ“ä½œ](https://about.gitlab.com/2017/11/02/automating-boring-git-operations-gitlab-ci/)ï¼Œåˆ°[èŠ‚çœ 90%çš„ EC2 æˆæœ¬](https://about.gitlab.com/2017/11/23/autoscale-ci-runners/)ã€‚ç„¶è€Œï¼Œæœ‰ä¸€ä»¶äº‹æˆ‘ä»¬æ²¡æœ‰çœ‹åˆ°ã€‚æ‰€ä»¥é™¤äº†è¿™ç§çˆ±ï¼Œè¿™ä¸ªé—®é¢˜è¿˜å¾—åˆ°äº†ä¸€ä¸ªåŠè®½åˆºçš„å›ç­”:

> ä¸å¹¸çš„æ˜¯ï¼Œå®ƒä¸ä¼šä¸ºä½ åšæ—©é¤ã€‚

æˆ‘ä»æ¥ä¸ä¼šè®©æ— èŠçš„è°ˆè¯è¢«å¿½è§†ï¼Œæˆ‘ç”¨æˆ‘æœ€å–œæ¬¢çš„ä¸€å¥è¯æ¥å›ç­”:

[![](../Images/7c4e8203ef302c7ddfb7972683213498.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--KTVY3KB4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/466/0%2AGRSEFacBCMhZ_19G.png)

æˆ‘ä¸å¾—ä¸æ‰¿è®¤ï¼Œæˆ‘çš„çŠ¶æ€æ˜¯[:å’–å•¡ _ é¹¦é¹‰:](https://github.com/jmhobbs/cultofthepartyparrot.com/issues/55)å¯èƒ½ä¸æˆ‘çƒ­æƒ…çš„å›å¤æœ‰å…³â€¦

### [](#the-challenge)æŒ‘æˆ˜

å½“æ—¶æˆ‘å¯¹å¦‚ä½•å®Œæˆè¿™ä»¶äº‹åªæœ‰ä¸€ä¸ªæ¨¡ç³Šçš„æƒ³æ³•ã€‚æˆ‘çš„è¯„è®ºå¼•å‘äº†è®¸å¤šå…³äºç‰©è”ç½‘è®¾å¤‡çš„å»ºè®®ã€‚è™½ç„¶ä¸€ä¸ªè£…æœ‰æ°¸è¿œä¸ä¼šæ‰“è¡¥ä¸çš„ Linux ç‰ˆæœ¬çš„çƒ¤é¢åŒ…æœºå¾ˆå¸å¼•äººï¼Œä½†æˆ‘æƒ³åšä¸€äº›æ›´å¤§çš„äº‹æƒ…ã€‚

å‡ å¹´å‰ï¼Œä¸€äº›æœ‹å‹çŸ¥é“æˆ‘å–œæ¬¢çƒ¹é¥ªï¼Œäºæ˜¯èšåœ¨ä¸€èµ·ç»™æˆ‘ä¹°äº†ä¸€å° Anova Sous Videã€‚ä»–ä»¬æ²¡æœ‰è®¡ç®—åˆ°çš„æ˜¯ï¼Œåœ¨å…«å¹´å†…ç”Ÿå››ä¸ªå­©å­å¯¹å­¦ä¹ ä¹…ç»è€ƒéªŒçš„[æ³•å¼çƒ¹é¥ªæ–¹æ³•](https://en.wikipedia.org/wiki/Sous-vide)ä¼šèµ·åˆ°åä½œç”¨ã€‚å› æ­¤ï¼Œè¿™ä¸ªå·¥å…·åœ¨å®ƒçš„æ—¶ä»£å¹¶æ²¡æœ‰å¤ªå¤šçš„ç”¨å¤„ã€‚

ç„¶è€Œï¼Œæ­¤æ—¶æˆ‘æƒ³åˆ°äº†ä¸¤ä»¶äº‹:

1.  æˆ‘å–œæ¬¢ä¸€å®¶çŸ¥åå’–å•¡åº—æ–°æ¨å‡ºçš„çœŸç©ºè›‹å·
2.  Anova Sous Vide ä½¿ç”¨[è“ç‰™ä½èƒ½è€—(BLE)](https://en.wikipedia.org/wiki/Bluetooth_Low_Energy) è®©ä½ é€šè¿‡åº”ç”¨ç¨‹åºæ§åˆ¶å®ƒ

### [](#the-recipe-culinary)èœè°±(çƒ¹é¥ª)

è™½ç„¶æˆ‘ç¡®å®å–œæ¬¢å’–å•¡åº—é‡Œçš„è›‹å·ï¼Œä½†æˆ‘å¹¶ä¸æ˜¯ä¸€ç›´éƒ½æœ‰ã€‚æˆ‘ä¼šç»™ä»–ä»¬ 5 æ˜Ÿçš„è¯„çº§ï¼Œä½†æ˜¯ä»–ä»¬æ¯”æˆ‘æƒ³èŠ±çš„å¤šèŠ±äº†ä¸€äº›*é’±*ğŸ˜‰å› æ­¤ï¼Œæˆ‘åœ¨ Anova çš„ç½‘ç«™ä¸Šæ‰¾åˆ°äº†ä¸€ä»½[çœŸç©ºå¸è›‹é£Ÿè°±](https://recipes.anovaculinary.com/recipe/sous-vide-egg-bites-bacon-gruyere)ã€‚

### [](#the-recipe-technology)èœè°±(æŠ€æœ¯)

ä¸€æ—¦æˆ‘æœ‰äº†è¯€çªï¼Œæˆ‘æ‰€éœ€è¦çš„å°±æ˜¯é€†å‘å·¥ç¨‹ BLE è¿æ¥ï¼Œå¼„æ¸…æ¥šå¦‚ä½•ä»å‘½ä»¤è¡Œå·¥ä½œï¼Œå»ºç«‹ä¸€ä¸ªé¡¹ç›®ï¼Œå¹¶è®©å®ƒä¸ GitLab CI/CD é›†æˆâ€¦æ²¡ä»€ä¹ˆå¤§ä¸äº†çš„ã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªåä¸º PyCirculate çš„å¥‡å¦™é¡¹ç›®ï¼Œå®ƒå·²ç»ç”¨ Anova è§£å†³äº†è®¸å¤š BLE è¿æ¥é—®é¢˜ã€‚è¿™è®©æˆ‘æƒ³çŸ¥é“ä»¥å‰æ˜¯å¦æœ‰äººåšè¿‡è‡ªåŠ¨æ—©é¤â€¦ä½†æ˜¯æˆ‘è¿˜æ²¡æœ‰æ‰¾åˆ°ä»–ä»¬ï¼

[![](../Images/14b311ec998aa6f17c462d4f618162d0.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--vKapu-mz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/0%2AftCztjcrF_GunE8n.png)

ç°åœ¨æˆ‘æœ‰äº†é£Ÿè°±å’Œæ‰€æœ‰çš„é…æ–™ï¼Œæ˜¯æ—¶å€™å¼€å§‹äº†â€¦â€¦(æˆ‘æ— æ³•å‘Šè¯‰ä½ å½“æˆ‘æƒ³åˆ°é‚£ä¸ªç¬‘è¯æ—¶æœ‰å¤šå¼€å¿ƒã€‚æˆ‘è¯´è¿‡æˆ‘æ˜¯çˆ¸çˆ¸äº†å—ï¼Ÿ)

### [](#setting-up-the-breakfast-pipeline)è®¾ç½®æ—©é¤ç®¡é“

ä¸€æ—¦æˆ‘åœ¨æˆ‘çš„ç¬”è®°æœ¬ç”µè„‘ä¸Šå®‰è£…å¹¶è¿è¡Œäº†è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘å°±å°†ä»£ç ä¸Šä¼ åˆ° GitLab çš„å…¬å…±å­˜å‚¨åº“ä¸­çš„è‡ªåŠ¨æ—©é¤ç»„ä¸­ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘å°† [GitLab Runner](https://docs.gitlab.com/runner/) å®‰è£…åœ¨ [RaspberryPi](https://www.raspberrypi.org/) ä¸Šã€‚æˆ‘å°† Pi æ³¨å†Œä¸ºæˆ‘çš„é¡¹ç›®çš„ç‰¹å®šè¿è¡Œè€…ã€‚æˆ‘ä½¿ç”¨äº†ä¸€ä¸ª [runner æ ‡ç­¾](https://docs.gitlab.com/ee/ci/runners/README.html#using-tags)ï¼Œè¿™æ ·æˆ‘å¯ä»¥ç¡®ä¿çƒ¹é¥ªå·¥ä½œåªåœ¨ä¸€ä¸ªæœ‰è“ç‰™è¿æ¥çš„è®¾å¤‡ä¸Šè¿è¡Œã€‚

[![](../Images/d44b739efcd3689c8c6c9ce7c7b0d107.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--PuJBoEfM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/431/0%2AIh8rZdaElnwaPbBb.png)

å½“æˆ‘åœ¨ auto-breakfast/eggs ä¸Šè¿è¡Œç®¡é“æ—¶ï¼Œå®ƒä½¿ç”¨ RaspberryPi æ¥æ‰§è¡Œï¼Œå› æ­¤å¯ä»¥åˆ›å»ºåˆ° Anova çš„ BLE è¿æ¥ã€‚åªéœ€ç‚¹å‡» GitLab ä¸­çš„ä¸€ä¸ªæŒ‰é’®ï¼Œæˆ‘çš„æ—©é¤ç®¡é“å°±å¼€å§‹è¿è¡Œäº†ã€‚æˆ‘æ‰€è¦åšçš„å°±æ˜¯é«˜æ•æ— å¿§ï¼Œè®© GitLab CI/CD å®Œæˆæ‰€æœ‰å·¥ä½œã€‚

[![](../Images/32d7b2389c65933db133f05bc5ff9bd1.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--1J7qjoKo--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/0%2AFQGAGuZqLYOQ_yOR.JPG)

### [](#the-results)ç»“æœ

é¸¡è›‹å’¬å¾—å¤ªæ£’äº†ï¼æˆ‘ç”šè‡³ç”¨ä¸€äº›å¾ˆæ£’çš„çˆ±å°”å…°å¨å£«å¿Œåˆ‡è¾¾å¥¶é…ªä¿®æ”¹äº†é£Ÿè°±ã€‚ç„¶è€Œï¼Œæˆ‘è¦è¯´çš„æ˜¯ï¼Œåšå¥½å‡†å¤‡ç¡®å®éœ€è¦å¤šèŠ±ä¸€ç‚¹åŠŸå¤«ã€‚ç„¶è€Œï¼Œç°åœ¨å®ƒå·²ç»å®Œæˆäº†ï¼Œæˆ‘æœ‰ä¸€ä¸ªå¯é‡å¤çš„ã€å•é”®çš„æ–¹æ³•æ¥å†æ¬¡çƒ¹é¥ªé£Ÿè°±(å‡å»é¸¡è›‹ç ´è£‚å’Œé£Ÿå“åŠ å·¥)ã€‚å°±åƒå¸¦æœ‰. gitlab-ci.yml çš„ CI/CD å¯ä»¥å¸®åŠ©ä½¿è½¯ä»¶æ„å»ºå’Œéƒ¨ç½²æ›´åŠ å¯é å’Œå¯é‡å¤ä¸€æ ·ï¼Œå®ƒä¹Ÿå¯ä»¥æˆä¸ºä¸€é¡¿ç¾å¦™çš„æ—©é¤ğŸ˜

å›¾ä¸­æ²¡æœ‰:ä¸€ä¸ªéå¸¸å‡Œä¹±çš„å¨æˆ¿å’Œä¸€ä¸ªéå¸¸å›°æƒ‘çš„å¦»å­ã€‚

[ç…§ç‰‡](https://unsplash.com/photos/I-ykyShydj0?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)è±è’‚Â·åº“æ ¼å‹’åœ¨ [Unsplash](https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

*åŸè½½äº 2018 å¹´ 6 æœˆ 29 æ—¥*[*ã€about.gitlab.comã€‘*](https://about.gitlab.com/2018/06/29/introducing-auto-breakfast-from-gitlab/)*ã€‚*