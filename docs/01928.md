# Web ç»„ä»¶:ä»é›¶åˆ°è‹±é›„

> åŸæ–‡:[https://dev . to/the passle/we B- components-from-zero-to-hero-4n4m](https://dev.to/thepassle/web-components-from-zero-to-hero-4n4m)

# [](#web-components-from-zero-to-hero)Web ç»„ä»¶:ä»é›¶åˆ°è‹±é›„

## [](#an-introduction-to-writing-raw-web-components)*ç¼–å†™åŸå§‹ web ç»„ä»¶ç®€ä»‹*

*   ä»€ä¹ˆæ˜¯ web ç»„ä»¶ï¼Ÿ
*   [ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ](#-a-components-lifecycle)
*   [æ„å»ºæˆ‘ä»¬çš„å¾…åŠäº‹é¡¹åº”ç”¨](#-building-our-to-do-app)
*   [è®¾ç½®å±æ€§](#-setting-properties)
*   [è®¾ç½®å±æ€§](#-setting-attributes)
*   [å°†å±æ€§åæ˜ åˆ°å±æ€§](#-reflecting-properties-to-attributes)
*   [äº‹ä»¶](#-events)
*   [æµè§ˆå™¨æ”¯æŒå’Œèšåˆå¡«å……](#-browser-support-and-polyfills)
*   [ç»“æŸ](#wrapping-up)

Web ç»„ä»¶è¶Šæ¥è¶Šå—æ¬¢è¿ã€‚éšç€ Edge å›¢é˜Ÿæœ€è¿‘å®£å¸ƒå®ç°è‡ªå®šä¹‰å…ƒç´ å’Œ Shadow DOMï¼Œæ‰€æœ‰ä¸»æµæµè§ˆå™¨éƒ½å°†å¾ˆå¿«æœ¬æœºæ”¯æŒ web ç»„ä»¶ã€‚Githubã€ç½‘é£ã€Youtube å’Œ ING ç­‰å…¬å¸ç”šè‡³å·²ç»åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨ web ç»„ä»¶ã€‚æ•´æ´ï¼ç„¶è€Œï¼Œä»¤äººæƒŠè®¶çš„æ˜¯ï¼Œè¿™äº›æˆåŠŸçš„å¤§å…¬å¸ä¸­æ²¡æœ‰ä¸€å®¶å®ç°äº†(ä½ çŒœå¯¹äº†)*å¾…åŠäº‹é¡¹åº”ç”¨ï¼*

æ‰€ä»¥ä»Šå¤©ï¼Œæˆ‘ä»¬å°†åˆ¶ä½œä¸€ä¸ªå¾…åŠåº”ç”¨ï¼Œå› ä¸ºè¿™ä¸ªä¸–ç•Œè¿˜æ²¡æœ‰è¶³å¤Ÿå¤šçš„å¾…åŠåº”ç”¨çš„å®ç°ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œçœ‹çœ‹æˆ‘ä»¬å°†è¦åˆ¶ä½œçš„[ã€‚](https://thepassle.github.io/webcomponents-from-zero-to-hero/)

åœ¨æˆ‘ä»¬å¼€å§‹ä¹‹å‰ï¼Œæˆ‘æƒ³è¡¥å……ä¸€ç‚¹å£°æ˜ï¼Œè¿™ç¯‡åšå®¢æ—¨åœ¨æ›´å¥½åœ°æŒæ¡ web ç»„ä»¶çš„åŸºç¡€çŸ¥è¯†ã€‚Web ç»„ä»¶æ˜¯ä½çº§çš„ï¼Œåœ¨ä¸ä½¿ç”¨ä»»ä½•åŠ©æ‰‹åº“çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¸åº”è¯¥ç”¨æ¥ç¼–å†™æˆç†Ÿçš„åº”ç”¨ç¨‹åºï¼Œä¹Ÿä¸åº”è¯¥å°†å®ƒä»¬ä¸æˆç†Ÿçš„æ¡†æ¶ç›¸æ¯”è¾ƒã€‚

## [](#what-are-web-components)ğŸ™‹ä»€ä¹ˆæ˜¯ web ç»„ä»¶ï¼Ÿ

> *   [x] Make a demo
> *   [Boring things]
> *   [set attribute]
> *   [set attribute]
> *   [reflect attribute] to attribute
> *   [event]
> *   [Summary]

é¦–å…ˆ: [Web ç»„ä»¶](https://developer.mozilla.org/en-US/docs/Web/Web_Components)æ˜¯ä¸€ç»„æ ‡å‡†ï¼Œå…è®¸æˆ‘ä»¬ç¼–å†™æ¨¡å—åŒ–ã€å¯é‡ç”¨å’Œå°è£…çš„ HTML å…ƒç´ ã€‚å®ƒä»¬æœ€å¥½çš„ä¸€ç‚¹æ˜¯:å› ä¸ºå®ƒä»¬æ˜¯åŸºäº web æ ‡å‡†çš„ï¼Œæˆ‘ä»¬ä¸éœ€è¦å®‰è£…ä»»ä½•æ¡†æ¶æˆ–åº“å°±å¯ä»¥å¼€å§‹ä½¿ç”¨å®ƒä»¬ã€‚æ‚¨ç°åœ¨å°±å¯ä»¥å¼€å§‹ä½¿ç”¨æ™®é€šçš„ javascript ç¼–å†™ web ç»„ä»¶äº†ï¼

ä½†æ˜¯åœ¨æˆ‘ä»¬å¼€å§‹åŠ¨æ‰‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹è®©æˆ‘ä»¬ç¼–å†™ web ç»„ä»¶çš„è§„èŒƒã€‚

### [](#custom-elements)è‡ªå®šä¹‰å…ƒç´ 

è‡ªå®šä¹‰å…ƒç´  api å…è®¸æˆ‘ä»¬åˆ›ä½œè‡ªå·±çš„ DOM å…ƒç´ ã€‚ä½¿ç”¨ apiï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰å…ƒç´ ï¼Œå¹¶é€šçŸ¥è§£æå™¨å¦‚ä½•æ­£ç¡®åœ°æ„é€ è¯¥å…ƒç´ ï¼Œä»¥åŠè¯¥ç±»çš„å…ƒç´ åº”è¯¥å¦‚ä½•å¯¹å˜åŒ–åšå‡ºååº”ã€‚ä½ æœ‰æ²¡æœ‰æƒ³è¦è‡ªå·±çš„ HTML å…ƒç´ ï¼Œæ¯”å¦‚`<my-cool-element>`ï¼Ÿç°åœ¨ä½ å¯ä»¥äº†ï¼

### [](#shadow-dom)é˜´å½± DOM

Shadow DOM ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§å°è£…ç»„ä»¶æ ·å¼å’Œæ ‡è®°çš„æ–¹æ³•ã€‚å®ƒæ˜¯ä¸€ä¸ªé™„å±äº DOM å…ƒç´ çš„å­ DOM æ ‘ï¼Œä»¥ç¡®ä¿æˆ‘ä»¬çš„æ ·å¼ä¸ä¼šæ³„éœ²ï¼Œæˆ–è€…è¢«ä»»ä½•å¤–éƒ¨æ ·å¼è¦†ç›–ã€‚è¿™ä½¿å¾—å®ƒéå¸¸é€‚åˆæ¨¡å—åŒ–ã€‚

### [](#es-modules)ES æ¨¡å—

ES æ¨¡å—è§„èŒƒä»¥åŸºäºæ ‡å‡†ã€æ¨¡å—åŒ–ã€é«˜æ€§èƒ½çš„æ–¹å¼å®šä¹‰äº† JS æ–‡æ¡£çš„åŒ…å«å’Œé‡ç”¨ã€‚

### [](#html-templates)HTML æ¨¡æ¿

HTML `<template>` æ ‡ç­¾å…è®¸æˆ‘ä»¬ç¼–å†™å¯é‡ç”¨çš„ DOM å—ã€‚åœ¨æ¨¡æ¿å†…éƒ¨ï¼Œè„šæœ¬ä¸ä¼šè¿è¡Œï¼Œå›¾åƒä¸ä¼šåŠ è½½ï¼Œæ ·å¼/æ ‡è®°ä¹Ÿä¸ä¼šå‘ˆç°ã€‚æ¨¡æ¿æ ‡ç­¾æœ¬èº«ç”šè‡³ä¸è¢«è®¤ä¸ºæ˜¯åœ¨æ–‡æ¡£ä¸­ï¼Œ*ç›´åˆ°å®ƒè¢«æ¿€æ´»*ã€‚HTML æ¨¡æ¿å¾ˆæ£’ï¼Œå› ä¸ºå¯¹äºæˆ‘ä»¬å…ƒç´ çš„æ¯ä¸ªå®ä¾‹ï¼Œåªä½¿ç”¨äº†ä¸€ä¸ªæ¨¡æ¿ã€‚

ç°åœ¨æˆ‘ä»¬çŸ¥é“äº† web ç»„ä»¶åˆ©ç”¨äº†å“ªäº›è§„èŒƒï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹å®šåˆ¶å…ƒç´ çš„ç”Ÿå‘½å‘¨æœŸã€‚æˆ‘çŸ¥é“ï¼Œæˆ‘çŸ¥é“ï¼Œæˆ‘ä»¬å¾ˆå¿«å°±ä¼šæ‰¾åˆ°å¯†ç çš„ï¼

## [](#a-components-lifecycle)â™»ï¸ä¸€ä¸ªç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ

è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å®šåˆ¶å…ƒç´ çš„ç”Ÿå‘½å‘¨æœŸã€‚è€ƒè™‘ä»¥ä¸‹å…ƒç´ :

```
class MyElement extends HTMLElement {
    constructor() {
        // always call super() first
        super(); 
        console.log('constructed!');
    }

    connectedCallback() {
        console.log('connected!');
    }

    disconnectedCallback() {
        console.log('disconnected!');
    }

    attributeChangedCallback(name, oldVal, newVal) {
        console.log(`Attribute: ${name} changed!`);
    }

    adoptedCallback() {
        console.log('adopted!');
    }
}

window.customElements.define('my-element', MyElement); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#constructor)æ„é€ å‡½æ•°()

æ¯å½“åˆ›å»ºä¸€ä¸ªå…ƒç´ æ—¶ï¼Œ`constructor`å°±ä¼šè¿è¡Œï¼Œä½†æ˜¯åœ¨å…ƒç´ è¢«é™„åŠ åˆ°æ–‡æ¡£ä¹‹å‰ï¼Œ*ã€‚æˆ‘ä»¬å°†ä½¿ç”¨`constructor`æ¥è®¾ç½®ä¸€äº›åˆå§‹çŠ¶æ€ã€äº‹ä»¶ç›‘å¬å™¨å’Œåˆ›å»ºå½±å­ DOMã€‚*

### [](#connectedcallback)connectedCallback()

å½“å…ƒç´ è¢«æ’å…¥ DOM æ—¶ï¼Œè°ƒç”¨`connectedCallback`ã€‚è¿™æ˜¯è¿è¡Œè®¾ç½®ä»£ç çš„å¥½åœ°æ–¹ï¼Œæ¯”å¦‚è·å–æ•°æ®ï¼Œæˆ–è€…è®¾ç½®é»˜è®¤å±æ€§ã€‚

### [](#disconnectedcallback)disconnectedCallback()

æ¯å½“ä» DOM ä¸­ç§»é™¤å…ƒç´ æ—¶ï¼Œå°±ä¼šè°ƒç”¨`disconnectedCallback`ã€‚æ¸…ç†æ—¶é—´ï¼æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`disconnectedCallback`åˆ é™¤ä»»ä½•äº‹ä»¶ç›‘å¬å™¨ï¼Œæˆ–è€…å–æ¶ˆé—´éš”ã€‚

### attributeChangedCallback(åç§°ï¼Œæ—§å€¼ï¼Œæ–°å€¼)

æ¯å½“ä½ çš„å…ƒç´ çš„*è§‚å¯Ÿåˆ°çš„å±æ€§*æ”¹å˜æ—¶ï¼Œå°±ä¼šè°ƒç”¨`attributeChangedCallback`ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ç°ä¸€ä¸ªé™æ€çš„`observedAttributes` getter æ¥è§‚å¯Ÿå…ƒç´ çš„å±æ€§ï¼Œæ¯”å¦‚:

```
static get observedAttributes() {
    return ['my-attr'];
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»»ä½•æ—¶å€™`my-attr`å±æ€§è¢«æ”¹å˜ï¼Œ`attributeChangedCallback`å°±ä¼šè¿è¡Œã€‚åœ¨è¿™ç¯‡åšæ–‡çš„åé¢ï¼Œæˆ‘ä»¬å°†å¯¹æ­¤è¿›è¡Œæ›´æ·±å…¥çš„æ¢è®¨ã€‚

> âœ¨ *å˜¿ï¼å¬ç€ï¼*
> 
> åªæœ‰åˆ—åœ¨`observedAttributes` getter ä¸­çš„å±æ€§åœ¨`attributeChangedCallback`ä¸­å—åˆ°å½±å“ã€‚

### [](#adoptedcallback)é‡‡ç”¨äº†å›è°ƒ()

æ¯æ¬¡å°†è‡ªå®šä¹‰å…ƒç´ ç§»åŠ¨åˆ°æ–°æ–‡æ¡£æ—¶ï¼Œéƒ½ä¼šè°ƒç”¨ adoptedCallbackã€‚åªæœ‰å½“æ‚¨çš„é¡µé¢ä¸­æœ‰`<iframe>`å…ƒç´ æ—¶ï¼Œæ‚¨æ‰ä¼šé‡åˆ°è¿™ç§ç”¨ä¾‹ã€‚

### [](#registering-our-element)ç™»è®°æœ¬å…ƒç´ 

æœ€åï¼Œè™½ç„¶ä¸æ˜¯ç”Ÿå‘½å‘¨æœŸçš„ä¸€éƒ¨åˆ†ï¼Œä½†æˆ‘ä»¬å°†å…ƒç´ æ³¨å†Œåˆ°`CustomElementRegistry`ä¸­ï¼Œå°±åƒè¿™æ ·:

```
window.customElements.define('my-element', MyElement); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

`CustomElementRegistry`æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒæä¾›äº†æ³¨å†Œå®šåˆ¶å…ƒç´ å’ŒæŸ¥è¯¢æ³¨å†Œå…ƒç´ çš„æ–¹æ³•ã€‚registries çš„`define`æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°å°†æ˜¯å…ƒç´ çš„åç§°ï¼Œæ‰€ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒå°†æ³¨å†Œ`<my-element>`ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼ é€’æˆ‘ä»¬åˆ›å»ºçš„ç±»ã€‚

> âœ¨ *å˜¿ï¼å¬ç€ï¼*
> 
> æ³¨æ„æˆ‘ä»¬å¦‚ä½•å‘½åæˆ‘ä»¬çš„ web ç»„ä»¶æ˜¯å¾ˆé‡è¦çš„ã€‚è‡ªå®šä¹‰å…ƒç´ åç§°å¿…é¡»å§‹ç»ˆåŒ…å«è¿å­—ç¬¦ã€‚æ¯”å¦‚:`<my-element>`æ­£ç¡®ï¼Œ`<myelement>`ä¸æ­£ç¡®ã€‚è¿™æ ·åšæ˜¯ä¸ºäº†é¿å…å…ƒç´ åç§°å†²çªï¼Œå¹¶åŒºåˆ†å®šåˆ¶å…ƒç´ å’Œå¸¸è§„å…ƒç´ ã€‚
> 
> è‡ªå®šä¹‰å…ƒç´ ä¹Ÿä¸èƒ½è‡ªç»“æŸï¼Œå› ä¸º HTML åªå…è®¸å°‘æ•°å…ƒç´ è‡ªç»“æŸã€‚è¿™äº›è¢«ç§°ä¸º *void å…ƒç´ *ï¼Œåƒ`<br/>`æˆ–`<img/>`ï¼Œæˆ–è€…ä¸å…è®¸å­èŠ‚ç‚¹çš„å…ƒç´ ã€‚
> 
> å…è®¸è‡ªç»“æŸå…ƒç´ éœ€è¦æ”¹å˜ HTML è§£æå™¨ï¼Œè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸º HTML è§£ææ˜¯å®‰å…¨æ•æ„Ÿçš„ã€‚ä¸ºäº†èƒ½å¤Ÿå®ç° XSS å®‰å…¨çš„ HTML ç”Ÿæˆï¼ŒHTML åˆ¶ä½œè€…éœ€è¦èƒ½å¤Ÿä¾èµ–äºç»™å®šçš„ HTML ç‰‡æ®µæ˜¯å¦‚ä½•è§£æçš„ã€‚

## [](#%E2%9A%92-building-our-to-do-app)âš’æ‰“é€ æˆ‘ä»¬çš„å¾…åŠ app

> *   [x] Be a demo
> *   [x] Boring stuff
> *   [set attribute]
> *   [set attribute]
> *   [reflect attribute] to attribute
> *   [event]
> *   [Summary]

æ—¢ç„¶æˆ‘ä»¬å·²ç»å®Œæˆäº†æ‰€æœ‰æ— èŠçš„äº‹æƒ…ï¼Œæˆ‘ä»¬ç»ˆäºå¯ä»¥å¼€å§‹åŠ¨æ‰‹åˆ¶ä½œæˆ‘ä»¬çš„å¾…åŠäº‹é¡¹åº”ç”¨ç¨‹åºäº†ï¼ç‚¹å‡»[æ­¤å¤„](https://thepassle.github.io/webcomponents-from-zero-to-hero/)æŸ¥çœ‹æœ€ç»ˆç»“æœã€‚

è®©æˆ‘ä»¬ä»æ¦‚è¿°æˆ‘ä»¬å°†è¦æ„å»ºçš„å†…å®¹å¼€å§‹ã€‚

*   ä¸€ä¸ª`<to-do-app>`å…ƒç´ :

    *   åŒ…å«å¾…åŠäº‹é¡¹æ•°ç»„ä½œä¸ºå±æ€§
    *   æ·»åŠ å¾…åŠäº‹é¡¹
    *   åˆ é™¤å¾…åŠäº‹é¡¹
    *   åˆ‡æ¢å¾…åŠäº‹é¡¹
*   ä¸€ä¸ª`<to-do-item>`å…ƒç´ :

    *   åŒ…å«æè¿°*å±æ€§*
    *   åŒ…å«ä¸€ä¸ªç´¢å¼•*å±æ€§*
    *   åŒ…å«é€‰ä¸­çš„*å±æ€§*

å¤ªå¥½äº†ï¼è®©æˆ‘ä»¬ä¸ºæˆ‘ä»¬çš„å¾…åŠäº‹é¡¹åº”ç”¨å¥ å®šåŸºç¡€:

`to-do-app.js` :

```
const template = document.createElement('template');
template.innerHTML = `
<style>
    :host {
    display: block;
    font-family: sans-serif;
    text-align: center;
    }

    button {
    border: none;
    cursor: pointer;
    }

    ul {
    list-style: none;
    padding: 0;
    }
</style>
<h1>To do</h1>

<input type="text" placeholder="Add a new to do"></input>
<button>âœ…</button>

<ul id="todos"></ul>
`;

class TodoApp extends HTMLElement {
    constructor() {
        super();
        this._shadowRoot = this.attachShadow({ 'mode': 'open' });
        this._shadowRoot.appendChild(template.content.cloneNode(true));
        this.$todoList = this._shadowRoot.querySelector('ul');
    }
}

window.customElements.define('to-do-app', TodoApp); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬è¦ä¸€æ­¥ä¸€æ­¥æ¥ã€‚æˆ‘ä»¬é¦–å…ˆé€šè¿‡è°ƒç”¨`const template = document.createElement('template');`åˆ›å»ºä¸€ä¸ª`<template>`ï¼Œç„¶ååœ¨å…¶ä¸­è®¾ç½®ä¸€äº› HTMLã€‚æˆ‘ä»¬åªåœ¨æ¨¡æ¿*ä¸Šè®¾ç½®ä¸€æ¬¡*çš„ innerHTMLã€‚æˆ‘ä»¬ä½¿ç”¨æ¨¡æ¿çš„åŸå› æ˜¯å› ä¸ºå…‹éš†æ¨¡æ¿æ¯”è°ƒç”¨ç»„ä»¶çš„æ‰€æœ‰å®ä¾‹çš„`.innerHTML`è¦ä¾¿å®œå¾—å¤šã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹å®šä¹‰æˆ‘ä»¬çš„å…ƒç´ äº†ã€‚æˆ‘ä»¬å°†ä½¿ç”¨æˆ‘ä»¬çš„`constructor`åˆ°*è¿æ¥*æˆ‘ä»¬çš„ shadowrootï¼Œå¹¶ä¸”æˆ‘ä»¬å°†å®ƒè®¾ç½®ä¸º`open`æ¨¡å¼ã€‚ç„¶åæˆ‘ä»¬å°†*å…‹éš†*æˆ‘ä»¬çš„æ¨¡æ¿åˆ°æˆ‘ä»¬çš„ shadowrootã€‚é…·ï¼æˆ‘ä»¬ç°åœ¨å·²ç»ä½¿ç”¨äº† 2 ä¸ª web ç»„ä»¶è§„èŒƒï¼Œå¹¶ä¸”æˆåŠŸåœ°åˆ›å»ºäº†ä¸€ä¸ªå°è£…çš„å­ DOM æ ‘ã€‚

è¿™æ„å‘³ç€æˆ‘ä»¬ç°åœ¨æœ‰äº†ä¸€ä¸ªä¸ä¼šæ³„éœ²ä»»ä½•æ ·å¼æˆ–è€…è¦†ç›–ä»»ä½•æ ·å¼çš„ DOM æ ‘ã€‚è€ƒè™‘ä¸‹é¢çš„ä¾‹å­:

[![encapsulation](../Images/44d95da467811c5dabab7cce6c8076dc.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--96ixDcGK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/llF84Na.png)

æˆ‘ä»¬æœ‰ä¸€ä¸ªå…¨å±€çš„`h1`æ ·å¼ï¼Œä½¿å¾—å…‰çº¿ DOM ä¸­çš„ä»»ä½• h1 ä¸ºçº¢è‰²ã€‚ä½†æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨å½±å­æ ¹ä¸­æœ‰ h1ï¼Œæ‰€ä»¥å®ƒä¸ä¼šè¢«å…¨å±€æ ·å¼è¦†ç›–ã€‚

æ³¨æ„åœ¨æˆ‘ä»¬çš„`to-do-app`ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ª`:host`ä¼ªç±»ï¼Œè¿™æ˜¯æˆ‘ä»¬å¦‚ä½•ä»å†…éƒ¨ç»™ç»„ä»¶æ·»åŠ æ ·å¼çš„ã€‚éœ€è¦æ³¨æ„çš„é‡è¦ä¸€ç‚¹æ˜¯ï¼Œ`display`æ€»æ˜¯è¢«è®¾ç½®ä¸º`display: inline;`ï¼Œè¿™æ„å‘³ç€ä½ ä¸èƒ½åœ¨ä½ çš„å…ƒç´ ä¸Šè®¾ç½®å®½åº¦æˆ–é«˜åº¦ã€‚å› æ­¤ï¼Œç¡®ä¿è®¾ç½®ä¸€ä¸ª`:host`æ˜¾ç¤ºæ ·å¼(ä¾‹å¦‚ï¼Œå—ã€å†…åµŒå—ã€ä¼¸ç¼©)ï¼Œé™¤éä½ æ›´å–œæ¬¢é»˜è®¤çš„å†…åµŒã€‚

> âœ¨ *å˜¿ï¼å¬ç€ï¼*
> 
> é˜´å½± DOM å¯èƒ½ä¼šæœ‰ç‚¹æ··ä¹±ã€‚è¯·å…è®¸æˆ‘ç¨å¾®æ‰©å±•ä¸€ä¸‹æœ¯è¯­:
> 
> ### [](#light-dom)å…‰ DOM:
> 
> å…‰ DOM å­˜åœ¨äºç»„ä»¶çš„é˜´å½± DOM ä¹‹å¤–ï¼ŒåŸºæœ¬ä¸Šæ˜¯ä»»ä½•ä¸æ˜¯*è€Œä¸æ˜¯*é˜´å½± DOM çš„ä¸œè¥¿ã€‚ä¾‹å¦‚ï¼Œä¸Šé¢çš„`<h1>Hello world</h1>`ç”Ÿæ´»åœ¨å…‰æ˜ä¸–ç•Œã€‚å…‰ DOM è¿™ä¸ªæœ¯è¯­æ˜¯ç”¨æ¥åŒºåˆ«äºé˜´å½± DOM çš„ã€‚ä½¿ç”¨è½»é‡çº§ DOM åˆ¶ä½œ web ç»„ä»¶å®Œå…¨æ²¡é—®é¢˜ï¼Œä½†æ˜¯æ‚¨é”™è¿‡äº†å½±å­ DOM çš„ä¼Ÿå¤§ç‰¹æ€§ã€‚
> 
> ### [](#open-shadow-dom)æ‰“å¼€é˜´å½± DOM:
> 
> ç”±äºæœ€æ–°ç‰ˆæœ¬(V1)çš„é˜´å½± DOM è§„èŒƒï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥ä½¿ç”¨`open`æˆ–`closed`é˜´å½± DOMã€‚Open shadow DOM å…è®¸æˆ‘ä»¬åœ¨ light DOM æ—è¾¹åˆ›å»ºä¸€ä¸ªå­ DOM æ ‘ï¼Œä¸ºæˆ‘ä»¬çš„ç»„ä»¶æä¾›å°è£…ã€‚æˆ‘ä»¬çš„å½±å­ DOM ä»ç„¶å¯ä»¥è¢« javascript ç©¿é€ï¼Œæ¯”å¦‚:`document.querySelector('our-element').shadowRoot`ã€‚å½±å­ DOM çš„ä¸€ä¸ªç¼ºç‚¹æ˜¯ web ç»„ä»¶ä»ç„¶ç›¸å¯¹å¹´è½»ï¼Œè®¸å¤šå¤–éƒ¨åº“æ²¡æœ‰è€ƒè™‘åˆ°å®ƒã€‚
> 
> ### [](#closed-shadow-dom)é—­å½± DOM:
> 
> å°é—­çš„å½±å­æ ¹ä¸å¤ªé€‚ç”¨ï¼Œå› ä¸ºå®ƒä¼šé˜»æ­¢ä»»ä½•å¤–éƒ¨ javascript ç©¿é€å½±å­æ ¹ã€‚å°é—­çš„å½±å­ DOM ä½¿æ‚¨çš„ç»„ä»¶å¯¹æ‚¨è‡ªå·±å’Œæ‚¨çš„æœ€ç»ˆç”¨æˆ·æ¥è¯´ä¸å¤ªçµæ´»ï¼Œé€šå¸¸åº”è¯¥é¿å…ã€‚
> 
> ä½¿ç”¨å°é—­é˜´å½± DOM çš„å…ƒç´ çš„ä¸€äº›ä¾‹å­æ˜¯`<video>`å…ƒç´ ã€‚

## [](#setting-properties)ğŸ“‚è®¾ç½®å±æ€§

é…·æ¯™äº†ã€‚æˆ‘ä»¬å·²ç»åˆ¶ä½œäº†ç¬¬ä¸€ä¸ª web ç»„ä»¶ï¼Œä½†æ˜¯åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå®ƒå®Œå…¨æ²¡æœ‰ç”¨ã€‚å¦‚æœèƒ½å¤Ÿå‘å®ƒä¼ é€’ä¸€äº›æ•°æ®å¹¶å‘ˆç°ä¸€ä¸ªå¾…åŠäº‹é¡¹åˆ—è¡¨å°±å¥½äº†ã€‚

è®©æˆ‘ä»¬å®ç°ä¸€äº› getters å’Œ settersã€‚

`to-do-app.js` :

```
class TodoApp extends HTMLElement {
    ...

    _renderTodoList() {
        this.$todoList.innerHTML = '';

        this._todos.forEach((todo, index) => {
            let $todoItem = document.createElement('div');
            $todoItem.innerHTML = todo.text; 
            this.$todoList.appendChild($todoItem);
        });
    }

    set todos(value) {
        this._todos = value;
        this._renderTodoList();
    }

    get todos() {
        return this._todos;
    }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€äº› getters å’Œ settersï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸€äº›ä¸°å¯Œçš„æ•°æ®ä¼ é€’ç»™æˆ‘ä»¬çš„å…ƒç´ äº†ï¼æˆ‘ä»¬å¯ä»¥æŸ¥è¯¢æˆ‘ä»¬çš„ç»„ä»¶å¹¶åƒè¿™æ ·è®¾ç½®æ•°æ®:

```
document.querySelector('to-do-app').todos = [
    {text: "Make a to-do list", checked: false}, 
    {text: "Finish blog post", checked: false}
]; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬ç°åœ¨å·²ç»æˆåŠŸåœ°åœ¨ç»„ä»¶ä¸Šè®¾ç½®äº†ä¸€äº›*å±æ€§*ï¼Œç°åœ¨çœ‹èµ·æ¥åº”è¯¥æ˜¯è¿™æ ·çš„:

[![todolist](../Images/8c36db10cc3bf09a71a8e421f160b45d.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--4-gWFRVn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/I0IkxNp.png)

å¤ªå¥½äº†ï¼é™¤äº†å®ƒä»ç„¶æ˜¯æ— ç”¨çš„ï¼Œå› ä¸ºæˆ‘ä»¬ä¸èƒ½ä¸ä½¿ç”¨æ§åˆ¶å°ä¸ä»»ä½•ä¸œè¥¿äº’åŠ¨ã€‚è®©æˆ‘ä»¬å¿«é€Ÿå®ç°ä¸€äº›åŠŸèƒ½ï¼Œå°†æ–°çš„å¾…åŠäº‹é¡¹æ·»åŠ åˆ°æˆ‘ä»¬çš„åˆ—è¡¨ä¸­ã€‚

```
class TodoApp extends HTMLElement {
    ...

    constructor() {
        super();
        this._shadowRoot = this.attachShadow({ 'mode': 'open' });
        this._shadowRoot.appendChild(template.content.cloneNode(true));

        this.$todoList = this._shadowRoot.querySelector('ul');
        this.$input = this._shadowRoot.querySelector('input');

        this.$submitButton = this._shadowRoot.querySelector('button');
        this.$submitButton.addEventListener('click', this._addTodo.bind(this));
    }

    _addTodo() {
        if(this.$input.value.length > 0){
            this._todos.push({ text: this.$input.value, checked: false })
            this._renderTodoList();
            this.$input.value = '';
        }
    }

    ...
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™åº”è¯¥å¾ˆå®¹æ˜“åšåˆ°ï¼Œæˆ‘ä»¬åœ¨æˆ‘ä»¬çš„`constructor`ä¸­è®¾ç½®äº†ä¸€äº›`querySelectors`å’Œ`addEventListeners`ï¼Œåœ¨ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›å°†è¾“å…¥æ¨é€åˆ°æˆ‘ä»¬çš„å¾…åŠäº‹é¡¹åˆ—è¡¨ä¸­ï¼Œå‘ˆç°å®ƒï¼Œå¹¶å†æ¬¡æ¸…é™¤è¾“å…¥ã€‚æ¹¿ç–¹ï¼ˆeczema çš„ç®€å†™ï¼‰ğŸ‘ã€‚

[![add](../Images/10ae35ec4f8731eec3bd52c131c94aa9.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--xAbqCyK7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/v7Qzi8b.png)

## [](#setting-attributes)ğŸ’…è®¾ç½®å±æ€§

> *   [x] Be a demo
> *   [x] Boring stuff
> *   [x] Setting attributes
> *   [Set attributes
> *   [reflection attribute] to attribute
> *   [Event
> *   [Summary]

è¿™å°±æ˜¯äº‹æƒ…å˜å¾—ä»¤äººå›°æƒ‘çš„åœ°æ–¹ï¼Œå› ä¸ºæˆ‘ä»¬å°†æ¢ç´¢*å±æ€§*å’Œ*å±æ€§*ä¹‹é—´çš„å·®å¼‚ï¼Œå¹¶ä¸”æˆ‘ä»¬è¿˜å°†æˆä¸º*ï¼Œå°†å±æ€§åæ˜ åˆ°å±æ€§*ã€‚æŠ“ç´§äº†ï¼

é¦–å…ˆï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª`<to-do-item>`å…ƒç´ ã€‚

`to-do-item.js` :

```
const template = document.createElement('template');
template.innerHTML = `
<style>
    :host {
    display: block;
    font-family: sans-serif;
    }

    .completed {
    text-decoration: line-through;
    }

    button {
    border: none;
    cursor: pointer;
    }
</style>
<li class="item">
    <input type="checkbox">
    <label></label>
    <button>âŒ</button>
</li>
`;

class TodoItem extends HTMLElement {
    constructor() {
        super();
        this._shadowRoot = this.attachShadow({ 'mode': 'open' });
        this._shadowRoot.appendChild(template.content.cloneNode(true));

        this.$item = this._shadowRoot.querySelector('.item');
        this.$removeButton = this._shadowRoot.querySelector('button');
        this.$text = this._shadowRoot.querySelector('label');
        this.$checkbox = this._shadowRoot.querySelector('input');

        this.$removeButton.addEventListener('click', (e) => {
            this.dispatchEvent(new CustomEvent('onRemove', { detail: this.index }));
        });

        this.$checkbox.addEventListener('click', (e) => {
            this.dispatchEvent(new CustomEvent('onToggle', { detail: this.index }));
        });
    }

    connectedCallback() {
        // We set a default attribute here; if our end user hasn't provided one,
        // our element will display a "placeholder" text instead.
        if(!this.hasAttribute('text')) {
            this.setAttribute('text', 'placeholder');
        }

        this._renderTodoItem();
    }

    _renderTodoItem() {
        if (this.hasAttribute('checked')) {
            this.$item.classList.add('completed');
            this.$checkbox.setAttribute('checked', '');
        } else {
            this.$item.classList.remove('completed');
            this.$checkbox.removeAttribute('checked');
        }

        this.$text.innerHTML = this._text;
    }

    static get observedAttributes() {
        return ['text'];
    }

    attributeChangedCallback(name, oldValue, newValue) {
        this._text = newValue;
    }
}
window.customElements.define('to-do-item', TodoItem); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> è¯·æ³¨æ„ï¼Œç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ ES æ¨¡å—ï¼Œæˆ‘ä»¬å¯ä»¥å†æ¬¡ä½¿ç”¨`const template = document.createElement('template');`ï¼Œè€Œæ— éœ€è¦†ç›–æˆ‘ä»¬ä¹‹å‰åˆ¶ä½œçš„æ¨¡æ¿ã€‚

è®©æˆ‘ä»¬æŠŠ`to-do-app.js`ä¸­çš„`_renderTodolist`å‡½æ•°æ”¹æˆè¿™ä¸ª:

```
class TodoApp extends HTMLElement {

        ...

        _renderTodoList() {
            this.$todoList.innerHTML = '';

            this._todos.forEach((todo, index) => {
                let $todoItem = document.createElement('to-do-item');
                $todoItem.setAttribute('text', todo.text);
                this.$todoList.appendChild($todoItem);
            });
        }

        ...

    } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¥½å§ï¼Œè¿™é‡Œå‘ç”Ÿäº†å¾ˆå¤šä¸åŒçš„äº‹æƒ…ã€‚è®©æˆ‘ä»¬å¼€å§‹å§ã€‚ä»¥å‰ï¼Œå½“ä¼ é€’ä¸€äº›*ä¸°å¯Œçš„æ•°æ®*(ä¸€ä¸ªæ•°ç»„)ç»™æˆ‘ä»¬çš„`<to-do-app>`ç»„ä»¶æ—¶ï¼Œæˆ‘ä»¬è¿™æ ·è®¾ç½®å®ƒ:

```
document.querySelector('to-do-app').todos = [{ ... }]; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬è¿™æ ·åšæ˜¯å› ä¸º`todos`æ˜¯å…ƒç´ çš„*å±æ€§*ã€‚*å±æ€§*å¤„ç†æ–¹å¼ä¸åŒï¼Œä¸å…è®¸å¯Œæ•°æ®ï¼Œå®é™…ä¸Šåªå…è®¸ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹ä½œä¸º HTML çš„é™åˆ¶ã€‚å±æ€§æ›´åŠ çµæ´»ï¼Œå¯ä»¥å¤„ç†å¤æ‚çš„æ•°æ®ç±»å‹ï¼Œå¦‚å¯¹è±¡æˆ–æ•°ç»„ã€‚

åŒºåˆ«åœ¨äºå±æ€§æ˜¯åœ¨ HTML å…ƒç´ ä¸Šå®šä¹‰çš„ã€‚å½“æµè§ˆå™¨è§£æ HTML æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªç›¸åº”çš„ DOM èŠ‚ç‚¹ã€‚è¿™ä¸ªèŠ‚ç‚¹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤å®ƒæœ‰*å±æ€§*ã€‚æ¯”å¦‚æµè§ˆå™¨è§£æ:`<to-do-item index="1">`æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ª [HTMLElement](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement) å¯¹è±¡ã€‚è¯¥å¯¹è±¡å·²ç»åŒ…å«äº†å‡ ä¸ªå±æ€§ï¼Œå¦‚`children`ã€`clientHeight`ã€`classList`ç­‰ï¼Œä»¥åŠä¸€äº›æ–¹æ³•ï¼Œå¦‚`appendChild()`æˆ–`click()`ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥å®ç°æˆ‘ä»¬è‡ªå·±çš„å±æ€§ï¼Œå°±åƒæˆ‘ä»¬åœ¨`to-do-app`å…ƒç´ ä¸­åšçš„é‚£æ ·ï¼Œæˆ‘ä»¬ç»™äº†å®ƒä¸€ä¸ª`todos`å±æ€§ã€‚

è¿™é‡Œæœ‰ä¸€ä¸ªè¿™æ ·çš„ä¾‹å­ã€‚

```
<img src="myimg.png" alt="my image"/> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æµè§ˆå™¨å°†è§£æè¿™ä¸ª`<img>`å…ƒç´ ï¼Œåˆ›å»ºä¸€ä¸ª [DOM å…ƒç´ å¯¹è±¡](https://www.w3schools.com/jsref/dom_obj_all.asp)ï¼Œå¹¶æ–¹ä¾¿åœ°ä¸ºæˆ‘ä»¬è®¾ç½®`src`å’Œ`alt`çš„å±æ€§ã€‚åº”è¯¥æåˆ°çš„æ˜¯ï¼Œè¿™ä¸ªå±æ€§åå°„å¯¹äº*æ‰€æœ‰çš„*å±æ€§éƒ½ä¸æˆç«‹ã€‚(ä¾‹å¦‚:ä¸€ä¸ª`<input>`å…ƒç´ ä¸Šçš„`value`å±æ€§ä¸åæ˜ ã€‚`<input>`çš„`value` *å±æ€§*å°†å§‹ç»ˆæ˜¯`<input>`çš„å½“å‰æ–‡æœ¬å†…å®¹ï¼Œè€Œ`value` *å±æ€§*å°†æ˜¯åˆå§‹æ–‡æœ¬å†…å®¹ã€‚)æˆ‘ä»¬å°†å¾ˆå¿«æ›´æ·±å…¥åœ°å°†å±æ€§åæ˜ åˆ°å±æ€§ã€‚

æ‰€ä»¥æˆ‘ä»¬ç°åœ¨çŸ¥é“ alt å’Œ src *å±æ€§*æ˜¯ä½œä¸ºå­—ç¬¦ä¸²ç±»å‹å¤„ç†çš„ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æŠŠæˆ‘ä»¬çš„å¾…åŠäº‹é¡¹æ•°ç»„åƒè¿™æ ·ä¼ é€’ç»™æˆ‘ä»¬çš„`<to-do-app>`å…ƒç´ :

```
<to-do-app todos="[{...}, {...}]"></to-do-app> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬ä¸ä¼šå¾—åˆ°æƒ³è¦çš„ç»“æœï¼›æˆ‘ä»¬æœŸå¾…ä¸€ä¸ªæ•°ç»„ï¼Œä½†å®é™…ä¸Šï¼Œè¿™ä¸ªå€¼åªæ˜¯ä¸€ä¸ªçœ‹èµ·æ¥åƒæ•°ç»„çš„å­—ç¬¦ä¸²ã€‚

> âœ¨ *å˜¿ï¼å¬ç€ï¼*
> 
> *   ç›®æ ‡æ˜¯åªæ¥å—å¯Œæ•°æ®(å¯¹è±¡ã€æ•°ç»„)ä½œä¸ºå±æ€§ã€‚
> *   ä¸è¦å°†ä¸°å¯Œçš„æ•°æ®å±æ€§åæ˜ åˆ°å±æ€§ä¸­ã€‚

*è®¾ç½®*å±æ€§çš„å·¥ä½œæ–¹å¼ä¹Ÿä¸åŒäºå±æ€§ï¼Œæ³¨æ„æˆ‘ä»¬æ²¡æœ‰å®ç°ä»»ä½• getters æˆ– settersã€‚æˆ‘ä»¬å°†æˆ‘ä»¬çš„`text`å±æ€§æ·»åŠ åˆ°`static get observedAttributes` getter ä¸­ï¼Œä»¥å…è®¸æˆ‘ä»¬è§‚å¯Ÿ`text`å±æ€§çš„å˜åŒ–ã€‚æˆ‘ä»¬å®ç°äº†`attributesChangedCallback`æ¥åº”å¯¹è¿™äº›å˜åŒ–ã€‚

æ­¤æ—¶æ­¤åˆ»ï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåº”è¯¥æ˜¯è¿™æ ·çš„:

[![todos](../Images/d0415d7cd7b2e8547a26e32e60c78a95.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--T8z07q1B--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/j9k2CQk.png)

### [](#boolean-attributes)å¸ƒå°”å±æ€§

æˆ‘ä»¬è¿˜æ²¡æœ‰å®Œæˆå±æ€§ã€‚å½“æˆ‘ä»¬å®Œæˆä¸€äº›å¾…åŠäº‹é¡¹æ—¶ï¼Œèƒ½å¤Ÿæ£€æŸ¥å®ƒä»¬æ˜¯å¾ˆå¥½çš„ï¼Œæˆ‘ä»¬ä¹Ÿå°†ä¸ºæ­¤ä½¿ç”¨å±æ€§ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬å¿…é¡»ä»¥ç¨å¾®ä¸åŒçš„æ–¹å¼å¤„ç†å¸ƒå°”å±æ€§ã€‚

> å…ƒç´ ä¸Šå¸ƒå°”å±æ€§çš„å­˜åœ¨ä»£è¡¨`True`å€¼ï¼Œå±æ€§çš„ä¸å­˜åœ¨ä»£è¡¨`False`å€¼ã€‚
> 
> å¦‚æœè¯¥å±æ€§å­˜åœ¨ï¼Œå…¶å€¼å¿…é¡»æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œæˆ–è€…æ˜¯ä¸è¯¥å±æ€§çš„è§„èŒƒåç§°åŒ¹é…çš„ ASCII ä¸åŒºåˆ†å¤§å°å†™çš„å€¼ï¼Œå¹¶ä¸”æ²¡æœ‰å‰å¯¼ç©ºæ ¼æˆ–å°¾éšç©ºæ ¼ã€‚
> 
> å¸ƒå°”å±æ€§ä¸å…è®¸å€¼â€œtrueâ€å’Œâ€œfalseâ€ã€‚è¦è¡¨ç¤ºä¸€ä¸ªå‡å€¼ï¼Œå¿…é¡»å®Œå…¨çœç•¥è¯¥å±æ€§ã€‚`<div hidden="true">`ä¸æ­£ç¡®ã€‚

è¿™æ„å‘³ç€åªæœ‰ä»¥ä¸‹ç¤ºä¾‹å¯æ¥å—çœŸå€¼:

```
<div hidden></div>
<div hidden=""></div>
<div hidden="hidden"></div> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿˜æœ‰ä¸€ä¸ªä¸ºå‡:

```
<div></div> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ‰€ä»¥è®©æˆ‘ä»¬ä¸ºæˆ‘ä»¬çš„`<to-do-item>`å…ƒç´ å®ç°`checked`å±æ€§ï¼

å°†æ‚¨çš„`to-do-app.js`æ›´æ”¹ä¸º:

```
_renderTodoList() {
    this.$todoList.innerHTML = '';

    this._todos.forEach((todo, index) => {
        let $todoItem = document.createElement('to-do-item');
        $todoItem.setAttribute('text', todo.text);

    // if our to-do is checked, set the attribute, else; omit it.
        if(todo.checked) {
            $todoItem.setAttribute('checked', '');                
        }

        this.$todoList.appendChild($todoItem);
    });
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¹¶å°†`to-do-item`æ”¹ä¸º:

```
 class TodoItem extends HTMLElement {

    ...

    static get observedAttributes() {
        return ['text', 'checked'];
    }

    attributeChangedCallback(name, oldValue, newValue) {
        switch(name){
            case 'text':
                this._text = newValue;
                break;
            case 'checked':
                this._checked = this.hasAttribute('checked');
                break;
        }
    }

    ...

} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸é”™ï¼æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåº”è¯¥å¦‚ä¸‹æ‰€ç¤º:

[![checked](../Images/a58c1f735fcbd77cf6f45bba418bde0e.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--QuElsVhd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/SO3rCJU.png)

## [](#%E2%99%BA-reflecting-properties-to-attributes)â™ºæŠŠå±æ€§åæ˜ åˆ°å±æ€§ä¸Š

> *   [x] Be a demo
> *   [x] Boring stuff
> *   [x] Setting attributes
> *   [x] Setting attributes
> *   Map attributes to attributes.
> *   [Event
> *   [Summary]

å¤ªæ£’äº†ï¼Œæˆ‘ä»¬çš„åº”ç”¨è¿›å±•é¡ºåˆ©ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬çš„æœ€ç»ˆç”¨æˆ·èƒ½å¤ŸæŸ¥è¯¢æˆ‘ä»¬çš„`to-do-item`ç»„ä»¶çš„`checked`çš„çŠ¶æ€ï¼Œé‚£å°±æ›´å¥½äº†ã€‚æˆ‘ä»¬ç›®å‰åªå°†å®ƒè®¾ç½®ä¸ºä¸€ä¸ª*å±æ€§*ï¼Œä½†æ˜¯æˆ‘ä»¬å¸Œæœ›å®ƒä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ª*å±æ€§*ä½¿ç”¨ã€‚è¿™è¢«ç§°ä¸º*ï¼Œå°†å±æ€§åæ˜ åˆ°å±æ€§*ã€‚

æˆ‘ä»¬æ‰€è¦åšçš„å°±æ˜¯æ·»åŠ ä¸€äº› getters å’Œ settersã€‚å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°æ‚¨çš„`to-do-item.js` :

```
get checked() {
    return this.hasAttribute('checked');
}

set checked(val) {
    if (val) {
        this.setAttribute('checked', '');
    } else {
        this.removeAttribute('checked');
    }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ï¼Œæ¯æ¬¡æˆ‘ä»¬æ”¹å˜å±æ€§æ—¶ï¼Œå€¼æ€»æ˜¯åŒæ­¥çš„ã€‚

## [](#events)ğŸ‰äº‹ä»¶

> *   [x] Make a demo
> *   [x] Boring stuff
> *   [x] Setting attributes
> *   [x] Setting attributes
> *   [x] Mapping attributes to attributes
> *   [event]
> *   [Summary]

å”·ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»å®Œæˆäº†å›°éš¾çš„éƒ¨åˆ†ï¼Œæ˜¯æ—¶å€™å¼€å§‹æœ‰è¶£çš„éƒ¨åˆ†äº†ã€‚æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºç›®å‰ä»¥æˆ‘ä»¬æƒ³è¦çš„æ–¹å¼å¤„ç†å’Œå…¬å¼€æ•°æ®ï¼Œä½†å®ƒå®é™…ä¸Šè¿˜æ²¡æœ‰åˆ é™¤æˆ–åˆ‡æ¢å¾…åŠäº‹é¡¹ã€‚æˆ‘ä»¬æ¥å¤„ç†ä¸€ä¸‹ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬å¿…é¡»è·Ÿè¸ªæˆ‘ä»¬çš„`to-do-item`çš„`index`ï¼Œè®©æˆ‘ä»¬è®¾ç½®ä¸€ä¸ªå±æ€§ï¼

`to-do-item.js` :

```
static get observedAttributes() {
    return ['text', 'checked', 'index'];
}

attributeChangedCallback(name, oldValue, newValue) {
    switch(name){
        case 'text':
            this._text = newValue;
            break;
        case 'checked':
            this._checked = this.hasAttribute('checked');
            break;
        case 'index':
            this._index = parseInt(newValue);
            break;
    }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¯·æ³¨æ„æˆ‘ä»¬æ˜¯å¦‚ä½•å°†å­—ç¬¦ä¸²ç±»å‹å€¼è§£æä¸ºæ•´æ•°çš„ï¼Œå› ä¸ºå±æ€§åªå…è®¸å­—ç¬¦ä¸²ç±»å‹ï¼Œä½†æ˜¯æˆ‘ä»¬å¸Œæœ›æœ€ç»ˆç”¨æˆ·èƒ½å¤Ÿå°† index *å±æ€§*ä½œä¸ºæ•´æ•°ã€‚æˆ‘ä»¬ç°åœ¨ä¹Ÿæœ‰äº†ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œå¦‚ä½•å¤„ç†å­—ç¬¦ä¸²/æ•°å­—/å¸ƒå°”å±æ€§ï¼Œä»¥åŠå¦‚ä½•å°†å±æ€§å’Œç‰¹æ€§ä½œä¸ºå®ƒä»¬çš„å®é™…ç±»å‹æ¥å¤„ç†ã€‚

æ‰€ä»¥è®©æˆ‘ä»¬ç»™`to-do-item.js` :
æ·»åŠ ä¸€äº› getters å’Œ setters

```
set index(val) {
    this.setAttribute('index', val);
}

get index() {
    return this._index;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¹¶å°†`to-do-app.js`ä¸­çš„`_renderTodoList`å‡½æ•°æ”¹ä¸º:

```
_renderTodoList() {
    this.$todoList.innerHTML = '';

    this._todos.forEach((todo, index) => {
        let $todoItem = document.createElement('to-do-item');
        $todoItem.setAttribute('text', todo.text);

        if(todo.checked) {
            $todoItem.setAttribute('checked', '');                
    }

        $todoItem.setAttribute('index', index);

        $todoItem.addEventListener('onRemove', this._removeTodo.bind(this));

        this.$todoList.appendChild($todoItem);
    });
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ³¨æ„æˆ‘ä»¬æ˜¯å¦‚ä½•è®¾ç½®`$todoItem.setAttribute('index', index);`çš„ã€‚æˆ‘ä»¬ç°åœ¨æœ‰ä¸€äº›çŠ¶æ€æ¥è·Ÿè¸ªå¾…åŠäº‹é¡¹çš„ç´¢å¼•ã€‚æˆ‘ä»¬è¿˜è®¾ç½®äº†ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨æ¥ç›‘å¬`to-do-item`å…ƒç´ ä¸Šçš„`onRemove`äº‹ä»¶ã€‚

æ¥ä¸‹æ¥ï¼Œå½“æˆ‘ä»¬å•å‡» remove æŒ‰é’®æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»è®©*è§¦å‘*äº‹ä»¶ã€‚å°†`to-do-item.js`çš„`constructor`ä¿®æ”¹ä¸º:

```
constructor() {
    super();
    this._shadowRoot = this.attachShadow({ 'mode': 'open' });
    this._shadowRoot.appendChild(template.content.cloneNode(true));

    this.$item = this._shadowRoot.querySelector('.item');
    this.$removeButton = this._shadowRoot.querySelector('button');
    this.$text = this._shadowRoot.querySelector('label');
    this.$checkbox = this._shadowRoot.querySelector('input');

    this.$removeButton.addEventListener('click', (e) => {
        this.dispatchEvent(new CustomEvent('onRemove', { detail: this.index }));
    });
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> âœ¨ *å˜¿ï¼å¬ç€ï¼*
> 
> æˆ‘ä»¬å¯ä»¥è®¾ç½®`{ detail: this.index, composed: true, bubbles: true }`è®©äº‹ä»¶ä»ç»„ä»¶é˜´å½± DOM ä¸­å†’æ³¡å‡ºæ¥ã€‚

å¹¶åœ¨`to-do-app.js` :
ä¸­å¢åŠ `_removeTodo`åŠŸèƒ½

```
_removeTodo(e) {
    this._todos.splice(e.detail, 1);
    this._renderTodoList();
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¤ªæ£’äº†ã€‚æˆ‘ä»¬å¯ä»¥åˆ é™¤å¾…åŠäº‹é¡¹:

[![remove](../Images/cdd0cf92bb23616b9e7dda516d7d50b4.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--lo7KYh8y--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/uudJaJH.png)

æœ€åï¼Œè®©æˆ‘ä»¬ä¹Ÿåˆ›å»ºä¸€ä¸ªåˆ‡æ¢åŠŸèƒ½ã€‚

`to-do-app.js` :

```
class TodoApp extends HTMLElement {
    ...

    _toggleTodo(e) {
        const todo = this._todos[e.detail];
        this._todos[e.detail] = Object.assign({}, todo, {
            checked: !todo.checked
        });
        this._renderTodoList();
    }

    _renderTodoList() {
        this.$todoList.innerHTML = '';

        this._todos.forEach((todo, index) => {
            let $todoItem = document.createElement('to-do-item');
            $todoItem.setAttribute('text', todo.text);

            if(todo.checked) {
                $todoItem.setAttribute('checked', '');                
            }

            $todoItem.setAttribute('index', index);
            $todoItem.addEventListener('onRemove', this._removeTodo.bind(this));
            $todoItem.addEventListener('onToggle', this._toggleTodo.bind(this));

            this.$todoList.appendChild($todoItem);
        });
    }

    ...

} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å’Œ`to-do-item.js` :

```
class TodoItem extends HTMLElement {

    ...

    constructor() {
        super();
        this._shadowRoot = this.attachShadow({ 'mode': 'open' });
        this._shadowRoot.appendChild(template.content.cloneNode(true));

        this.$item = this._shadowRoot.querySelector('.item');
        this.$removeButton = this._shadowRoot.querySelector('button');
        this.$text = this._shadowRoot.querySelector('label');
        this.$checkbox = this._shadowRoot.querySelector('input');

        this.$removeButton.addEventListener('click', (e) => {
            this.dispatchEvent(new CustomEvent('onRemove', { detail: this.index }));
        });

        this.$checkbox.addEventListener('click', (e) => {
            this.dispatchEvent(new CustomEvent('onToggle', { detail: this.index }));
        });
    }

    ...

} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[![toggle](../Images/8cff753a6852ebecdaf876b8b530f197.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--PtyPbL39--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/mE9dcX8.png)

æˆåŠŸï¼æˆ‘ä»¬å¯ä»¥åˆ›å»ºã€åˆ é™¤å’Œåˆ‡æ¢å¾…åŠäº‹é¡¹ï¼

## [](#browser-support-and-polyfills)ğŸ‘»æµè§ˆå™¨æ”¯æŒå’Œèšåˆå¡«å……

> *   [x] Make a demo
> *   [x] Boring stuff
> *   [x] Setting attributes
> *   [x] Setting attributes
> *   [x] Mapping attributes to attributes
> *   [x] Events

åœ¨è¿™ç¯‡åšæ–‡ä¸­ï¼Œæˆ‘æƒ³è¯´çš„æœ€åä¸€ä»¶äº‹æ˜¯æµè§ˆå™¨æ”¯æŒã€‚åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œ[å¾®è½¯ Edge å›¢é˜Ÿæœ€è¿‘å®£å¸ƒ](https://twitter.com/MSEdgeUpdates/status/1049404076499320835)ä»–ä»¬å°†å®ç°[å®šåˆ¶å…ƒç´ ](https://developer.microsoft.com/en-us/microsoft-edge/platform/status/customelements/)ä»¥åŠ[å½±å­ DOM](https://developer.microsoft.com/en-us/microsoft-edge/platform/status/shadowdom/) ï¼Œè¿™æ„å‘³ç€**æ‰€æœ‰**ä¸»æµæµè§ˆå™¨å°†å¾ˆå¿«æ”¯æŒ web ç»„ä»¶ã€‚

åœ¨é‚£ä¹‹å‰ï¼Œä½ å¯ä»¥ä½¿ç”¨ç”±è°·æ­Œç»´æŠ¤çš„[webcomponentsjs](https://github.com/webcomponents/webcomponentsjs)poly fillsã€‚åªéœ€å¯¼å…¥èšåˆå¡«å……:

```
<script src="https://unpkg.com/@webcomponents/webcomponentsjs@2.0.0/webcomponents-bundle.js"></script> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä½¿ç”¨äº† unpkgï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ç”¨`NPM`å®‰è£… webcomponentsjsã€‚ä¸ºäº†ç¡®ä¿ polyfills å·²ç»æˆåŠŸåŠ è½½ï¼Œæˆ‘ä»¬å¯ä»¥ç­‰å¾…è§¦å‘`WebComponentsReady`äº‹ä»¶ï¼Œå°±åƒè¿™æ ·:

```
window.addEventListener('WebComponentsReady', function() {
    console.log('Web components ready!');
    // your web components here
}); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#%C2%A0wrapping-up)ğŸ’«åŒ…æ‰

> *   [x]åˆ¶ä½œä¸€ä¸ªæ¼”ç¤º
> *   [x]æ— èŠçš„ä¸œè¥¿
> *   [x]è®¾ç½®å±æ€§
> *   [x]è®¾ç½®å±æ€§
> *   [x]å°†å±æ€§åæ˜ åˆ°å±æ€§
> *   [x]äº‹ä»¶
> *   [x]åŒ…èµ·æ¥
> 
> æå®šäº†ã€‚

å¦‚æœä½ ä¸€è·¯èµ°åˆ°è¿™é‡Œï¼Œæ­å–œä½ ï¼æ‚¨å·²ç»äº†è§£äº† web ç»„ä»¶è§„èŒƒã€(äº®/å¼€/é—­)é˜´å½± DOMã€æ¨¡æ¿ã€å±æ€§å’Œå±æ€§ä¹‹é—´çš„åŒºåˆ«ï¼Œä»¥åŠå°†å±æ€§æ˜ å°„åˆ°å±æ€§ã€‚

ä½†æ˜¯æ­£å¦‚ä½ å¯èƒ½çŸ¥é“çš„ï¼Œæˆ‘ä»¬å†™çš„å¾ˆå¤šä»£ç å¯èƒ½æ„Ÿè§‰æœ‰ç‚¹ç¬¨æ‹™ï¼Œæˆ‘ä»¬å·²ç»å†™äº†ç›¸å½“å¤šçš„ boiler plate(getterã€settersã€queryselectors ç­‰)ï¼Œå¹¶ä¸”å¾ˆå¤šäº‹æƒ…å·²ç»è¢«å¼ºåˆ¶æ€§åœ°å¤„ç†äº†ã€‚æˆ‘ä»¬å¯¹å¾…åŠäº‹é¡¹åˆ—è¡¨çš„æ›´æ–°ä¹Ÿä¸æ˜¯å¾ˆé«˜æ•ˆã€‚

Web ç»„ä»¶å¾ˆæ•´æ´ï¼Œä½†æ˜¯æˆ‘ä¸æƒ³æŠŠæ‰€æœ‰çš„æ—¶é—´éƒ½èŠ±åœ¨ç¼–å†™æ¨¡æ¿å’Œè®¾ç½®å‘½ä»¤æ€§çš„ä¸œè¥¿ä¸Šï¼Œæˆ‘æƒ³å†™å£°æ˜æ€§çš„ä»£ç ï¼â€œä½ å“­äº†ã€‚

è¾“å…¥ [lit-html](https://polymer.github.io/lit-html/) ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ç¯‡åšæ–‡ä¸­ä»‹ç»ã€‚