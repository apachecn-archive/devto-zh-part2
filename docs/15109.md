# JavaScript å¯èƒ½ä¼šå‡ºç°å¯é€‰é“¾æ¥

> åŸæ–‡:[https://dev . to/Sammy isa/optional-chaining-may-be-to-JavaScript-4ff 0](https://dev.to/sammyisa/optional-chaining-may-be-coming-to-javascript--4ff0)

**æ›´æ–°:**å¯é€‰é“¾æ¥ç»ˆäºåœ¨[é˜¶æ®µ 4](https://tc39.github.io/process-document/) ï¼ï¼è¿™æ„å‘³ç€å®ƒæ˜¯ ES2020 è§„èŒƒçš„ä¸€éƒ¨åˆ†ã€‚å®ƒä¹Ÿå·²ç»åˆ¶ä½œæˆäº† [TypeScript v3.7](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-7.html#optional-chaining) ã€‚

è¿™é‡Œæ˜¯ [repoï¼ŒåŒ…å«æ‚¨éœ€è¦çš„æ‰€æœ‰ä¿¡æ¯](https://github.com/tc39/proposal-optional-chaining)ã€‚

## ä»€ä¹ˆäº‹ï¼Ÿ

å¯é€‰é“¾æ¥å…è®¸æˆ‘ä»¬åœ¨è¯•å›¾è®¿é—®å¯¹è±¡çš„å±æ€§ä¹‹å‰æ£€æŸ¥å¯¹è±¡æ˜¯å¦å­˜åœ¨ã€‚å…¶ä»–ä¸€äº›è¯­è¨€ä¹Ÿæœ‰ç±»ä¼¼çš„ä¸œè¥¿ã€‚ä¾‹å¦‚ï¼ŒC#æœ‰ä¸€ä¸ªç©ºæ¡ä»¶æ“ä½œç¬¦ï¼Œå…¶è¡Œä¸ºä¸å»ºè®®çš„å¯é€‰é“¾æ¥éå¸¸ç›¸ä¼¼ã€‚

## æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ

æ‚¨æ˜¯å¦æ›¾ç»åœ¨è®¿é—®å¯¹è±¡æˆ–æ•°ç»„çš„å±æ€§ä¹‹å‰æ£€æŸ¥è¿‡å®ƒä»¬æ˜¯å¦å­˜åœ¨ï¼Ÿå¦‚æœä½ å¿˜è®°äº†ï¼Œå®ƒå¯èƒ½çœ‹èµ·æ¥æœ‰ç‚¹åƒè¿™æ ·:

```
if(specimen && specimen.arms && specimen.arms.length > 2)
    console.log("This is probably an alien"); 
```

Enter fullscreen mode Exit fullscreen mode

æˆ‘ä»¬åšè¿™äº›æ£€æŸ¥çš„åŸå› æ˜¯å› ä¸ºåœ¨ JavaScript ä¸­å…è®¸åŒ¿åå¯¹è±¡ä¸ä¸€å®šæœ‰ç»“æ„æˆ–æ¨¡å¼ã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬ä¸åœ¨å¯¹è±¡æ ‘ä¸­æ£€æŸ¥çˆ¶å¯¹è±¡ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°å¾ˆå¤šç±»ä¼¼è¿™æ ·çš„é”™è¯¯:

[![TypeError error message](../Images/d2095d54404a35b6a0c90d8acbb877cc.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--WlXFg0V---/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/xsxmyDK.png)

å› ä¸ºï¼Œè‡³å°‘åœ¨é”™è¯¯çš„æƒ…å†µä¸‹ï¼Œ`specimen`ç¡®å®å­˜åœ¨ï¼Œä½†æ˜¯å®ƒæ²¡æœ‰`arms`å±æ€§ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¯•å›¾ä»`undefined`ä¸­å¾—åˆ°`length`ã€‚

## é‚£ä¹ˆï¼Œæœ‰ä»€ä¹ˆå»ºè®®å‘¢ï¼Ÿ

ç›¸åï¼Œæˆ‘ä»¬å¯ä»¥åƒè¿™æ ·*é“¾æ¥*å¯é€‰æ£€æŸ¥:

```
if(specimen?.arms?.length > 2)
    console.log("This is probably an alien"); 
```

Enter fullscreen mode Exit fullscreen mode

ç„¶è€Œï¼Œè¯·è®°ä½å¯é€‰çš„é“¾æ¥æ“ä½œç¬¦æ˜¯`?.`è€Œä¸æ˜¯`?`â€”â€”è¿™æ„å‘³ç€å½“ä½¿ç”¨å®ƒæ¥è®¿é—®æ•°ç»„ä¸­çš„ä¸€ä¸ªé¡¹æ—¶ï¼Œå®ƒå°†çœ‹èµ·æ¥åƒè¿™æ ·:

```
var firstArm = specimen?.arms?.[0]; //CORRECT
var secondArm = specimen?.arms?[1]; //WRONG 
```

Enter fullscreen mode Exit fullscreen mode

åŒæ ·ï¼Œå½“ä½¿ç”¨å®ƒæ¥æ£€æŸ¥å‡½æ•°çš„å­˜åœ¨æ—¶:

```
var kickPromise = specimen?.kick?.();  //CORRECT
var punchPromise = specimen?.punch?(); //WRONG 
```

Enter fullscreen mode Exit fullscreen mode

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åœ¨ä½œä¸ºå‡½æ•°è°ƒç”¨å®ƒä¹‹å‰æ£€æŸ¥`kick`æ˜¯å¦å­˜åœ¨ï¼

## å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ

æ“ä½œå‘˜æ£€æŸ¥`?.`å·¦ä¾§**çš„**æ˜¯`null`è¿˜æ˜¯`undefined`ã€‚å¦‚æœæ˜¯ï¼Œé‚£ä¹ˆè¡¨è¾¾å¼çŸ­è·¯å¹¶è¿”å›`undefined`ã€‚å¦åˆ™è¡¨è¾¾å¼ç»§ç»­æ±‚å€¼ï¼Œå¥½åƒä»€ä¹ˆéƒ½æ²¡é”™ã€‚

## ä»€ä¹ˆæ—¶å€™å¯ä»¥ç”¨ï¼Ÿ

å—¯ï¼Œå®ƒä»ç„¶æ˜¯ä¸€ä¸ªææ¡ˆï¼Œæ‰€ä»¥å®ƒè¿˜ä¸æ˜¯æ™®é€šçš„ JavaScriptã€‚ä½†æ˜¯ï¼Œå¯ä»¥å’Œå·´åˆ«å¡”ä¸€èµ·ä½¿ç”¨[ï¼](https://github.com/babel/babel/pull/5813)

è¦äº†è§£ææ¡ˆçš„æœ€æ–°çŠ¶æ€ï¼Œä»¥åŠæ›´æ·±å…¥çš„ç†è§£å’ŒæŸ¥çœ‹ä¸€äº›ç¤ºä¾‹ï¼Œæ‚¨åº”è¯¥æŸ¥çœ‹[ä»–ä»¬çš„ GitHub repo](https://github.com/tc39/proposal-optional-chaining) ï¼ä½ ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°[çš„è§„æ ¼](https://tc39.github.io/proposal-optional-chaining/)ï¼Œä½†æˆ‘ä¸ä¼šæ·±å…¥è®¨è®ºï¼Œå› ä¸ºé‚£ä»½æ–‡ä»¶çš„å¤§éƒ¨åˆ†å†…å®¹æˆ‘éƒ½ä¸çŸ¥é“ğŸ˜…

## è°¢è°¢ï¼

æ¬¢è¿ä½ ï¼â¤ï¸