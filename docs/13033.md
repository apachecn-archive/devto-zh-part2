# 为了纪念传统法典

> 原文:[https://dev.to/plainprogrammer/in-honor-of-legacy-code-241](https://dev.to/plainprogrammer/in-honor-of-legacy-code-241)

[![](../Images/038eb9a0c67c9feb1e394424cfbfe5f8.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--bt7uNEEg--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://james.thomps.onl/wp-content/uploads/2019/07/515bd-1pxqnjlgqlqw-rxnay3ei-a.jpeg)

我工作过的每家公司都有一些。似乎很少有人想解决这个问题，更少有人有信心解决这个问题。遗留代码在软件开发中是一个相当一致的、带有强烈贬义的术语。但是，这是好事吗？在过去的几年里，我开始认为事实并非如此。在听完 [Chad Fowler 在 RubyConf 2017 上发表的题为“变老”的主题演讲后，](http://confreaks.tv/videos/rubyconf2017-keynote-growing-old)我更加坚定了这个观点。

### [](#defining-a-legacy)**定义一份遗产**

我从 Chad Fowler 的演讲中得到的一个重要主题是提醒人们，在其他努力领域，遗产的概念是一件好事。遗产通常被认为是前几代人留下的礼物。有时候，这份礼物是知识或金钱——然而，在软件开发领域，一代程序员留给另一代人什么的观念很少被正面看待。

从某种意义上说，鉴于技术进步的快速步伐以及某些工具和技术可能变得过时，这是可以理解的。但是，在许多企业中，遗留系统仍然在交付价值，而且通常是以一种可预测的方式。但是，作为程序员、开发人员或工程师，我们的视角很少以价值为中心。

### [](#selfishness-amp-novelty)**自私&新奇**

我们倾向于关注这些现有系统对我们来说有多难，而不是这些系统所提供的价值。有时，我们会抓住他们所依赖的框架，或者前管理者所采用的模式和方法。有时，我们会抱怨难以破译的错综复杂的代码。而且，有时我们的批评是有道理的。但是，当我反思我自己的职业生涯时，更多的时候，我只是在发牢骚。

两个对比鲜明的例子跃入我的脑海，一个是在我职业生涯的中期，我觉得我帮助我的雇主做出了一个好的改变，另一个是在我职业生涯的早期，我不太相信我为我的雇主做出了最好的长期选择。我先说我觉得自己做得好的案例。

#### [](#a-success-story)**成功故事**

几年前，我为准备好的项目工作。几天前，我有机会碰到了我以前的老板。我很高兴听到，在整个行业经历了几年的收缩后，情况开始稳定下来。当我开始为他们工作时，他们正在 Magento 上运行一个电子商务网站，需要花费大量资金来维持性能和可用性。在充分了解他们如何与一些第三方履约合作伙伴以及他们自己的仓库保持库存同步后；我鼓励他们转向 Shopify。

当时每个月的费用都差不多。转向 Shopify 提供了一个将运营成本冻结在可预测水平的机会，这是我们在 Magento 上做不到的。因此，我们与另一家公司签订了合同，在我与 Shopify 建立库存集成的同时，进行协调的重新设计。几个月后，我们可以发布了，它们仍然在 Shopify 上运行。作为影响业务的行业收缩的一部分，我最终不得不离开，但我为自己为 Ready 项目所做的大量工作感到自豪。这让他们觉得我的角色并不重要，即使没有我的技术能力，他们也能继续做生意。

#### [](#a-lack-of-forethought)**缺乏深谋远虑**

另一个例子是在我从事 Ready 项目之前的几年。我曾与一家营销和设计咨询公司合作，为他们设计的网站做实施工作。像这个领域的许多公司一样，他们提供了带有内容管理系统(CMS)的网站，让客户可以随心所欲地管理自己的网站。

在我开始使用它们的前一年，我已经开始用 Ruby 做很多工作，并开始学习 Ruby on Rails。在这个过程中，我遇到了一个基于 Rails 构建的 CMS，它非常适合我在其中工作和构建扩展。我构建了许多有趣的自定义扩展。但是，那不是我应该做的工作。我按时交付了工作，但并不总是以可持续的方式。这让我的工作压力很大。问题是，我选择了对我来说有趣的工作，但不一定对公司有好处。

我应该选择像 Drupal 或 WordPress 这样的工具，并把精力集中在小的定制上，而不是创建完全定制的解决方案。仍然会有产品使用我的基于 Rails 的 CMS，因为它比 Drupal 或 WordPress 更容易使用。问题是我没有考虑我的工作的长期影响。我没有想过我最终离开后会发生什么。我不知道我在那个职位上建立的任何东西今天是否还在运行。

#### [](#check-your-motivations)**检查你的动机**

后一种情况的问题是，我专注于自己和我想做的事情。我关心我的雇主和他们的成功，但我没有长远的眼光。那是很久以前的事了，从那以后我学到了很多。但是，我本可以做出一些决定，让我对自己留在那里的遗产感觉更好。从那以后，包括我在 Ready 项目中的时间，我已经更善于从整体上考虑我的雇主，而不是我自己。所以，我的动机发生了微妙的变化。我现在不太担心在简历上添油加醋了，相反，我想尽我所能确保我做了雇主需要的事情，以取得成功。我正在以不同的方式应用我的经验，并不是所有的都是技术性的。这是我不太喜欢追逐最新技术的一个重要原因。我想理解它，但使用它不是我的优先事项。自私动机的减少使我成为一名更好的员工，至少在我看来是这样。

### [](#back-to-legacy-code)**回遗留代码**

那么，这些与遗留代码有什么关系呢？首先，遗产不应该是贬义词。在许多情况下，代码正在工作并产生商业价值。对于正在积极开发的其他任何东西也可以这样说吗？全部吗？我怀疑在许多企业中，这个答案是压倒性的、可以辩护的肯定的。

> 工作代码比那些还没有存在、工作或产生价值的代码更好。

遗留代码是由那些我们应该假设正在尽最大努力利用他们可用的资源和信息的人产生的。我们可能不喜欢输出，但我们应该感谢努力。我们应该尊重投入到项目中的工作。此外，我们应该尽可能地寻找改进它的方法，让它体面地退休，并称赞那些成功交付商业价值的人，这些商业价值正是我们今天正在努力构建的。