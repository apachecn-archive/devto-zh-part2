# å¼€æº:Instagram Analyzer

> åŸæ–‡:[https://dev . to/nejckorasa/open-source-insta gram-analyzer-1 OBD](https://dev.to/nejckorasa/open-source-instagram-analyzer-1obd)

[instagram-analyzer](https://github.com/nejckorasa/instagram-analyzer) æ˜¯ä¸€ä¸ªç”¨ Python ç¼–å†™çš„åº”ç”¨ç¨‹åºï¼Œå®ƒä½¿ç”¨ç”¨æˆ· instagram ç…§ç‰‡å’Œè§†é¢‘ä¸­çš„åå‘åœ°ç†ç¼–ç æ¥åˆ†æåœ°ç†æ ‡ç­¾ã€‚

å®ƒæä¾›äº†ä½ ç›®å‰ä¸ºæ­¢è®¿é—®è¿‡çš„å…·ä½“åœ°ç‚¹ã€å›½å®¶å’ŒåŸå¸‚çš„æ•°æ®ï¼Œä»¥åŠæœ‰å¤šå°‘æ¬¡å’Œå“ªäº› Instagram å¸–å­ä¸è¯¥åœ°ç‚¹åŒ¹é…ã€‚

æˆ‘æƒ³å¬å¬åé¦ˆï¼Œå¥½çš„æˆ–åçš„ï¼Œæ‰€ä»¥è¯·å»çœ‹çœ‹å§ï¼
æ„Ÿè°¢

## å®ƒæœ‰ä»€ä¹ˆä½œç”¨

### ğŸ“å­˜å‚¨æ‰€æœ‰ instagram åª’ä½“æ•°æ®ğŸ“·

åº”ç”¨ç¨‹åºåŠ è½½æ‰€æœ‰ç”¨æˆ·çš„ instagram åª’ä½“ï¼Œå¹¶ä»¥ JSON æ ¼å¼ä¿å­˜ã€‚è¯¥æ•°æ®åŒ…æ‹¬æ‰€æœ‰åª’ä½“å…ƒæ•°æ®ï¼ŒåŒ…æ‹¬å–œæ¬¢ã€ä½ç½®ã€æ ‡è®°çš„ç”¨æˆ·ã€è¯„è®ºã€å›¾åƒ url...

### ğŸ“å­˜å‚¨æ‰€æœ‰ instagram ä½ç½®æ•°æ®ğŸ“Š

åˆ†æåœ°ç†æ ‡ç­¾å¹¶å°†ä½ç½®ä¿å­˜åœ¨ JSON forma ä¸­ã€‚è¿™äº›æ•°æ®åŒ…æ‹¬æ¯ä¸ªåœ°ç‚¹çš„äº‹ä»¶ä»¥åŠå›¾ç‰‡å’Œ instagram åª’ä½“ url...

### ğŸ“å­˜å‚¨æ‰€æœ‰ instagram å›½å®¶å’ŒåŸå¸‚çš„ä½ç½®æ•°æ®

å›½å®¶å’ŒåŸå¸‚è¿˜é€šè¿‡ä½¿ç”¨ [LocationIQ API](https://locationiq.com) è¿›è¡Œåå‘åœ°ç†ç¼–ç è¿›è¡Œåˆ†æã€‚æ•°æ®ä¿å­˜åœ¨ JSON æ–‡ä»¶ä¸­ã€‚

### ğŸ“æ‰“å°âœˆï¸åœ°ç‚¹ï¼Œå›½å®¶å’ŒåŸå¸‚äº‹ä»¶

```
You have visited 99 different locations
You have visited 7  different countries
You have visited 32 different cities 
```

Enter fullscreen mode Exit fullscreen mode

### æ‰“å°æœ€å¸¸å»çš„åœ°ç‚¹ã€å›½å®¶å’ŒåŸå¸‚çš„è¡¨æ ¼è§†å›¾ğŸŒ

ä¾‹å¦‚ï¼Œå½“æ‰§è¡Œ [nejckorasa](https://www.instagram.com/nejckorasa) æ—¶ï¼Œæ‰“å°çš„å›½å®¶æ˜¯è¿™æ ·çš„:

```
Countries: 

+------+-----------------+-------------+
| rank | country         | occurrences |
+------+-----------------+-------------+
|  1   | Slovenia        |     51      |
+------+-----------------+-------------+
|  2   | The Netherlands |     12      |
+------+-----------------+-------------+
|  3   | Spain           |      8      |
+------+-----------------+-------------+
|  4   | Poland          |      8      |
+------+-----------------+-------------+
|  5   | Russia          |      7      |
+------+-----------------+-------------+
|  6   | Croatia         |      7      |
+------+-----------------+-------------+
|  7   | Hungary         |      6      |
+------+-----------------+-------------+ 
```

Enter fullscreen mode Exit fullscreen mode

ä¸ºç‰¹å®šåœ°ç‚¹å’ŒåŸå¸‚æ‰“å°ç±»ä¼¼çš„è¡¨ã€‚

## å®‰è£…

å®‰è£… instagram-analyzer:

```
$ pip install instagram-analyzer 
```

Enter fullscreen mode Exit fullscreen mode

æ›´æ–° instagram-analyzer:

```
$ pip install instagram-analyzer --upgrade 
```

Enter fullscreen mode Exit fullscreen mode

## ç”¨æ³•

å®‰è£…åï¼Œå¯¼å…¥ã€é…ç½®å¹¶è¿è¡Œ:

```
from instagram_analyzer import InstaAnalyzer

InstaAnalyzer(
    insta_token='<INSTAGRAM_TOKEN_HERE>',
    location_iq_token='<LOCATION_IQ_TOKEN_HERE>').run() 
```

Enter fullscreen mode Exit fullscreen mode

åœ¨è¿è¡Œä¹‹å‰ï¼Œè¯·æŸ¥çœ‹[é…ç½®&é€‰é¡¹](https://github.com/nejckorasa/instagram-analyzer/blob/master/README.md#configuration--options)

## é…ç½®&é€‰é¡¹

### è·å–ä»£å¸

##### è·å– Instagram è®¿é—®ä»¤ç‰Œ

å» [Pixelunion](http://instagram.pixelunion.net/) ï¼Œç”Ÿæˆä»¤ç‰Œï¼Œåˆ«å¿˜äº†ä»¤ç‰Œï¼

##### è·å–ä½ç½® IQ è®¿é—®ä»¤ç‰Œ

å»[åœ°ç‚¹æ™ºå•†](https://locationiq.com/)ï¼ŒæŠ¥åï¼Œé¢†ä»¤ç‰Œï¼Œåˆ«å¿˜äº†ä»¤ç‰Œï¼

### é…ç½®å¹¶è¿è¡Œ

ç”¨æ ‡è®°å€¼åˆ›å»º`InstaAnalyzer`å®ä¾‹ã€‚

```
analyzer = InstaAnalyzer(
    insta_token='<INSTAGRAM_TOKEN_HERE>',
    location_iq_token='<LOCATION_IQ_TOKEN_HERE>')
analyzer.read_media_from_file = False
analyzer.run() 
```

Enter fullscreen mode Exit fullscreen mode

> ä¸€æ—¦ instagram åª’ä½“æ•°æ®è¢«å­˜å‚¨åœ¨ JSON ä¸­ï¼Œä½ å°±å¯ä»¥ä»é‚£é‡Œè¯»å–å®ƒï¼Œè€Œä¸æ˜¯é€šè¿‡ Instagram API (API è¢«é™åˆ¶ä¸ºæ¯å°æ—¶ 200 ä¸ªè¯·æ±‚)å†æ¬¡åŠ è½½å®ƒã€‚è®¾ç½®`analyzer.read_media_from_file = True`

### é€‰é¡¹

*   `location_iq_token`æ˜¯å¯é€‰çš„ã€‚å¦‚æœæœªè®¾ç½®ï¼Œå°†åªè¿è¡ŒåŸºæœ¬ä½ç½®åˆ†æå¹¶ä¿å­˜åˆ°æ–‡ä»¶ä¸­ã€‚
*   è¿è¡Œ`InstaAnalyzer`åï¼Œæ‰€æœ‰æ•°æ®å‡å¯è®¿é—®:

```
# Configure InstaAnalyzer analyzer = InstaAnalyzer(
    insta_token='<INSTAGRAM_TOKEN_HERE>',
    location_iq_token='<LOCATION_IQ_TOKEN_HERE>')

# Run InstaAnalyzer analyzer.run()

# Access cities, countries and location data cities = analyzer.cities
countires = analyzer.countires
locations = analyzer.locations

# Access instagram media data instagram_media = analyzer.insta_media_data

# Print locations later analyzer.print_locations() 
```

Enter fullscreen mode Exit fullscreen mode

## å­˜å‚¨æ•°æ®ç¤ºä¾‹

å½“é’ˆå¯¹ [nejckorasa](https://www.instagram.com/nejckorasa) æ‰§è¡Œæ—¶ï¼Œä¸€ä¸ªå›½å®¶é¡¹ç›®(è¥¿ç­ç‰™)çš„æ•°æ®å¦‚ä¸‹æ‰€ç¤º:

```
"Spain":  {  "count":  8,  "media_items":  [  [  {  "id":  "<post_id>",  "image":  "https://scontent.cdninstagram.com/vp/e7705068da5e289f5e44c0c396c08f74/5BD54C95/t51.2885-15/sh0.08/e35/p640x640/36149213_609452269436842_8766778259800064000_n.jpg?efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV9pZyJ9",  "link":  "https://www.instagram.com/p/Bkh3-KfgxL9/"  }  ],  {  "id":  "<post_id>",  "image":  "https://scontent.cdninstagram.com/vp/2b239894a363f6bbe93d604ab2cdfa8a/5BE953CD/t51.2885-15/sh0.08/e35/p640x640/33941046_171665143683479_8766885676932136960_n.jpg?efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV9pZyJ9",  "link":  "https://www.instagram.com/p/Bj7Uj56gxBs/"  },  {  "id":  "<post_id>",  "image":  "https://scontent.cdninstagram.com/vp/9d7003f674af9ca05accf9961df893a6/5BE28FDA/t51.2885-15/sh0.08/e35/p640x640/33120615_197967877520708_8731075699906969600_n.jpg?efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV9pZyJ9",  "link":  "https://www.instagram.com/p/Bjmp-6bAYus/"  },  {  "id":  "<post_id>",  "image":  "https://scontent.cdninstagram.com/vp/1e7ca79fc44823ff3ef8b24e6dd55e61/5BD1E8C3/t51.2885-15/sh0.08/e35/p640x640/33608474_597094857325212_724188974242856960_n.jpg?efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV9pZyJ9",  "link":  "https://www.instagram.com/p/BjR_9lpAqpc/"  },  {  "id":  "<post_id>",  "image":  "https://scontent.cdninstagram.com/vp/1b046c05b1cbe9708f57f5e591b68d1c/5BD8E039/t51.2885-15/sh0.08/e35/p640x640/32947036_172314443452529_4611639929133334528_n.jpg?efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV9pZyJ9",  "link":  "https://www.instagram.com/p/BjNEIwiA6Py/"  },  {  "id":  "<post_id>",  "image":  "https://scontent.cdninstagram.com/vp/5ac0e05fb60700cba4c41d6d1216eb5b/5BC8A9DB/t51.2885-15/e15/10802615_318814311644936_1896556761_n.jpg?efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV9pZyJ9",  "link":  "https://www.instagram.com/p/vdWuHBkwuY/"  },  {  "id":  "<post_id>",  "image":  "https://scontent.cdninstagram.com/vp/40620d8f5e7e01a546e2b958d18bd42a/5BE9E99F/t51.2885-15/e15/10784835_319487204924131_388050040_n.jpg?efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV9pZyJ9",  "link":  "https://www.instagram.com/p/vYybQyEwiA/"  },  {  "id":  "<post_id>",  "image":  "https://scontent.cdninstagram.com/vp/b733c0bdf312ee5c21bb3fd6148e6221/5BE263EA/t51.2885-15/e15/10802986_691193854310946_2042620114_n.jpg?efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV9pZyJ9",  "link":  "https://www.instagram.com/p/vc9ZFakwrq/"  },  {  "id":  "<post_id>",  "image":  "https://scontent.cdninstagram.com/vp/875bff08c310444273eae90a67e525dd/5BC8F29F/t51.2885-15/e15/928044_671144066338855_1666493611_n.jpg?efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV9pZyJ9",  "link":  "https://www.instagram.com/p/vaWbQLEwqX/"  }  ]  } 
```

Enter fullscreen mode Exit fullscreen mode

å½“ç„¶ï¼Œ`<post_id>`å°†æ˜¯ä¸€ä¸ªå®é™…çš„æ–‡ç«  IDã€‚

åŸå¸‚çš„æ•°æ®å‡ ä¹ç›¸åŒã€‚å¯¹äºç‰¹å®šçš„ä½ç½®ï¼Œä¸€ä¸ªä½ç½®é¡¹å¦‚ä¸‹æ‰€ç¤º:

```
"236678869":  {  "latitude":  45.7925,  "longitude":  15.1647,  "name":  "Novo Mesto",  "id":  236678869,  "count":  4,  "media_items":  [  {  "id":  "<post_id>",  "image":  "https://scontent.cdninstagram.com/vp/6941d16b164ec488dd3a303004344f78/5BE40DE8/t51.2885-15/sh0.08/e35/p640x640/31270267_1592482480868234_8257495365851283456_n.jpg?efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV9pZyJ9",  "link":  "https://www.instagram.com/p/Bij24yzAdHB/"  },  {  "id":  "<post_id>",  "image":  "https://scontent.cdninstagram.com/vp/3189c0f2e5931f47b4506046ff26afff/5BDB6109/t51.2885-15/e15/10724200_1496985983889525_746072573_n.jpg?efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV9pZyJ9",  "link":  "https://www.instagram.com/p/uDDPHekwtW/"  },  {  "id":  "<post_id>",  "image":  "https://scontent.cdninstagram.com/vp/fbf31b5c410c9036ce43862012249d02/5BEC3F36/t51.2885-15/e15/10488704_250740985124191_1862853011_n.jpg?efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV9pZyJ9",  "link":  "https://www.instagram.com/p/q94LWMkwlk/"  },  {  "id":  "<post_id>",  "image":  "https://scontent.cdninstagram.com/vp/27c6681709c7b71fc86d8477c11d2b88/5BCAD041/t51.2885-15/e15/10013254_641464529259998_1091484863_n.jpg?efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV9pZyJ9",  "link":  "https://www.instagram.com/p/mKDvsikwsC/"  }  ],  "city":  "Novo mesto",  "additional_data":  {  "place_id":  "113385772",  "licence":  "\u00a9 LocationIQ.org CC BY 4.0, Data \u00a9 OpenStreetMap contributors, ODbL 1.0",  "osm_type":  "way",  "osm_id":  "167321715",  "lat":  "45.7897769",  "lon":  "15.1680662",  "display_name":  "Krka, Novo mesto, Jugovzhodna Slovenija, 8000, Slovenia",  "address":  {  "suburb":  "Krka",  "town":  "Novo mesto",  "state_district":  "Jugovzhodna Slovenija",  "postcode":  "8000",  "country":  "Slovenia",  "country_code":  "si"  },  "boundingbox":  [  "45.7858017",  "45.7927137",  "15.1640388",  "15.1725268"  ]  }  } 
```

Enter fullscreen mode Exit fullscreen mode

æ³¨æ„`additional_data`å­—æ®µï¼Œè¯¥æ•°æ®æ˜¯ä½¿ç”¨[ä½ç½® IQ API](https://locationiq.com) å¡«å……çš„

## å¸¸è§é—®é¢˜

#### ä¸ºä»€ä¹ˆåŠ è½½é™„åŠ ä½ç½®æ•°æ®éœ€è¦è¿™ä¹ˆé•¿æ—¶é—´ï¼Ÿ

å¯¹äºåå‘åœ°ç†ç¼–ç ï¼Œä½¿ç”¨ Location IQ APIã€‚API si å…è´¹ç‰ˆæœ¬é™åˆ¶ä¸ºæ¯ç§’ 1 ä¸ªè¯·æ±‚ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆé¢å¤–çš„æ•°æ®åŠ è½½éœ€è¦èŠ±è´¹`<different_location_count>`ç§’ã€‚

## å»çœ‹çœ‹ï¼Œç•™ä¸‹åé¦ˆğŸ™

è¿™é‡Œæœ‰ä¸€ä¸ª github çš„é“¾æ¥: [instagram-analyzer](https://github.com/nejckorasa/instagram-analyzer)