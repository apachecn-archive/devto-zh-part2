# React-kindness:React çš„å¯å®šåˆ¶å±å¹•æŒ‡å—

> åŸæ–‡:[https://dev . to/piglovesyou/react-kindness-a-customized-screen-guide-for-react-3nn 0](https://dev.to/piglovesyou/react-kindness-a-customizable-screen-guide-for-react--3nn0)

æˆ‘åˆšåˆšå‘å¸ƒäº† React çš„ä¸€ä¸ªç®€å•çš„å±å¹•å‘å¯¼ç»„ä»¶ã€‚è¯·çœ‹ä¸€çœ‹ã€‚

[ğŸ‘‰react-å–„è‰¯æ¼”ç¤º](https://piglovesyou.github.io/react-kindness/)
[ğŸ‘‰react-å–„è‰¯è‡ªè¿°](https://github.com/piglovesyou/react-kindness#react-kindness-)

å¼€å‘çš„åŠ¨æœºæ˜¯è®¤ä¸ºä½¿ç”¨ SVG mask å’Œ`pointer-events: none`åº”è¯¥å¯ä»¥ç®€å•çš„å®ç°å±å¹•å‘å¯¼ã€‚å…¶ä»–åº“é€šå¸¸åœ¨èšç„¦å…ƒç´ å‘¨å›´æ”¾ç½® 4 ä¸ªç»å¯¹å®šä½çš„æš—`div`,è¿™å†³å®šäº†å®ƒä¸èƒ½åœ¨è¦†ç›–å›¾ä¸­ç»˜åˆ¶åœ†å½¢æ–‘ç‚¹ã€‚SVG æ©ç å½“ç„¶å¯ä»¥ã€‚

å¦ä¸€ä¸ªå®ç°æ˜¯å°†ç›®æ ‡å…ƒç´ è®¾ä¸º`position: relative; z-index: 9999999 !important;`ï¼Œè®©ç”¨æˆ·â€œè§¦æ‘¸â€è¯¥å…ƒç´ ï¼Œå¹¶ç”¨è¦†ç›–å›¾`div`éšè—ä»»ä½•å…¶ä»–å…ƒç´ ï¼Œä¹ä¸€çœ‹è¿™ä¼¼ä¹æ˜¯ä¸€ä¸ªå¾ˆé…·çš„è§£å†³æ–¹æ¡ˆã€‚ç„¶è€Œï¼Œæˆ‘æƒ³çŸ¥é“æˆ‘ä»¬æ˜¯å¦å¿…é¡»åœ¨å±å¹•å¼•å¯¼æœŸé—´é˜»æ­¢ç”¨æˆ·äº¤äº’ã€‚ç›¸åï¼Œç”¨æˆ·å¯èƒ½æƒ³ç‚¹å‡»ä¸€ä¸ªé”šé“¾æ¥æˆ–ç‚¹å‡»ä¸€ä¸ªé“ƒé“›å›¾æ ‡æ¥æŸ¥çœ‹é¡µé¢ä¸Šæœ€è¿‘çš„é€šçŸ¥ï¼Œä¸æ˜¯å—ï¼Ÿ

react-kindness æ˜¯ä¸€ä¸ªç®€å•çš„ UI æŒ‡å—ï¼Œä¸ä¼šé˜»ç¢ç”¨æˆ·äº¤äº’ã€‚åªæ˜¯åœ¨ä¸€ä¸ªè¦†ç›–å›¾ä¸­æ˜¾ç¤ºä¸€ä¸ªç‚¹ï¼Œä¸€ä¸ªåŒ…å«â€œä¸Šä¸€é¡µâ€å’Œâ€œä¸‹ä¸€é¡µâ€æŒ‰é’®çš„ä¿¡æ¯é¢æ¿ï¼Œå°±æ˜¯è¿™æ ·ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç”¨æ³•ç¤ºä¾‹ã€‚

```
import {KindnessPanel, Kindness} from 'react-kindness';
import 'react-kindness/dist/index.css';

// ...
    <KindnessPanel
        enabled={this.state.show}
        onExit={() => this.setState({show: false})} /> 
```

Enter fullscreen mode Exit fullscreen mode

æ‚¨å¯èƒ½æƒ³è¦æ‰“å¼€/å…³é—­å‘å¯¼ï¼Œæ‰€ä»¥ä¿æŒç»„ä»¶ä¸­çš„çŠ¶æ€å¦‚ä¸Š`this.state.show`æ‰€ç¤ºã€‚è¯·ä¸è¦å¿˜è®°åœ¨ä¸€ä¸ª`onExit`äº‹ä»¶æŒ‚é’©ä¸Šç¦ç”¨å®ƒã€‚

```
<Kindness>
    <input type="text" {...} /> </Kindness> 
<Kindness message="Click here to submit your post!">
    <button type="submit">
        Submit
    </button> </Kindness> 
```

Enter fullscreen mode Exit fullscreen mode

ç„¶åç”¨ä¸€ä¸ªç‚¹å°†è·Ÿè¸ªçš„`<Kindness />`åŒ…è£¹ä½ çš„å…ƒç´ ã€‚å…¶ä»–å±æ€§å¦‚`title`å’Œ`order`ä¹Ÿæ˜¯å¯ç”¨çš„ã€‚è¯·å‚è€ƒ[è‡ªè¿°æ–‡ä»¶](https://github.com/piglovesyou/react-kindness#react-kindness-)è·å–æ–‡æ¡£ã€‚

å…³äºå±è”½ç”¨æˆ·äº¤äº’ï¼Œå¦‚æœä½ è§‰å¾—å–œæ¬¢ï¼Œå¯ä»¥åœ¨`onClickOutside`ä¸­è¿”å›`false`ã€‚react-kindness ä¼šè´Ÿè´£ä¸ºæ‚¨ç¦ç”¨ç”¨æˆ·æ“ä½œã€‚

```
 <KindnessPanel
        // ...
        onClickOutside={() => false} /> 
```

Enter fullscreen mode Exit fullscreen mode

æ¥ä¸‹æ¥ï¼Œè¿™æ˜¯æˆ‘æƒ³å°è¯•çš„å¦ä¸€ä»¶äº‹ï¼ŒReact ç»„ä»¶å¼€å‘çš„â€œä½œä¸ºç»„ä»¶çš„åŠŸèƒ½â€æ¨¡å¼ã€‚ä½¿ç”¨å®ƒï¼Œreact-kindness çš„é¢æ¿å†…å®¹æ˜¯å®Œå…¨å¯å®šåˆ¶çš„ã€‚

åœ¨å†…éƒ¨ï¼Œé¢æ¿å†…å®¹è¢«å®ç°ä¸ºå‘ˆç°æ¶ˆæ¯å’ŒæŒ‰é’®çš„`<KindnessPanelContent />`ã€‚æ‚¨å¯ä»¥åœ¨é¢æ¿ä¸­å‘ˆç°ä»»æ„å…ƒç´ ï¼Œè€Œä¸æ˜¯ä½¿ç”¨é»˜è®¤å†…å®¹ã€‚

```
import Button from '@material-ui/core/Button';

// ...

<KindnessPanel enabled={true}>
    {
        ({message, totalSize, currentIndex, goNext, goPrev}) => (
            <div>
                <h3>{message}</h3>
                <h4>{`You are seeing ${currentIndex + 1} of ${totalSize} in the guide.`}</h4>
                <Button action={goPrev}>Go previous</Button>
                <Button action={goNext}>Go next</Button>
            </div>
        )
    }
</KindnessPanel> 
```

Enter fullscreen mode Exit fullscreen mode

æ­¤å¤–ï¼Œé¢æ¿å’Œèšå…‰ç¯çš„æ ·å¼å¯ä»¥æ ¹æ®æ‚¨çš„æ„æ„¿è¿›è¡Œä¿®æ”¹ã€‚

æœ€åï¼Œæˆ‘æƒ³è¯´æˆ‘å¾ˆæ¬£èµ react-kind éå¸¸ä¾èµ–çš„ä¸€ä¸ªé¡¹ç›® [Popper.js](https://popper.js.org/popper-documentation.html) ã€‚å®ƒçš„ DOM å®šä½åŠŸèƒ½å…¨é¢è€Œå¤æ‚ï¼Œå› æ­¤æˆ‘å¯ä»¥è½»æ¾åœ°é˜…è¯»å’Œè·Ÿè¸ªä»£ç ï¼Œå¹¶åˆ©ç”¨ Popper.js ä¸ºåƒæˆ‘è¿™æ ·çš„å¤–éƒ¨å¼€å‘äººå‘˜å¯¼å‡ºçš„å‡½æ•°ã€‚åœ¨`modifiers`ä¸­ä¸€æ­¥ä¸€æ­¥ä¿®æ”¹å®šä½çš„æ¶æ„å¾ˆé…·ï¼Œè€Œä¸”å¯æ‰©å±•ã€‚å¦‚æœä½ é¢ä¸´ DOM å®šä½çš„é—®é¢˜ï¼Œè¯•è¯• [Popper.js](https://popper.js.org/popper-documentation.html) ğŸ‘