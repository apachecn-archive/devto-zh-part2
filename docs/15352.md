# 您有回滚计划吗？

> 原文:[https://dev.to/thaiwood/do-you-have-a-rollback-plan-3kfc](https://dev.to/thaiwood/do-you-have-a-rollback-plan-3kfc)

的确，DevOps 实践和 CI 可以让您的部署更加安全。不过，这并不否定回滚计划的必要性。

回滚计划就像它听起来的那样。这是一个步骤列表，您可以采取这些步骤来撤销一个版本，并将系统恢复到原始状态。

你或你的团队可能会认为，如果你有一个可以撤销事情的工程师，你就有一个了，但这并不等同于回滚计划。让一个或者甚至一小部分工程团队知道如何撤销一个给定的版本并不能代替回滚计划。

> 回滚计划是一组书面步骤，其他人可以按照这些步骤来撤销发布。

如果你有自动化的其他支柱(代码审查，自动化测试等等)，为什么还要有撤销发布的方法呢？就像你不想在不知道如何到达那里和如何回家的情况下被放入森林中，你也不会在不知道如何返回的情况下进行释放。

编写回滚计划还有助于澄清该版本预计会对其他系统产生什么影响，以及应该采取什么其他步骤。

您需要重启服务吗？需要通知该服务的家属。

您必须对数据库进行更改吗？如果它与其他应用程序共享，应该通知这些所有者。

您必须恢复数据吗？最好确保备份工作正常并且可以恢复。

## [](#what-does-a-rollback-plan-look-like)回滚计划是什么样子的？

这里有一个例子，展示了一个拥有发布管道以及自动化和手动测试的组织的样子。是的，完全有可能你的更长，但这是一个你可以从哪里开始的例子。如果你已经有了这样的东西，你可以通过确保你有一个文档的链接来回答“如何做？”这个问题来改进它对于以下各项:

SuperImportantApp 企业版的版本 5:

预定时间:太平洋标准时间 2018 年 2 月 1 日 0700

回滚步骤:如果部署因任何原因失败，则需要按顺序执行以下步骤:设置 CI 以检索发布标签 4.5 工件将结果工件部署到 QA 确认自动化测试通过发布工件以生产所有节点上的滚动重启服务 5a。请参阅我们的内部文档中心“滚动发布”文档，了解如何确认测试通过，包括手动和自动测试

你怎么想呢?留下评论。更多类似的请看这里:[https://thaiwood.io/DevTo](https://thaiwood.io/DevTo)