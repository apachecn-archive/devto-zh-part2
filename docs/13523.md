# Vue ç»„ä»¶ä¸­çš„ CSS å‘½åçº¦å®š

> åŸæ–‡:[https://dev . to/nakajmg/CSS-naming-conventi on-in-vue-component-46o 5](https://dev.to/nakajmg/css-naming-convention-in-vue-component-46o5)

å¾ˆé•¿ä¸€æ®µæ—¶é—´æˆ‘éƒ½åœ¨è€ƒè™‘ Vue ç»„ä»¶ä¸­çš„ CSS å‘½åçº¦å®šã€‚

è¿™ä¸ªå‘½åçº¦å®šæ˜¯æˆ‘çš„ç­”æ¡ˆä¹‹ä¸€ã€‚å®ƒä¸å¤ªå¤æ‚ï¼Œæ˜“äºæ“ä½œã€‚

æˆ‘è€ƒè™‘äº†ä¸º Vue ç»„ä»¶å®šåˆ¶çš„ CSS å‘½åçº¦å®š
ä»¥å‰ï¼ŒSFC(å•ä¸ªæ–‡ä»¶ç»„ä»¶)ä½¿ç”¨ BEM å‘½åæ³•ï¼Œä½†æˆ‘è§‰å¾—ç¼–å†™ç»„ä»¶æ˜¯å¤šä½™çš„ã€‚æ‰€ä»¥åŸºäº ECSS çš„æƒ³æ³•ï¼Œæˆ‘é™ä¸‹å¿ƒæ¥æŒ‰ç…§ SFC å®šåˆ¶ã€‚

å®ƒå«åš *SFCSS* æ„æ€æ˜¯ SFC çš„ CSSã€‚

## [](#naming-convention-is-necessary-even-using-raw-scoped-endraw-)å³ä½¿ä½¿ç”¨`scoped`å‘½åçº¦å®šä¹Ÿæ˜¯å¿…è¦çš„

é¦–å…ˆï¼Œä½œä¸ºå…ˆå†³æ¡ä»¶ï¼Œå³ä½¿`<style scoped>`æ²¡æœ‰æ³„éœ²ç»„ä»¶çš„é£æ ¼ï¼Œå‘½åçº¦å®šä¹Ÿæ˜¯å¿…è¦çš„ã€‚æ ¹æ®`scoped`å†™å¾—æ°å¦‚å…¶åˆ†çš„ç±»åç†ç”±ï¼Œåé¢è‚¯å®šä¼šæœ‰ä»˜å‡ºã€‚

[å®˜æ–¹é£æ ¼æŒ‡å—#ç»„ä»¶é£æ ¼èŒƒå›´](https://vuejs.org/v2/style-guide/index.html#Component-style-scoping-essential)ä¸ºäº†ä¸åº”ç”¨ï¼Œéœ€è¦æ·»åŠ ä¸€ä¸ªç»„ä»¶ç‰¹å®šçš„å‰ç¼€ç­‰ç­‰ã€‚

ç„¶è€Œï¼ŒSFC çš„å¼€å‘æœ¬è´¨ä¸Šä¸åŒäºæ™®é€šç½‘ç«™ï¼Œæ‰€ä»¥æˆ‘è®¤ä¸ºå‰ç¼€ä¸ä¸€å®šæ˜¯æ­£ç¡®çš„ç­”æ¡ˆã€‚

## ECSS ä¸­å‘½åçš„ä¾‹å­

ä¾‹å¦‚ï¼ŒECSS å‘½åæ˜¯ä½¿ç”¨ä»¥ä¸‹æ¨¡å¼å®Œæˆçš„ã€‚

```
.namespace-Component_ChildNode-variant {} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

`namespace`ç»™å‡ºç»„ä»¶æ‰€å±ä½ç½®çš„å‰ç¼€ç­‰`-variant`æ˜¯è¾¹ç•Œå…ƒæ³•ä¸­çš„ä¿®é¥°è¯­ã€‚`Component`å—å’Œ`ChildNode`å…ƒç´ åœ¨å“ªé‡Œï¼Ÿ

æˆ‘ä»¬å¯¹ SFC çš„å‘½åçº¦å®šè¿›è¡Œäº†å¦‚ä¸‹ä¿®æ”¹ã€‚

## [](#sfcss)SFCSS

åœ¨ SFCSS ä¸­ï¼Œå‘½åæ˜¯é€šè¿‡ä»¥ä¸‹æ¨¡å¼å®Œæˆçš„ã€‚

```
.ComponentName {}
.ComponentName_ChildNode {}
._variant {} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åªä½¿ç”¨è¿™ä¸‰ç§æ¨¡å¼ã€‚

## [ç»„ä»¶ Name](#componentname)

`ComponentName`ä½¿ç”¨ä¸ vue ç»„ä»¶çš„`name`ç›¸åŒçš„åç§°ã€‚

```
<template>
  <div class="MyComponent"></div>
</template>

<script>
  export default {
    name: 'MyComponent',
  }
</script>

<style lang="scss" scoped>
  .MyComponent {}
</style> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

é€šè¿‡å°†æ ¹ç±»åä¸ vue ç»„ä»¶çš„`name`è¿›è¡ŒåŒ¹é…ï¼Œå¯ä»¥æ›´å®¹æ˜“åœ°ä» DOM èŠ‚ç‚¹ä¸­è¯†åˆ«ç»„ä»¶ã€‚

å¦‚æœèƒ½ä½¿ç”¨ vue-devtoolsï¼Œè¿™ä¸ªæ€è·¯å°±æ²¡å¿…è¦äº†ï¼Œä½†æ˜¯åœ¨æ²¡æœ‰ vue-devtools çš„ç”Ÿäº§ç¯å¢ƒå’Œæµè§ˆå™¨ä¸­çš„éªŒè¯ä¼šå¾ˆæœ‰ç”¨ã€‚

## [](#childnode)å­èŠ‚ç‚¹

`ChildNode`æ˜¯é™¤äº†è¦æˆäºˆç±»çš„ç»„ä»¶çš„æ ¹å…ƒç´ ä¹‹å¤–çš„å…ƒç´ ã€‚

ä¾‹å¦‚ï¼Œç”¨ä¸‹é¢çš„ç²’åº¦è®¾ç½®`ChildNode`ã€‚

```
<template>
  <div class="MyComponent">
    <h1 class="MyComponent_Heading">
      heading
    </h1>
    <ul class="MyComponent_List">
      <li class="MyComponent_ListItem"
        v-for="item in list"
      >
        {{item.label}}
      </li>
    </ul>
  </div>
</template> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

#### [](#bad-pattern)åæ¨¡å¼

åŸåˆ™ä¸Šï¼Œä¸‹é¢çš„`ChildNode`ä¸ªè¿ç»­ç±»ååº”è¯¥æ˜¯**ä¸ªä¸å¯æ¥å—çš„**ğŸ™…

```
.MyComponent_List_Item {} / * bad * / 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#variant)å˜ä½“

`variant`æ˜¯ä¸€ä¸ªç±»ï¼Œç”¨äºæ ¹æ®æ¡ä»¶æ”¹å˜æ ·å¼çš„å…ƒç´ ã€‚ECSS åŒ…å«ä¸€ä¸ªå®Œæ•´çš„é€‰æ‹©å™¨ï¼Œæ¯”å¦‚ä½œä¸ºç±»åçš„`ComponentName_ChildNode`ï¼Œä½†æ˜¯å› ä¸ºæ‚¨å¯ä»¥ä½¿ç”¨`scoped`ï¼Œæ‰€ä»¥å°†å…¶å®šä¹‰ä¸ºä¸€ä¸ªå•ç‹¬çš„ç±»ã€‚

`ComponentName`å’Œ`ChildNode`æ˜¯å¸•æ–¯å¡æ ¼ï¼Œè€Œ`variant`æ˜¯éª†é©¼æ ¼ï¼Œåœ¨ç±»åçš„å¼€å¤´ä»¥`_`å¼€å§‹ã€‚

```
._variantClassName {} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç”±äº`variant`æœ‰å¾ˆå¤šç”¨`: class`æŠŠå®ƒæ‹†ä¸‹æ¥çš„ç”¨æ³•ï¼Œæ‰€ä»¥ç”¨ä¸€ä¸ªä¸éœ€è¦å¼•å·çš„å­—ç¬¦ä¸²æ¥æ„é€ å°±å¾ˆæ–¹ä¾¿äº†ã€‚

### [](#namespace-is-unnecessary)å‘½åç©ºé—´æ˜¯ä¸å¿…è¦çš„

æˆ‘ä»¬è®¤ä¸º`namespace`åœ¨ vue ç»„ä»¶ä¸­æ˜¯ä¸å¿…è¦çš„ã€‚ECSS çš„`namespace`è¡¨ç¤ºç»„ä»¶æ‰€å±çš„åŒºåŸŸ etcï¼Œä½†ä¸éœ€è¦é™åˆ¶åœ¨ vue ç»„ä»¶ä¸­ä½¿ç”¨çš„ä½ç½®ã€‚

ç”±äº vue ç»„ä»¶å°†å…·æœ‰å”¯ä¸€çš„åç§°ï¼Œå› æ­¤æ‚¨ä¸éœ€è¦é¿å…å› å‰ç¼€è€Œå¯¼è‡´çš„åç§°å†²çªã€‚

## [](#limit-the-root-class-to-one)å°†æ ¹ç±»é™åˆ¶ä¸ºä¸€ä¸ª

åœ¨`.vue`çš„`<style>`å†…ï¼Œå°†æ ¹ç±»(`ComponentName`)é™åˆ¶ä¸ºä¸€ä¸ªã€‚åªæœ‰æ ·å¼æ˜¯ç”¨ä¸€å¯¹ä¸€çš„ç»„ä»¶æè¿°çš„ã€‚

å¦‚æœä½ æƒ³å†™ä¸€ä¸ªä»¥ä¸Šçš„æ ¹ç±»ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªæ ‡å¿—ï¼Œåˆ†æˆä¸åŒçš„ç»„æˆéƒ¨åˆ†ã€‚

## [T3 ç”¨`lang="scss"`çœç•¥ç”¨`&`çš„æè¿°](#use-raw-langscss-endraw-to-omit-description-with-raw-amp-endraw-)

ä¾‹å¦‚ï¼Œåœ¨ä¸Šé¢ä»¥`ChildNode`ä¸ºä¾‹çš„`template`ä¸­ï¼Œå°†`style`å†™æˆå¦‚ä¸‹ã€‚

```
<template>
  <div class="MyComponent">
    <h1 class="MyComponent_Heading">heading</h1>
    <ul class="MyComponent_List">
      <li class="MyComponent_ListItem"
        v-for="item in list"
        :class="{_selectedItem: isSelectedItem(item)}"
      >
        {{item.label}}
      </li>
    </ul>
  </div>
</template>

<style lang="scss" scoped>
  .MyComponent {
    &_Heading {}
    &_List {}
    &_ListItem {}
    ._selectedItem {}
  }
</style> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å°½ç®¡`template`ä¸­å¯¹ç±»åçš„æè¿°å¹¶æ²¡æœ‰å‡å°‘ï¼Œä½†æˆ‘ä»¬è®¤ä¸ºæ€»çš„æ¥è¯´`style`çœ‹èµ·æ¥æ¯”å…¨éƒ¨å†™å®Œæ•´çš„è¦å¥½ã€‚è¿™ä¸ª`& _`çœç•¥å¯¹äºåˆ’åˆ†ç»„ä»¶ä¹Ÿå¾ˆæœ‰ç”¨ã€‚

## [](#in-conclusion)æ€»ä¹‹

å½“æˆ‘åœ¨å®é™…æ¡ˆä¾‹ä¸­å°è¯•è¿™ä¸ª SFCSS æ—¶ï¼Œæˆ‘æ²¡æœ‰å—åˆ°ç»„ä»¶ç±»åçš„å›°æ‰°ã€‚æˆ‘è®¤ä¸ºå‘å±•æ­£ä»¥ä¸€ç§å¹³è¡¡çš„çŠ¶æ€è¿›è¡Œç€ï¼Œåªæ˜¯æ²¡æœ‰æ°å½“åœ°å‘½åã€‚

*æœ¬æ–‡ç”±è°·æ­Œç¿»è¯‘*ç¿»è¯‘ã€‚[æ—¥æ–‡åŸå¸–](https://qiita.com/nakajmg/items/683395c20a3afbdb2d99)