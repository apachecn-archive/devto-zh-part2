# åœ¨ Hasura GraphQL å¼•æ“ä¸Šå®£å¸ƒäº‹ä»¶è§¦å‘å™¨

> åŸæ–‡:[https://dev . to/hasura HQ/announcing-event-triggers-on-hasura-graph QL-engine-1 mio](https://dev.to/hasurahq/announcing-event-triggers-on-hasura-graphql-engine-1mio)

ç»è¿‡è¿‡å»å‡ ä¸ªæœˆçš„å¤§é‡å·¥ä½œå’Œæ±—æ°´ï¼Œæˆ‘éå¸¸é«˜å…´åœ°å®£å¸ƒä¸€ä¸ªç‰¹æ€§çš„å…¬å¼€é¢„è§ˆï¼Œè¯¥ç‰¹æ€§å…è®¸æ‚¨åœ¨æ•°æ®åº“äº‹ä»¶ä¸Šè§¦å‘ webhooksï¼

åœ¨[https://hasura.io/event-triggers](https://hasura.io/event-triggers)æ£€éªŒå®ƒï¼Œåœ¨ [Heroku](https://docs.hasura.io/1.0/graphql/manual/getting-started/heroku-simple.html) æˆ–[ç å¤´å·¥äºº](https://docs.hasura.io/1.0/graphql/manual/getting-started/docker-simple.html)ä¸Šè¯•ç”¨å®ƒã€‚

[![](../Images/6546d14f1e09bec092b7842152805600.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--6daYhMaf--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://blog.hasura.io/content/images/downloaded_images/announcing-webhook-triggers-on-database-events-for-hasura-graphql-engine-8136c15db3ef/1-rfg50zyPlOMr4tmzXk1Imw.png)

è¿™ä¸ªç‰¹æ€§æ˜¯[å¼€æº Hasura GraphQL å¼•æ“](https://github.com/hasura/graphql-engine):)çš„ä¸€éƒ¨åˆ†

<figure>[![](../Images/4dca6cbbb55d04c8f5f272f936944bfa.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--vDhQT1aJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://blog.hasura.io/content/images/downloaded_images/announcing-webhook-triggers-on-database-events-for-hasura-graphql-engine-8136c15db3ef/1-1vY0qPXJHww0g_1rRas-6Q.png) 

<figcaption>äº‹ä»¶-è§¦å‘ Postgres with Hasura</figcaption>

</figure>

ä½¿ç”¨ Hasuraï¼Œåˆ›å»ºä¸€ä¸ªäº‹ä»¶è§¦å‘å™¨æ¥ç›‘å¬ Postgres ä¸Šçš„æ•°æ®åº“æ›´æ”¹æ€»å…±éœ€è¦ 60 ç§’:

<figure>[![](../Images/1fa0e10d4b622c11d5b5540f7042a956.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--BfK-Gyrj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://blog.hasura.io/content/images/downloaded_images/announcing-webhook-triggers-on-database-events-for-hasura-graphql-engine-8136c15db3ef/1-3Yt2MiWp0w1QsmtgiDxRTw.gif) 

<figcaption>ä¸ºè¡¨æ ¼ä¸Šçš„ webhook åˆ›å»ºäº‹ä»¶è§¦å‘å™¨</figcaption>

</figure>

å†åŠ ä¸Šæ— æœåŠ¡å™¨éƒ¨ç½²ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬çš„å¼€å‘äººå‘˜å¯ä»¥éå¸¸è½»æ¾åœ°æ„å»ºä¸€äº›éå¸¸é…·çš„ä¸œè¥¿:

1.  æ·»åŠ æ–°è¯„è®ºæ—¶è§¦å‘çš„æ¨é€é€šçŸ¥
2.  æ¸…é™¤æ‚¨çš„ CDN æˆ–ç¼“å­˜ä»¥é‡æ–°å‘ˆç°æ‚¨çš„é™æ€å†…å®¹
3.  å½“æ’å…¥ã€æ›´æ–°æˆ–åˆ é™¤äº§å“æ—¶ï¼Œæ›´æ–°æœç´¢ç´¢å¼•
4.  è§¦å‘å¯ä»¥å¼‚æ­¥è¿è¡Œçš„ä¸šåŠ¡é€»è¾‘

åœ¨ç½‘ç«™ä¸ŠæŸ¥çœ‹æ›´å¤šçš„ç”¨ä¾‹ã€æ¼”ç¤ºå’Œæ•™ç¨‹:[https://hasura.io/event-triggers](https://hasura.io/event-triggers)

## [](#how-it-works)å·¥ä½œåŸç†

åœ¨äº‹ä»¶ä¸Šè§¦å‘ webhooks æ˜¯ä¸€ä¸ªçœ‹ä¼¼ç®€å•çš„ç‰¹æ€§ã€‚ç„¶è€Œï¼Œåˆ›å»ºäº‹ä»¶å’Œè§¦å‘åŠ¨ä½œæ˜¯ä¸€ä»¶å……æ»¡è¾¹ç¼˜æƒ…å†µçš„äº‹æƒ…ï¼Œæˆ‘ä»¬å·²ç»èŠ±äº†å¾ˆå¤šæ—¶é—´æ¥è§£å†³ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ä½ ä¸å¿…æ‹…å¿ƒçš„ Hasura äº‹ä»¶è§¦å‘å™¨ï¼

1.  äº‹ä»¶çš„åŸå­ç”Ÿæˆ:å¦‚æœæ•°æ®åº“ä¸­å‘ç”Ÿäº†ä»€ä¹ˆï¼Œé‚£ä¹ˆäº‹ä»¶å°±ä¼šè¢«æ•è·ğŸ’¯%.ä»»ä½•æ¥æºçš„æ•°æ®åº“æ›´æ”¹éƒ½æ˜¯å…¬å¹³çš„ã€‚GraphQL å˜ç§ã€é—ç•™ REST APIã€cron-jobã€ç›´æ¥ SQL æ›´æ”¹ã€‚äº‹å®ä¸Šï¼Œå¦‚æœ Hasura æ²¡æœ‰è¿è¡Œï¼Œç”šè‡³ä¼šé€šè¿‡é‡å¯æˆ–éƒ¨ç½²éƒ¨ç½²æ¥æ•è·äº‹ä»¶ã€‚
2.  äº‹ä»¶çš„å¯é äº¤ä»˜:æ‚¨å¯ä»¥é…ç½®é‡è¯•é€»è¾‘å’Œé‡è¯•é—´éš”ã€‚
3.  æ°´å¹³å¯ä¼¸ç¼©æ€§:æ‚¨æƒ³æ›´å¿«åœ°äº¤ä»˜æ›´å¤šäº‹ä»¶å—ï¼Ÿåªéœ€æ°´å¹³ç¼©æ”¾ Hasura å¹¶ä¿æŒå†·é™ã€‚
4.  è°ƒè¯•å’Œå¯è§‚å¯Ÿæ€§:æ„å»ºå¼‚æ­¥é€»è¾‘ï¼Œå°¤å…¶æ˜¯ä½¿ç”¨æ— æœåŠ¡å™¨å‡½æ•°ï¼Œå½“ä½ å°è¯•ä¸€äº›ä¸œè¥¿çš„æ—¶å€™æ˜¯å¦‚æ­¤æœ‰è¶£ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç”Ÿäº§ä¸­å¦‚æ­¤å¤šçš„å™©æ¢¦ã€‚è¿™å¾ˆå¤§ä¸€éƒ¨åˆ†æ˜¯å› ä¸ºåœ¨æ–°çš„ sphagetti åç«¯ä¸­è°ƒè¯•å’Œè·Ÿè¸ªäº‹ä»¶éœ€è¦é¢å¤–çš„å·¥å…·ã€‚æœ‰äº† Hasuraï¼Œäº‹ä»¶å’Œè°ƒç”¨å·²ç»è¢«å·¥å…·åŒ–äº†ï¼Œé«˜åº¦ç»“æ„åŒ–å’Œä¿¡æ¯ä¸°å¯Œçš„æ—¥å¿—è®©ä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°ç”¨ä½ æœ€å–œæ¬¢çš„å·¥å…·è·Ÿè¸ªä»é”™è¯¯åˆ°å»¶è¿Ÿé—®é¢˜çš„ä¸€åˆ‡:)

## [](#realtime-graphql-serverless-triggered-by-database-events)å®æ—¶ GraphQL â¤ï¸æ— æœåŠ¡å™¨æ•°æ®åº“äº‹ä»¶è§¦å‘

æˆ‘ä¸ªäººæœ€å…´å¥‹çš„æ˜¯å®æ—¶ GraphQL(å®æ—¶æŸ¥è¯¢)å’Œå¼‚æ­¥ä¸šåŠ¡é€»è¾‘çš„æ€æ‰‹çº§ç»„åˆã€‚