# Swift çš„æ“åœºé©±åŠ¨å¼€å‘

> åŸæ–‡:[https://dev . to/on myway 133/playground-driven-development-in-swift-3ga 9](https://dev.to/onmyway133/playground-driven-development-in-swift-3ga9)

[![](../Images/5df0823820b6715702efca615b76fe56.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--KLFB9KjP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2AEbrVuz1m60emAKFrBdboCg.png)

## éœ€è¦å¿«é€Ÿè°ƒæ•´ UI

ä½œä¸ºç§»åŠ¨å¼€å‘äººå‘˜ï¼Œæˆ‘ä»¬çš„ä½¿å‘½æ˜¯ä¸ºæœ€ç»ˆç”¨æˆ·æä¾›æœ€ä½³çš„ç”¨æˆ·ä½“éªŒï¼Œé€šè¿‡ä¸“ç”¨åº”ç”¨ç¨‹åºè®©ä»–ä»¬çš„ç”Ÿæ´»æ›´ç²¾å½©ã€æ›´è½»æ¾ã€‚å…¶ä¸­ä¸€é¡¹ä»»åŠ¡æ˜¯ç¡®ä¿ç”¨æˆ·ç•Œé¢ï¼Œå³ç”¨æˆ·çœ‹åˆ°çš„ä¸œè¥¿ï¼Œçœ‹èµ·æ¥æ˜¯å¥½çš„å’Œæ­£ç¡®çš„ã€‚å¤§å¤šæ•°æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥è¯´ app æ˜¯æ•°æ®çš„ç¾åŒ–å™¨ã€‚æˆ‘ä»¬ä¸»è¦ä»åç«¯è·å– JSON æ•°æ®ï¼Œå°†å…¶è§£æä¸ºæ¨¡å‹ï¼Œç„¶åä½¿ç”¨ UIView(ä¸»è¦æ˜¯ UITableView æˆ– UICollectionView)å‘ˆç°å®ƒã€‚

å¯¹äº iOSï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®è®¾è®¡ä¸æ–­è°ƒæ•´ç”¨æˆ·ç•Œé¢ï¼Œä½¿å…¶é€‚åˆå°å‹æ‰‹æŒè®¾å¤‡ã€‚è¿™ä¸ªè¿‡ç¨‹åŒ…æ‹¬æˆ‘ä»¬ä¿®æ”¹ä»£ç ã€ç¼–è¯‘ã€ç­‰å¾…ã€æ£€æŸ¥ï¼Œç„¶åä¿®æ”¹ä»£ç ç­‰ç­‰â€¦â€¦åƒ[æ— ç‘•åº”ç”¨](https://flawlessapp.io/)è¿™æ ·çš„å·¥å…·æœ‰åŠ©äºè½»æ¾æ¯”è¾ƒ iOS åº”ç”¨å’Œè‰å›¾è®¾è®¡çš„ç»“æœã€‚ä½†æ˜¯çœŸæ­£çš„ç—›è‹¦åœ¨äº[ç¼–è¯‘](https://medium.com/@johnsundell/improving-swift-compile-times-ee1d52fb9bd)çš„éƒ¨åˆ†ï¼Œè¿™éƒ¨åˆ†èŠ±è´¹çš„æ—¶é—´æœ€å¤šï¼Œè€Œå¯¹äº [Swift](https://github.com/fastred/Optimizing-Swift-Build-Times) æ¥è¯´å°±æ›´ç³Ÿç³•äº†ã€‚å¿«é€Ÿè¿­ä»£ä¼šé™ä½æˆ‘ä»¬çš„æ•ˆç‡ã€‚çœ‹èµ·æ¥åƒæ˜¯ç¼–è¯‘å™¨åœ¨å‡è£…ç¼–è¯‘çš„åŒæ—¶å·å·æŒ–æ˜æ¯”ç‰¹å¸ğŸ˜…

å¦‚æœä½ ç”¨ [React](https://reactjs.org/) å·¥ä½œï¼Œä½ çŸ¥é“å®ƒä»…ä»…æ˜¯çŠ¶æ€ UI = f(state)çš„ UI è¡¨ç¤ºã€‚ä½ å¾—åˆ°ä¸€äº›æ•°æ®ï¼Œä½ æ„å»ºä¸€ä¸ª UI æ¥è¡¨ç¤ºå®ƒã€‚React æœ‰[çƒ­åŠ è½½å™¨](https://github.com/gaearon/react-hot-loader)å’Œ[æ•…äº‹ä¹¦](https://github.com/storybooks/storybook)ï¼Œè¿™ä½¿å¾—å®ƒå¯ä»¥è¶…å¿«åœ°è¿›è¡Œ UI è¿­ä»£ã€‚ä½ åšäº†ä¸€äº›æ”¹å˜ï¼Œå¹¶ç«‹å³çœ‹åˆ°ç»“æœã€‚æ‚¨è¿˜å¯ä»¥è·å¾—æ¯ä¸ªçŠ¶æ€çš„æ‰€æœ‰å¯èƒ½ ui çš„å®Œæ•´æ¦‚è¿°ã€‚ä½ çŸ¥é“ä½ æƒ³åœ¨ iOS ä¸­å¾—åˆ°åŒæ ·çš„ä¸œè¥¿ï¼

## æ¸¸ä¹åœº

åœ¨ WWDC 2014 æ¨å‡º Swift çš„åŒæ—¶ï¼Œè‹¹æœè¿˜æ¨å‡ºäº† Playgroundï¼Œæ®è¯´è¿™æ˜¯â€œæ¢ç´¢ Swift ç¼–ç¨‹è¯­è¨€çš„ä¸€ç§æ–°çš„åˆ›æ–°æ–¹å¼â€ã€‚

ä¸€å¼€å§‹æˆ‘å¹¶ä¸å¤ªç›¸ä¿¡ï¼Œæˆ‘çœ‹åˆ°äº†å¾ˆå¤šå…³äºæ…¢æˆ–ååº”è¿Ÿé’çš„æ“åœºçš„æŠ±æ€¨ã€‚ä½†åœ¨çœ‹åˆ° [Kickstarter iOS åº”ç”¨](https://github.com/kickstarter/ios-oss)ä½¿ç”¨ Playground æ¥åŠ å¿«ä»–ä»¬çš„é€ å‹å’Œå¼€å‘è¿‡ç¨‹åï¼Œç»™æˆ‘ç•™ä¸‹äº†æ·±åˆ»çš„å°è±¡ã€‚æ‰€ä»¥æˆ‘å¼€å§‹åœ¨ä¸€äº›åº”ç”¨ç¨‹åºä¸­æˆåŠŸåœ°ä½¿ç”¨å®ƒã€‚å®ƒä¸ä¼šåƒ [React Native](https://facebook.github.io/react-native/) æˆ– [Injection App](http://johnholdsworth.com/injection.html) é‚£æ ·ç«‹å³é‡æ–°æ¸²æŸ“ï¼Œä½†å¸Œæœ›è¿™äº›å¹´å®ƒä¼šå˜å¾—æ›´å¥½ğŸ˜‡

æˆ–è€…è‡³å°‘å®ƒå–å†³äºå¼€å‘ç¤¾åŒºã€‚Playground çš„æƒ…å†µæ˜¯ï¼Œæˆ‘ä»¬ä¸€æ¬¡åªè®¾è®¡ä¸€ä¸ªå±å¹•æˆ–ç»„ä»¶ã€‚è¿™è¿«ä½¿æˆ‘ä»”ç»†è€ƒè™‘ä¾èµ–æ€§ï¼Œæ‰€ä»¥æˆ‘å¯ä»¥å¯¼å…¥ä¸€ä¸ªç‰¹å®šçš„å±å¹•ï¼Œå¹¶åœ¨ Playground ä¸­è¿­ä»£ã€‚

## è‡ªå®šä¹‰æ¸¸ä¹åœºæ¡†æ¶

Xcode 9 å…è®¸åœ¨ Playground ä¸­å¯¼å…¥[è‡ªå®šä¹‰æ¡†æ¶ï¼Œåªè¦æ¡†æ¶å’Œ Playground åœ¨åŒä¸€ä¸ªå·¥ä½œåŒºã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨](https://help.apple.com/xcode/mac/9.0/#/devc9b33111c) [Carthage](https://github.com/Carthage/Carthage) è·å–è‡ªå®šä¹‰æ¡†æ¶å¹¶æ„å»ºå®ƒã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬ä½¿ç”¨æ¤°å­ï¼Œé‚£ä¹Ÿæ˜¯å¯è¡Œçš„ã€‚

[![](../Images/bc637fad95c49fb3994b1d7134c287ce.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Y28vhOub--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2394/1%2AZYy8VCrA3i2tI3zpIXwmEw.png)

## åˆ›å»º app æ¡†æ¶

å¦‚æœ Playground ä½œä¸ºåµŒå¥—é¡¹ç›®æ·»åŠ ï¼Œåˆ™ Playground ä¸èƒ½è®¿é—®åŒä¸€å·¥ä½œåŒºæˆ–çˆ¶é¡¹ç›®ä¸­çš„ä»£ç ã€‚ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦åˆ›å»ºä¸€ä¸ªæ¡†æ¶ï¼Œå¹¶æ·»åŠ æ‚¨æ‰“ç®—åœ¨ Playground ä¸­ä½¿ç”¨çš„æºæ–‡ä»¶ã€‚å§‘ä¸”ç§°ä¹‹ä¸º app æ¡†æ¶å§ã€‚

æœ¬æ–‡çš„[æ¼”ç¤º](https://github.com/onmyway133/UsingPlayground)æ˜¯ä¸€ä¸ªä½¿ç”¨ CocoaPods ç®¡ç†ä¾èµ–å…³ç³»çš„ iOS é¡¹ç›®ã€‚è¿™ä¸ªå¸–å­çš„æ—¶é—´ï¼Œæ˜¯ Xcode 9.3 å’Œ Swift 4.1ã€‚

è®©æˆ‘ä»¬é€šè¿‡ä½¿ç”¨ CocoaPods çš„é¡¹ç›®æ¥å®Œæˆæ“åœºå·¥ä½œçš„æ­¥éª¤ã€‚ä¹Ÿæœ‰ä¸€äº›å¥½çš„åšæ³•ã€‚

### ç¬¬ä¸€æ­¥:æ·»åŠ  pod

æˆ‘ä¸»è¦ä½¿ç”¨ CocoaPods æ¥ç®¡ç†ä¾èµ–å…³ç³»ã€‚åœ¨æŸäº›å±å¹•ä¸­ï¼Œè‚¯å®šä¼šæ¶‰åŠåˆ°ä¸€äº› podã€‚å› æ­¤ï¼Œä¸ºäº†è®©æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ¡†æ¶å·¥ä½œï¼Œå®ƒéœ€è¦ä¸ä¸€äº› pod é“¾æ¥ã€‚

åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œå§‘ä¸”ç§°ä¹‹ä¸º UsingPlaygroundã€‚è¯¥åº”ç”¨ç¨‹åºæ˜¾ç¤ºæŸç§çº¸å±‘é¢—ç²’ğŸŠã€‚æœ‰è®¸å¤šé€‰é¡¹å¯ä»¥è°ƒæ•´è¿™äº›ç²’å­çš„æ˜¾ç¤ºæ–¹å¼ï¼Œæˆ‘é€‰æ‹© Playground æ¥è¿­ä»£ã€‚

å¯¹äºè¿™ä¸ªæ¼”ç¤ºï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ CocoaPods æ¥è·å–ä¸€ä¸ªåä¸º [Cheers](https://github.com/hyperoslo/Cheers) çš„ä¾èµ–é¡¹ï¼Œå› ä¸ºæˆ‘ä»¬æƒ³è¦ä¸€äº›æœ‰è¶£çš„ä¸œè¥¿ã€‚å¦‚æœä½ æƒ³ç”¨ä¸€äº›æˆå°±æ¥ç¥è´ºç”¨æˆ·ï¼ŒCheers æœ‰åŠ©äºæ˜¾ç¤ºèŠ±å“¨çš„äº”å½©çº¸å±‘æ•ˆæœã€‚

ä½¿ç”¨ UsingPlayground ä½œä¸º app [ç›®æ ‡](https://guides.cocoapods.org/syntax/podfile.html#target)åˆ›å»ºä¸€ä¸ª Podfile:

### æ­¥éª¤ 2:åœ¨åº”ç”¨ç¨‹åºé¡¹ç›®ä¸­ä½¿ç”¨ pod

è¿è¡Œ pod install åï¼ŒCocoaPods ä¼šç”Ÿæˆä¸€ä¸ªåŒ…å« 2 ä¸ªé¡¹ç›®çš„æ–°å·¥ä½œåŒºã€‚ä¸€ä¸ªæ˜¯æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºé¡¹ç›®ï¼Œå¦ä¸€ä¸ªæ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰ pod çš„é¡¹ç›®ï¼Œç°åœ¨åªæœ‰æ¬¢å‘¼ã€‚å…³é—­æ‚¨çš„é¡¹ç›®å¹¶æ‰“å¼€ç”Ÿæˆçš„å·¥ä½œç©ºé—´ã€‚

è¿™éå¸¸ç®€å•ï¼Œåªæ˜¯ä¸ºäº†ç¡®ä¿ pod æ­£å¸¸å·¥ä½œã€‚ç¼–å†™ä¸€äº›ä»£ç æ¥ä½¿ç”¨ Cheers:

æ„å»ºå¹¶è¿è¡Œé¡¹ç›®ï¼Œäº«å—ä¸€ä¸ªéå¸¸è¿·äººçš„äº”å½©çº¸å±‘ğŸŠ

### ç¬¬ä¸‰æ­¥:æ·»åŠ  CocoaTouch æ¡†æ¶

ä¸ºäº†è®©æˆ‘ä»¬çš„ä»£ç åœ¨ Playground ä¸­å¯è®¿é—®ï¼Œæˆ‘ä»¬éœ€è¦å°†å®ƒè®¾ç½®åˆ°ä¸€ä¸ªæ¡†æ¶ä¸­ã€‚åœ¨ iOS ä¸­ï¼Œå®ƒæ˜¯ CocoaTouch æ¡†æ¶ç›®æ ‡ã€‚

åœ¨æ‚¨çš„å·¥ä½œåŒºä¸­ï¼Œé€‰æ‹© UsingPlayground é¡¹ç›®å¹¶æ·»åŠ æ–°çš„ CocoaTouch æ¡†æ¶ã€‚è¿™æ˜¯åŒ…å«æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä»£ç çš„æ¡†æ¶ã€‚å§‘ä¸”ç§°ä¹‹ä¸º AppFramework å§ã€‚

[![](../Images/95da1138a7a0115f8ce34d7d8394f463.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--oahFHhhc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/0%2A0C17R-Oym31N9BYA.png)

ç°åœ¨å°†æ‚¨æƒ³è¦æµ‹è¯•çš„æºæ–‡ä»¶æ·»åŠ åˆ°è¿™ä¸ªæ¡†æ¶ä¸­ã€‚ç°åœ¨ï¼Œåªéœ€æ£€æŸ¥æ–‡ä»¶ ViewController.swift å¹¶å°†å…¶æ·»åŠ åˆ° AppFramework ç›®æ ‡ä¸­ã€‚

[![](../Images/f5c047df7b6b3e4f382854b5c6fb8508.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--rFAc0Dk9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2AJap3CnRcDmSyo-4aykWsLA.png)

å¯¹äºè¿™ä¸ªç®€å•çš„é¡¹ç›®ï¼Œåªæœ‰ä¸€ä¸ª ViewController.swiftã€‚å¦‚æœè¯¥æ–‡ä»¶å¼•ç”¨äº†å…¶ä»–æ–‡ä»¶ä¸­çš„ä»£ç ï¼Œæ‚¨ä¹Ÿéœ€è¦å°†ç›¸å…³æ–‡ä»¶æ·»åŠ åˆ° AppFramework ç›®æ ‡ä¸­ã€‚è¿™å°±æ˜¯ä½ åº”è¯¥å¦‚ä½•å·§å¦™å¤„ç†[ä¾èµ–](https://en.wikipedia.org/wiki/Dependency_inversion_principle)çš„åŸå› ã€‚

### æ­¥éª¤ 4:å‘ AppFramework æ·»åŠ æ–‡ä»¶

iOS ä¸­çš„ ViewController å¤§éƒ¨åˆ†ä½äº UI å±‚ï¼Œæ‰€ä»¥å®ƒåº”è¯¥åªæ˜¯è·å–è§£æåçš„æ•°æ®ï¼Œå¹¶ä½¿ç”¨ UI ç»„ä»¶å‘ˆç°å‡ºæ¥ã€‚å¦‚æœä½ æœ‰ä¸€äº›é€»è¾‘ï¼Œè¿™äº›å¯èƒ½æ¶‰åŠå…¶ä»–éƒ¨åˆ†ï¼Œå¦‚ç¼“å­˜ï¼Œç½‘ç»œï¼Œâ€¦è¿™éœ€è¦ä½ æ·»åŠ æ›´å¤šçš„æ–‡ä»¶åˆ° AppFrameworkã€‚å°çš„ã€ç‹¬ç«‹çš„æ¡†æ¶æ›´åˆç†ï¼Œå…è®¸æˆ‘ä»¬å¿«é€Ÿè¿­ä»£ã€‚

æ“åœºæ²¡æœ‰é­”åŠ›ã€‚æ¯æ¬¡æ›´æ”¹ä»£ç æ—¶ï¼Œæ‚¨éƒ½éœ€è¦ç¼–è¯‘ AppFrameworkï¼Œå¦åˆ™è¿™äº›æ›´æ”¹ä¸ä¼šåæ˜ åœ¨æ‚¨çš„æ¸¸æˆä¸­ã€‚å¦‚æœæ‚¨ä¸ä»‹æ„ç¼“æ…¢çš„ç¼–è¯‘æ—¶é—´ï¼Œæ‚¨å¯ä»¥å°†æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ° AppFramework ä¸­ã€‚ç®€å•åœ°æ‰©å±•ç»„æ–‡ä»¶å¤¹ï¼Œé€‰æ‹©å’Œæ·»åŠ æ–‡ä»¶åˆ°ç›®æ ‡éœ€è¦å¾ˆå¤šæ—¶é—´ã€‚æ›´ä¸ç”¨è¯´ï¼Œå¦‚æœä½ åŒæ—¶é€‰æ‹©äº†æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ï¼Œä½ å°†æ— æ³•å°†å®ƒä»¬æ·»åŠ åˆ°ä½ ç›®æ ‡ä¸­ã€‚æ‚¨åªèƒ½å‘ç›®æ ‡æ·»åŠ æ–‡ä»¶ã€‚

[![](../Images/8d131f1c521131a54be28a1f27340bc9.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--3geVztYA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2AcOThYP8EGPrjsDnx06Zg1A.png)

æ›´å¿«çš„æ–¹æ³•æ˜¯åœ¨ AppFramework ç›®æ ‡æ„å»ºé˜¶æ®µç¼–è¯‘æºä»£ç ã€‚è¿™é‡Œæ‰€æœ‰çš„æ–‡ä»¶éƒ½ä¼šè‡ªåŠ¨å±•å¼€ï¼Œä½ éœ€è¦åšçš„å°±æ˜¯é€‰æ‹©å®ƒä»¬å¹¶ç‚¹å‡» Addã€‚

[![](../Images/0749e9b1315345f161988a86dc7c0d26.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--4P12-u_M--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2586/1%2AbROv-S-aMElSPB7BpEOhwA.png)

### ç¬¬äº”æ­¥:å…¬å¼€

é»˜è®¤æƒ…å†µä¸‹ï¼ŒSwift ç±»å‹å’Œæ–¹æ³•æ˜¯å†…éƒ¨çš„ã€‚æ‰€ä»¥ä¸ºäº†è®©å®ƒä»¬åœ¨æ“åœºä¸Šå¯è§ï¼Œæˆ‘ä»¬éœ€è¦å°†å®ƒä»¬å£°æ˜ä¸º publicã€‚è¯·éšæ„é˜…è¯»æœ‰å…³ Swift ä¸­[è®¿é—®çº§åˆ«](https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AccessControl.html#//apple_ref/doc/uid/TP40014097-CH41-ID5)çš„æ›´å¤šä¿¡æ¯:

> *å¼€æ”¾è®¿é—®*å’Œ*å…¬å…±è®¿é—®*ä½¿å®ä½“å¯ä»¥åœ¨å®ƒä»¬çš„å®šä¹‰æ¨¡å—çš„ä»»ä½•æºæ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨å¯¼å…¥è¯¥å®šä¹‰æ¨¡å—çš„å¦ä¸€ä¸ªæ¨¡å—çš„æºæ–‡ä»¶ä¸­ä½¿ç”¨ã€‚å½“æŒ‡å®šæ¡†æ¶çš„å…¬å…±æ¥å£æ—¶ï¼Œé€šå¸¸ä½¿ç”¨å¼€æ”¾æˆ–å…¬å…±è®¿é—®ã€‚

### ç¬¬å…­æ­¥:å‘ AppFramework æ·»åŠ  pod

ä¸ºäº†è®© AppFramework ä½¿ç”¨æˆ‘ä»¬çš„ podï¼Œæˆ‘ä»¬è¿˜éœ€è¦å°†è¿™äº› pod æ·»åŠ åˆ°æ¡†æ¶ç›®æ ‡ä¸­ã€‚å°†ç›®æ ‡â€œAppFrameworkâ€æ·»åŠ åˆ°æ‚¨çš„ Podfile:

ç°åœ¨å†æ¬¡è¿è¡Œ pod å®‰è£…ã€‚åœ¨ä¸€äº›ç½•è§çš„æƒ…å†µä¸‹ï¼Œæ‚¨éœ€è¦è¿è¡Œ pod è§£é™¤é›†æˆå’Œ pod å®‰è£…æ¥ä»å¤´å¼€å§‹ã€‚

### ç¬¬ä¸ƒæ­¥:æ·»åŠ æ¸¸ä¹åœº

æ·»åŠ ä¸€ä¸ªæ“åœºï¼Œå¹¶å°†å…¶æ‹–åŠ¨åˆ°æˆ‘ä»¬çš„å·¥ä½œåŒºã€‚è®©æˆ‘ä»¬ç§°å®ƒä¸ºæˆ‘çš„æ“åœºå§ã€‚

[![](../Images/9d4ab507fdbb81859d31884e8a273ab8.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--oxslg2tR--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2Aj9II1EmZWpOCFiY3TQl0YA.png)

[![](../Images/259e265c88460f4d3403bbc252f4b648.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--cj1WLFR2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2A8YWhaZtgb7aSQF1pthuNZA.png)

### ç¬¬å…«æ­¥:äº«å—

ç°åœ¨æ˜¯æœ€åä¸€æ­¥:ç¼–å†™ä¸€äº›ä»£ç ã€‚è¿™é‡Œæˆ‘ä»¬éœ€è¦å¯¼å…¥æˆ‘ä»¬çš„ AppFramework å’Œæˆ‘ä»¬æ“åœºä¸Šçš„ Cheersã€‚æˆ‘ä»¬éœ€è¦å¯¼å…¥æ“åœºä¸Šä½¿ç”¨çš„æ‰€æœ‰ podï¼Œå°±åƒæˆ‘ä»¬åœ¨åº”ç”¨ç¨‹åºé¡¹ç›®ä¸­æ‰€åšçš„ä¸€æ ·ã€‚

Playground æœ€é€‚åˆç‹¬ç«‹æµ‹è¯•æˆ‘ä»¬çš„æ¡†æ¶æˆ–æˆ‘ä»¬çš„åº”ç”¨ã€‚é€‰æ‹© MyPlayground å¹¶åœ¨ä¸‹é¢è¾“å…¥ä»£ç ã€‚è¿™é‡Œæˆ‘ä»¬å‘Šè¯‰ liveView æ¸²æŸ“æˆ‘ä»¬çš„ ViewController:

æœ‰æ—¶ä½ æƒ³æµ‹è¯•ä½ æƒ³ä½¿ç”¨çš„åŠèˆ±çš„ä¸€éƒ¨åˆ†ã€‚åˆ›å»ºä¸€ä¸ªåä¸º CheersAlone çš„æ–°æ¸¸ä¹åœºé¡µé¢ã€‚è¿™é‡Œä½ åªéœ€è¦å¯¼å…¥ Cheersã€‚

[![](../Images/e3d50024176987a931e7be60135e23c2.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--qFpbZ14A--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2Ak6eGq11QDCwJInOxGBf9AQ.png)

è®©æˆ‘ä»¬ä½¿ç”¨ PlaygroundPage çš„ [liveView](https://developer.apple.com/documentation/playgroundsupport/playgroundpage/1964506-liveview) æ¥æ˜¾ç¤ºä¸€ä¸ªå®æ—¶è§†å›¾ã€‚è®°å¾—åˆ‡æ¢ç¼–è¾‘å™¨æ¨¡å¼ï¼Œè¿™æ ·ä½ å°±å¯ä»¥çœ‹åˆ°æ“åœºçš„ç»“æœã€‚å’ŒğŸ‰

[![](../Images/34facb59c68f92118e8e4f646156f018.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--9c6f8cii--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2880/1%2AfY6TpydIPaDMRUBudSLopw.png)

Xcode çš„åº•éƒ¨é¢æ¿æœ‰ä¸€ä¸ªæŒ‰é’®ã€‚æ‚¨å¯ä»¥åœ¨è‡ªåŠ¨è¿è¡Œå’Œæ‰‹åŠ¨è¿è¡Œè¡Œä¸ºä¹‹é—´åˆ‡æ¢ã€‚è€Œä¸”ä½ å¯ä»¥è‡ªå·±åœä¸‹æ¥å¼€å§‹æ¸¸ä¹åœºã€‚ç›¸å½“æ•´æ´ğŸ¤˜

## æ¡¥æ¥è¡¨å¤´

æ‚¨çš„åº”ç”¨ç¨‹åºå¯èƒ½éœ€è¦å¤„ç†ä¸€äº›é¢„æ„å»ºçš„äºŒè¿›åˆ¶ podï¼Œè¿™äº› pod é€šè¿‡ header å…¬å¼€ APIã€‚åœ¨ä¸€äº›åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä½¿ç”¨ [BuddyBuildSDK](https://cocoapods.org/?q=buddybuildsdk) è¿›è¡Œå´©æºƒæŠ¥å‘Šã€‚å¦‚æœä½ çœ‹ä¸€ä¸‹å®ƒçš„ [podspec](https://github.com/CocoaPods/Specs/blob/master/Specs/d/4/5/BuddyBuildSDK/1.0.17/BuddyBuildSDK.podspec.json#L24) ï¼Œä½ ä¼šçœ‹åˆ°å®ƒä½¿ç”¨äº†ä¸€ä¸ªåä¸º BuddyBuildSDK.h çš„å…¬å…±å¤´ã€‚åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºé¡¹ç›®ä¸­ï¼ŒCocoaPods å¾ˆå¥½åœ°ç®¡ç†äº†è¿™ä¸€ç‚¹ã€‚ä½ æ‰€éœ€è¦åšçš„å°±æ˜¯é€šè¿‡ Bridging-Header.h å°†æ ‡é¢˜å¯¼å…¥åˆ°ä½ çš„åº”ç”¨ç›®æ ‡ä¸­

å¦‚æœä½ éœ€è¦å¤ä¹ å¦‚ä½•ä½¿ç”¨æ¡¥æ¥å¤´ï¼Œè¯·é˜…è¯»åŒä¸€é¡¹ç›®ä¸­çš„ [Swift å’Œ Objective-Cã€‚](https://developer.apple.com/library/content/documentation/Swift/Conceptual/BuildingCocoaApps/MixandMatch.html)

åªéœ€ç¡®ä¿å¤´çš„è·¯å¾„æ˜¯æ­£ç¡®çš„:

[![](../Images/65f67084ff2a7cf1abb2f793f09ec974.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--eQD6EwQO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2322/1%2AibjorHdbDd_XMSRGOf3J8Q.png)

### ç¬¬ä¸€æ­¥:å¯¼å…¥æ¡¥æ¥è¡¨å¤´

ä½†æ˜¯æˆ‘ä»¬çš„ AppFramework ç›®æ ‡å°†å¾ˆéš¾æ‰¾åˆ° BuddyBuildSDK.h

> ä¸æ”¯æŒå¯¹æ¡†æ¶ç›®æ ‡ä½¿ç”¨æ¡¥æ¥å¤´

è§£å†³æ–¹æ¡ˆæ˜¯åœ¨ä½ çš„ AppFramework.h é‡Œé¢å¼•ç”¨é‚£ä¸ªæ¡¥æ¥å¤´

[![](../Images/dfd607d9f389a2af9e68da225965e480.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--6kUh--vh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2AiKT_k0n8gozJSEAxvx2uUA.png)

### ç¬¬äºŒæ­¥:å…¬å…±è¡¨å¤´

åšå®Œä»¥ä¸Šï¼Œä½ ä¼šå¾—åˆ°

> åŒ…æ‹¬æ¡†æ¶æ¨¡å—å†…çš„éæ¨¡å—åŒ–å¤´éƒ¨

ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦å°† Bridging-Header.h æ·»åŠ åˆ°æ¡†æ¶ä¸­ï¼Œå¹¶å°†å…¶å£°æ˜ä¸º publicã€‚åœ¨é”€å”®è®¢å•ä¸Šæœç´¢æ˜¾ç¤ºæ­¤[æŠ¥ä»·](https://stackoverflow.com/questions/7439192/xcode-copy-headers-public-vs-private-vs-project)

> **Public:** è¿™ä¸ªæ¥å£å·²ç»å®Œæˆï¼Œå¹¶æ‰“ç®—ä¾›ä½ çš„äº§å“çš„å®¢æˆ·ä½¿ç”¨ã€‚å…¬å…±å¤´æ–‡ä»¶ä½œä¸ºå¯è¯»æºä»£ç åŒ…å«åœ¨äº§å“ä¸­ï¼Œæ²¡æœ‰ä»»ä½•é™åˆ¶ã€‚
> **Private:** è¿™ä¸ªç•Œé¢ä¸æ˜¯ä¸ºä½ çš„å®¢æˆ·è®¾è®¡çš„ï¼Œæˆ–è€…å®ƒè¿˜å¤„äºå¼€å‘çš„æ—©æœŸé˜¶æ®µã€‚äº§å“ä¸­åŒ…å«ä¸€ä¸ªç§æœ‰æ ‡é¢˜ï¼Œä½†å®ƒæ ‡è®°ä¸ºâ€œç§æœ‰â€ã€‚å› æ­¤ï¼Œè¿™äº›ç¬¦å·å¯¹æ‰€æœ‰å®¢æˆ·éƒ½æ˜¯å¯è§çš„ï¼Œä½†æ˜¯å®¢æˆ·åº”è¯¥æ˜ç™½ä»–ä»¬ä¸åº”è¯¥ä½¿ç”¨å®ƒä»¬ã€‚
> **é¡¹ç›®:**è¯¥æ¥å£ä»…ä¾›å½“å‰é¡¹ç›®ä¸­çš„å®ç°æ–‡ä»¶ä½¿ç”¨ã€‚é™¤äº†åœ¨ç›®æ ‡ä»£ç ä¸­ï¼Œé¡¹ç›®å¤´ä¸åŒ…æ‹¬åœ¨ç›®æ ‡ä¸­ã€‚å®¢æˆ·æ ¹æœ¬çœ‹ä¸åˆ°è¿™äº›ç¬¦å·ï¼Œåªæœ‰æ‚¨èƒ½çœ‹åˆ°ã€‚

å› æ­¤ï¼Œé€‰æ‹© Bridging-Header.h å¹¶å°†å…¶æ·»åŠ åˆ° AppFrameworkï¼Œå¹¶å°†å¯è§æ€§è®¾ç½®ä¸º public:

[![](../Images/5eee5044716874c92320bbdfade54791.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--UhI97qgi--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2852/1%2AMp-FeCeU9qtEWc5Thx75PA.png)

å¦‚æœä½ è¿›å…¥ AppFramework çš„æ„å»ºé˜¶æ®µï¼Œä½ ä¼šåœ¨é‚£é‡Œçœ‹åˆ° 2 ä¸ªå¤´æ–‡ä»¶ã€‚

[![](../Images/ba73b74a63814a0f49987ce3c7e107d1.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--HzxLlP_f--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2570/1%2AnQv6XSSH_-ptsDX_nUOQHg.png)

ç°åœ¨ï¼Œé€‰æ‹© scheme AppFramework å¹¶ç‚¹å‡» Buildï¼Œå®ƒåº”è¯¥ç¼–è¯‘æ²¡æœ‰ä»»ä½•é”™è¯¯ã€‚

## å­—ä½“ã€æœ¬åœ°åŒ–å­—ç¬¦ä¸²ã€å›¾åƒå’Œæ†ç»‘

æˆ‘ä»¬çš„å±å¹•ä¸ä»…ä»…åŒ…å«æ¥è‡ªå¦ä¸€ä¸ªåŠèˆ±çš„è§†å›¾ã€‚æ›´å¸¸è§çš„æ˜¯ï¼Œæˆ‘ä»¬ä¼šå±•ç¤ºæ†ç»‘åŒ…ä¸­çš„æ–‡æœ¬å’Œå›¾åƒã€‚è®©æˆ‘ä»¬å‘æˆ‘ä»¬çš„èµ„äº§ç›®å½•å’Œ Localizable.strings æ·»åŠ ä¸€ä¸ªé’¢é“ä¾ å›¾åƒã€‚

è¿™é‡Œæˆ‘ä½¿ç”¨[é”š](https://github.com/onmyway133/Anchors)æ¥æ–¹ä¾¿å’Œå£°æ˜æ€§çš„è‡ªåŠ¨å¸ƒå±€ğŸ¤˜ã€‚è¿™ä¹Ÿæ˜¯ä¸ºäº†ç¨åå±•ç¤º Swift Playground å¦‚ä½•å¤„ç†ä»»æ„æ•°é‡çš„æ¡†æ¶ã€‚

ç°åœ¨ï¼Œä½¿ç”¨ Playground é€‰æ‹©åº”ç”¨ç¨‹åºæ–¹æ¡ˆï¼Œå¹¶ç‚¹å‡»æ„å»ºå’Œè¿è¡Œã€‚è¯¥åº”ç”¨ç¨‹åºåº”è¯¥çœ‹èµ·æ¥åƒä¸‹é¢ï¼Œå½“ç„¶ï¼Œå®ƒå¯ä»¥æ‹¿èµ·æ­£ç¡®çš„å›¾åƒå’Œæœ¬åœ°åŒ–çš„å­—ç¬¦ä¸²ã€‚

[![](../Images/36973d249ff1929fc522d998e75f5b73.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--waL0D_Ai--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2A4gH9VnqAP7wvJfRAQIoo1w.png)

è®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬çš„æ“åœºèƒ½å¦è¯†åˆ«è¿™äº›èµ„äº§ã€‚åœ¨ MyPlayground ä¸­åˆ›å»ºä¸€ä¸ªåä¸º Resource çš„æ–°é¡µé¢ï¼Œå¹¶é”®å…¥ä»¥ä¸‹å†…å®¹

ç­‰ä¸€ä¼šå„¿æ“åœºè·‘å®Œã€‚å“å‘€ã€‚æ“åœºä¸Šçš„æƒ…å†µä¸å¤ªå¥½ï¼Œå®ƒä¸è¯†åˆ«å›¾åƒå’Œæœ¬åœ°åŒ–çš„å­—ç¬¦ä¸²ğŸ˜¢

[![](../Images/df475ff5a692bf95de3f3b8ec39de775.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--x13F5MTL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2722/1%2AVgzy7nGWLfnydX3SOjmD4Q.png)

### èµ„æºæ–‡ä»¶å¤¹

å®é™…ä¸Šï¼Œæ¯ä¸ªæ¸¸ä¹åœºé¡µé¢éƒ½æœ‰ä¸€ä¸ªèµ„æºæ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­æ”¾ç½®è¿™ä¸ªç‰¹å®šé¡µé¢çœ‹åˆ°çš„èµ„æºæ–‡ä»¶ã€‚ä½†æ˜¯è¿™é‡Œæˆ‘ä»¬éœ€è¦è®¿é—®æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåŒ…ä¸­çš„èµ„æºã€‚

### ä¸»æŸ

å½“è®¿é—®å›¾åƒå’Œæœ¬åœ°åŒ–å­—ç¬¦ä¸²æ—¶ï¼Œå¦‚æœæ‚¨æ²¡æœ‰æŒ‡å®šæ†ç»‘åŒ…ï¼Œè¿è¡Œçš„åº”ç”¨ç¨‹åºå°†é»˜è®¤é€‰æ‹©ä¸»æ†ç»‘åŒ…ä¸­çš„èµ„æºã€‚è¿™é‡Œæ˜¯æ›´å¤šä¿¡æ¯[å¯»æ‰¾å¹¶æ‰“å¼€ä¸€ä¸ªåŒ…](https://developer.apple.com/documentation/foundation/bundle)ã€‚

> åœ¨å®šä½èµ„æºä¹‹å‰ï¼Œå¿…é¡»é¦–å…ˆæŒ‡å®šåŒ…å«å®ƒçš„åŒ…ã€‚Bundleclass æœ‰å¾ˆå¤šæ„é€ å‡½æ•°ï¼Œä½†æ˜¯ä½ æœ€å¸¸ç”¨çš„æ˜¯ [main](https://developer.apple.com/documentation/foundation/bundle/1410786-main) ã€‚ä¸»åŒ…è¡¨ç¤ºåŒ…å«å½“å‰æ­£åœ¨æ‰§è¡Œçš„ä»£ç çš„åŒ…ç›®å½•ã€‚å› æ­¤ï¼Œå¯¹äºä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œä¸» bundle å¯¹è±¡è®©æ‚¨å¯ä»¥è®¿é—®åº”ç”¨ç¨‹åºé™„å¸¦çš„èµ„æºã€‚
> å¦‚æœä½ çš„åº”ç”¨ç›´æ¥ä¸æ’ä»¶ã€æ¡†æ¶æˆ–å…¶ä»–æ†ç»‘å†…å®¹äº¤äº’ï¼Œä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªç±»çš„å…¶ä»–æ–¹æ³•æ¥åˆ›å»ºé€‚å½“çš„æ†ç»‘å¯¹è±¡ã€‚

```
// Get the app's main bundle
let mainBundle = Bundle.main

// Get the bundle containing the specified private class.
let myBundle = Bundle(for: NSClassFromString("MyPrivateClass")!) 
```

Enter fullscreen mode Exit fullscreen mode

### æ­¥éª¤ 1:å‘ AppFramework ç›®æ ‡æ·»åŠ èµ„æº

å› æ­¤ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å°†èµ„æºæ–‡ä»¶æ·»åŠ åˆ° AppFramework ç›®æ ‡ä¸­ã€‚é€‰æ‹© Asset Catalog å’Œ Localizable.strings å¹¶å°†å®ƒä»¬æ·»åŠ åˆ°æˆ‘ä»¬çš„ AppFramework ç›®æ ‡ä¸­ã€‚

[![](../Images/7e6b1bd2d6abf83c3de064db606ba406.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--4RH2QWNw--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2808/1%2AmI2C1ode8HGlBe4-zp_5ew.png)

### ç¬¬äºŒæ­¥:æŒ‡å®šæ†ç»‘åŒ…

å¦‚æœæˆ‘ä»¬æ²¡æœ‰æŒ‡å®š bundleï¼Œé‚£ä¹ˆé»˜è®¤ä½¿ç”¨ mainBundleã€‚åœ¨å·²æ‰§è¡Œçš„ Playground çš„ä¸Šä¸‹æ–‡ä¸­ï¼ŒmainBundle æŒ‡çš„æ˜¯å®ƒçš„ Resources æ–‡ä»¶å¤¹ã€‚ä½†æ˜¯æˆ‘ä»¬å¸Œæœ› Playground è®¿é—® AppFramework ä¸­çš„èµ„æºï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ [Bundle.nit(for:)](https://developer.apple.com/documentation/foundation/bundle/1417717-init) å’Œ AppFramework ä¸­çš„ä¸€ä¸ªç±»æ¥å¼•ç”¨ AppFramework å†…éƒ¨çš„ Bundleã€‚è¯¥ç±»å¯ä»¥æ˜¯ ResourceViewControllerï¼Œå› ä¸ºå®ƒä¹Ÿè¢«æ·»åŠ åˆ° AppFramework ç›®æ ‡ä¸­ã€‚

å°† ResourceViewController ä¸­çš„ä»£ç æ›´æ”¹ä¸º

æ¯æ¬¡æˆ‘ä»¬åœ¨ AppFramework ä¸­ä¿®æ”¹ä»£ç ï¼Œéƒ½éœ€è¦é‡æ–°ç¼–è¯‘ã€‚è¿™å¾ˆé‡è¦ã€‚ç°åœ¨æ‰“å¼€æ“åœºï¼Œå®ƒåº”è¯¥æ‹¿èµ·æ­£ç¡®çš„èµ„äº§ã€‚

[![](../Images/83609bcc1ac0b9b3c758eec4fe914fe4.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Ws4nIPsB--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2750/1%2AM0_mNdOVjjV3FjAY4eRy7A.png)

### è‡ªå®šä¹‰å­—ä½“å‘¢ï¼Ÿ

æˆ‘ä»¬éœ€è¦æ³¨å†Œå­—ä½“æ‰èƒ½ä½¿ç”¨ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ctfontmanagerregistersfontsforurl æ³¨å†Œè‡ªå®šä¹‰å­—ä½“ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ plist ä¸­ application key æä¾›çš„å­—ä½“ã€‚è¿™å¾ˆæ–¹ä¾¿ï¼Œå› ä¸ºå­—ä½“ä¹Ÿå¯ä»¥åœ¨ Playground ä¸­åŠ¨æ€æ³¨å†Œã€‚

ä¸‹è½½åä¸º[avengence](http://www.fontspace.com/the-fontry/avengeance)çš„å…è´¹å­—ä½“ï¼Œå¹¶å°†è¯¥å­—ä½“æ·»åŠ åˆ°æˆ‘ä»¬çš„åº”ç”¨å’Œ AppFramework ç›®æ ‡ä¸­ã€‚

åœ¨ ResourceViewController ä¸­æ·»åŠ æŒ‡å®šå­—ä½“çš„ä»£ç ï¼Œè®°ä½è¦é‡æ–°ç¼–è¯‘ AppFramework:

tadaï¼Œä½ çš„åº”ç”¨ç¨‹åºå’Œ Playground éƒ½å¯ä»¥çœ‹åˆ°è‡ªå®šä¹‰å­—ä½“ğŸ‰

[![](../Images/b96a6789270026086af4487737f700e1.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--q7PCb30l--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2686/1%2AIz6t5ai_1hZa0lkdtAkblg.png)

## è®¾å¤‡å°ºå¯¸å’Œç‰¹æ€§é›†åˆ

iOS 8 å¼•å…¥äº† [TraitCollection](https://developer.apple.com/documentation/uikit/uitraitcollection) ï¼Œå®šä¹‰äº†å¤§å°ç­‰çº§ã€æ¯”ä¾‹å’Œç”¨æˆ·ç•Œé¢ä¹ è¯­ï¼Œç®€åŒ–äº†è®¾å¤‡æè¿°ã€‚kickstarter-ios é¡¹ç›®æä¾›äº†æ–¹ä¾¿çš„å·¥å…·æ¥å‡†å¤‡ UIViewControllerï¼Œä»¥ä¾¿åœ¨ä¸åŒçš„ç‰¹æ€§ä¸‹åœ¨æ“åœºä¸Šä½¿ç”¨ã€‚å‚è§[æ¸¸ä¹åœºæ§åˆ¶å™¨](https://github.com/kickstarter/ios-oss/blob/master/Kickstarter-iOS.playground/Sources/playgroundController.swift):

ä»¥åŠ [AppEnvironment](https://github.com/kickstarter/ios-oss/blob/1b21ce9100edc2700b30f41432f4c6077febba69/Library/AppEnvironment.swift) ï¼Œå®ƒå°±åƒä¸€ä¸ªå †æ ˆï¼Œå¯ä»¥æ”¹å˜ä¾èµ–å…³ç³»å’Œåº”ç”¨å±æ€§ï¼Œæ¯”å¦‚ bundleã€locale å’Œ languageã€‚å‚è§ä¸€ä¸ªå…³äº[æ³¨å†Œå±å¹•](https://github.com/kickstarter/ios-oss/blob/7b7be2f6ca7012bef04db90a6ed64f03f661a8f2/Kickstarter-iOS.playground/Pages/Signup.xcplaygroundpage/Contents.swift)çš„ä¾‹å­:

## æ— æ³•æŸ¥æ‰¾ç¬¦å·

ä½¿ç”¨ Playground æ—¶ï¼Œæ‚¨å¯èƒ½ä¼šé‡åˆ°ä¸€äº›é”™è¯¯ã€‚æœ‰äº›æ˜¯å› ä¸ºä½ çš„ä»£ç ï¼Œæœ‰äº›æ˜¯å› ä¸ºæ¡†æ¶çš„é…ç½®æ–¹å¼ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œåœ¨å‡çº§åˆ° [CocoaPods 1.5.0](http://blog.cocoapods.org/CocoaPods-1.5.0/) ä¹‹åï¼Œæˆ‘å¾—åˆ°äº†è¿™ä¸ª:

```
error: Couldnâ€™t lookup symbols:

__T06Cheers9CheerViewCMa

__T012AppFramework14ViewControllerCMa

__T06Cheers8ParticleO13ConfettiShapeON

__T06Cheers6ConfigVN 
```

Enter fullscreen mode Exit fullscreen mode

ç¬¦å·æŸ¥æ‰¾çš„é—®é¢˜æ„å‘³ç€ Playground æ‰¾ä¸åˆ°ä½ çš„ä»£ç ã€‚è¿™å¯èƒ½æ˜¯å› ä¸ºæ‚¨çš„ç±»æ²¡æœ‰å…¬å¼€ä¸º publicï¼Œæˆ–è€…æ‚¨å¿˜è®°å‘ AppFramework ç›®æ ‡æ·»åŠ æ–‡ä»¶ã€‚æˆ–è€…å¼•ç”¨çš„çª—æ ¼åœ¨ AppFramework æ¡†æ¶æœç´¢è·¯å¾„ä¸­ä¸å¯è§ï¼Œâ€¦

ç‰ˆæœ¬ 1.5.0 å¸¦æ¥äº†é™æ€åº“æ”¯æŒï¼Œä¹Ÿæ”¹å˜äº†æ¨¡å—åŒ–å¤´ã€‚åŒæ—¶ï¼Œæ¼”ç¤ºåˆ‡æ¢å› CocoaPods 1.4.0ï¼Œä½ å¯ä»¥ä½¿ç”¨æ“åœºæ¼”ç¤ºæ¥çœ‹çœ‹[ã€‚](https://github.com/onmyway133/UsingPlayground)

åœ¨ç»ˆç«¯ä¸­ï¼Œé”®å…¥ bundler init ä»¥ç”Ÿæˆ Gemfileã€‚ä¸º cocoapods gem æŒ‡å®š 1.4.0:

ç°åœ¨è¿è¡Œ bundler exec pod installï¼Œä» CocoaPods 1.4.0 è¿è¡Œ pod å‘½ä»¤ã€‚è¿™ä¸ªé—®é¢˜åº”è¯¥å¾—åˆ°è§£å†³ã€‚

## ä½•å»ä½•ä»

Swift Playground ä¹Ÿæ”¯æŒ macOS å’Œ tvOSã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šï¼Œè¿™é‡Œæœ‰ä¸€äº›æœ‰è¶£çš„é“¾æ¥

*   [Playground Driven Development](https://www.youtube.com/watch?v=DrdxSNG-_DE)[Brandon Williams](https://dev.toundefined)å’Œ [kickstarter-ios](https://github.com/kickstarter/ios-oss/tree/master/Kickstarter-iOS.playground) é¡¹ç›®çš„æ¼”ç¤ºå¯å‘äº†å¦‚ä½•åœ¨ç”Ÿäº§åº”ç”¨ä¸­ä½¿ç”¨ Playgroundã€‚æ­¤å¤–ï¼Œobjc.io ä¸Šå…³äº[æ“åœºé©±åŠ¨å¼€å‘](https://talk.objc.io/episodes/S01E51-playground-driven-development-at-kickstarter)çš„æ¼”è®²éå¸¸å¥½ã€‚

*   point free:[ç½‘ç«™](https://github.com/pointfreeco/pointfreeco/tree/master/PointFree.playground)æ˜¯å€ŸåŠ© Playground å®Œæˆçš„ã€‚ä»…ä»…é€šè¿‡é˜…è¯»ä»£ç å’Œå®ƒä»¬çš„é¡¹ç›®ç»“æ„ï¼Œä½ å°±å¯ä»¥å­¦åˆ°å¾ˆå¤šä¸œè¥¿ã€‚

*   [ä½¿ç”¨ Swift å¯è§†åŒ–ç®—æ³•](https://www.youtube.com/watch?v=7e13FierAF8&index=3&list=PLCl5NM4qD3u92PwamgwWr3e_j3GmKRVTs) : Playground ä¹Ÿæœ‰åŠ©äºåŸå‹åŒ–å’Œå¯è§†åŒ–æ‚¨çš„æƒ³æ³•ã€‚

*   æˆ‘çš„æœ‹å‹è²åˆ©æ™®ä¹Ÿå†™äº†ä»–æ˜¯å¦‚ä½•åœ¨å·¥ä½œä¸­æˆåŠŸåˆ©ç”¨æ“åœºçš„

*   æ­¤å¤–ï¼Œå¦‚æœä½ æƒ³æ„Ÿåˆ°æƒŠè®¶ï¼Œç¿è´æ‰˜Â·è±è’™è¿ªè¿˜ç­–åˆ’äº†ä¸€ç³»åˆ—[çš„è¶…æ£’æ¸¸ä¹åœº](https://github.com/uraimo/Awesome-Swift-Playgrounds)ã€‚

åŸå¸–[https://medium . com/æ— ç‘•-app-stories/playground-driven-development-in-swift-cf 167489 Fe 7b](https://medium.com/flawless-app-stories/playground-driven-development-in-swift-cf167489fe7b)