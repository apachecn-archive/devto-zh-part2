# 如何用 React & GraphQL 制作博客

> 原文：<https://dev.to/smithmanny/how-to-make-a-blog-with-react--graphql-2f9i>

在听到所有关于 GraphQL 以及为什么开发人员应该开始学习它的宣传之后，我最终决定做一些研究。我不会讲太多细节，但是 GraphQL 是一种用于 API 的查询语言。如果你想了解更多，请访问这里的官方链接。所以在阅读后，我遇到了一个使用 GraphQL 而不是 Rest 的 headless-cms，并认为这将是我真正尝试它的最好机会。我们要用 GrapgQL 建一个博客！

要求:

*   创建-反应-应用
*   GraphCMS 帐户(免费)

# 步骤 1 —设置 GraphCMS:

在我们开始编码之前，你需要注册一个免费的 GraphCMS 账户。我们将使用 GraphCMS 来处理我们的后端。注册后，我们将做一个新项目。单击该项目，您将看到仪表板页面。现在不要担心一切，我们需要做的第一件事是建立一个新的模型。单击侧面导航栏上的“模型”，然后单击页面顶部的“添加内容模型”。我们需要担心的唯一字段是显示名称。输入“Post”作为显示名称，API ID 会自动填充；完成后，点击保存。

### 添加字段:

现在，您应该会看到一个新按钮，在您的帖子模型下显示“Add Field”。我们将添加四个字段来创建一个基本的博客:图片、标题、描述和 Slug。

### 添加图像:

1.  点击“添加字段”
2.  单击“资产”,然后单击“资产网格”
3.  给它命名为“图像”
4.  单击下一步，然后单击保存

### 添加标题:

1.  点击“添加字段”
2.  单击“文本”,然后单击“单行”
3.  给它起名叫“标题”
4.  单击下一步，然后单击保存

### 添加描述:

1.  点击“添加字段”
2.  单击“文本”,然后单击“富文本”
3.  给它命名为“描述”
4.  单击下一步，然后单击保存

### 添加鼻涕虫:

1.  点击“添加字段”
2.  点击“文本”,然后点击“Slug”
3.  给它起名叫“鼻涕虫”
4.  单击下一步，然后单击保存

### 赋予 API 访问权限:

一旦我们完成了我们的模型，我们需要给我们的 API 访问来读取我们的字段。不过，在你的模型视图中，点击“R”。确保为每个字段单击“R ”,并为图像选择“connect”。确保对资产也这样做。

### 创建虚拟数据:

我们在 GraphQL 中的最后一步是创建一些虚拟数据显示在我们的前端。点击内容，然后张贴在左侧导航栏上。您应该会在左上角看到一个加号图标。单击它并填写数据。对于 Slug 字段，您可以只输入标题名称，用破折号代替空格(这是一个测试=这是一个测试)。

# 步骤 2 —创建新的 React 项目:

**如果你没有安装 creact-react-app，运行这个命令**

npm i -g 创建-反应-应用

现在我们终于可以编写我们的博客了。我并没有把这个博客设计得令人惊奇，所以这个设计很糟糕，但是它完成了任务。

导航到您想要存储这个项目的位置，并创建一个新的 react 项目。我用的是 create-react-app，我喜欢把我的项目放在一个名为 projects 的文件夹里(有道理)。我打算把这个项目叫做“博客”。

*   打开您的终端并键入:

创建-反应-应用博客

然后按 enter 键，让 create-react-app 为我们创建项目。

*   一旦完成，你需要将目录转换到你的项目中。

cd 博客

*   在运行我们的应用程序之前，我们需要安装一些软件包。

NPM I react-路由器-DOM react-Apollo graph QL-tag Apollo-客户端 Apollo-link-http Apollo-cache-in memory

*   现在我们终于可以开始我们的应用程序了！

npm 开始

# 第三步——开始编码

现在是有趣的部分，编码我们的 React 项目！我试图让这个项目尽可能简单，所以我将把我所有的文件放在 src 文件夹的根目录下。通常，我会为组件等创建一个新文件夹，但我们今天没有这样做，因为它是一个非常小的应用程序。

因此，随着项目的运行，让我们开始创建组件。

### Index.js

打开 src 文件夹中的 Index.js 文件，将其更改为: