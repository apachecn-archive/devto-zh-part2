# 一年的榆树产量

> 原文：<https://dev.to/tzemanovic/one-year-of-elm-in-production-4a4>

大约一年前，我开始了一份新工作，在那里我开发工具，旨在帮助他人提供更好的用户体验。正如软件行业中常见的那样，我继承了许多糟糕的普通 JavaScript 代码。没有测试，很少的代码结构或代码重用，混合的编码风格，如预期的那样，一个完整的错误动物园，这经常出现导致非常差的用户体验。面对如此糟糕的情况，唯一有意义的是尝试采取一种完全不同的方法——停止编写 JavaScript，转而选择一种更高级的语言，以确保所有的事情都得到控制。

作为一名函数式编程爱好者，我一直是 elm 的热心用户，虽然我在概念上更喜欢 0.17 版本之前的 Elm，因为它对包含在 [elm-graphics library](http://package.elm-lang.org/packages/evancz/elm-graphics/1.0.1) 中的可视化元素进行了更高层次的抽象，HTML 库的引入使它能够以更少的摩擦集成到现有的前端生态系统中，实际上它已经成为首选之一。

如果 Elm 代码对您来说非常陌生，不要害怕。它建立在非常成熟的 ML(元语言)编程语言家族之上。Elm 本身是用 Haskell 编写的，它和编程本身一样古老，但是您可以在这个家族中找到大量的语言:

|  |  |
| --- | --- |
| [纯脚本](http://www.purescript.org/) | 前端语言，更类似于 Haskell |
| [Idris](https://www.idris-lang.org/) | 类似于 Haskell 的通用语言，但具有依赖类型 |
| [Scala](https://www.scala-lang.org/) | JVM 中 FP 与 OOP 的融合 |
| [弗雷格](http://www.frege-lang.org/) | JVM 的 Haskell |
| [预计到达时间](https://eta-lang.org/) | JVM 的 Haskell |
| [OCaml](https://ocaml.org/) | 面向对象的 FP |
| [F#](http://fsharp.org/) | 微软面向对象的 FP |
| 霍布斯 | 为嵌入 C++而构建的定制语言 |
| [标准毫升](http://sml-family.org/) | 编译器的通用流行语言 |

随着摩尔定律预测的处理器扩展接近其物理极限(正如 Herb Sutter 的名言“免费的午餐已经结束了”)，软件行业将不得不使用更适合处理并发性的工具。这些工具是函数式编程语言。有趣的是，即使你的应用程序不需要处理并发性，它仍然可以从 FP 中受益，它在数学概念上的基础吓走了很多人，但这是它的强项。如果数学这个词让你不感兴趣，要知道你实际上并不需要知道这个来利用它，就像你不知道它的物理特性就不会从过山车上飞下来一样(有趣的是，如果过山车是在完全不了解物理的情况下建造的，这可能是你的最后一次乘坐)。

由于大多数软件开发教育和培训都集中在 OOP 上，所以有很多开发人员认为从对象的角度考虑事情是很自然的。但是这种思维模式的局限性在一个非常流行的 OOP 主题中变得非常明显——四人帮的设计模式 <sup>2</sup> 。当实现变得如此复杂，以至于没有人能够或者甚至不想再使用它时，这一点也变得很明显。但是这种复杂性是从哪里来的，是问题域固有的吗？大多数程序员都知道不相关的概念之间的紧密耦合会产生问题，本着同样的精神，我要说数据与类内部行为的交错会产生比它解决的问题更多的问题。FP 语言的声明性本质消除了很多附带的复杂性，我们正在拖着的大象 <sup>3</sup> ，它是由命令式程序引入的，因为我们不需要考虑执行来理解正在发生的事情。用菲利普·瓦德勒教授更概念性的话来说，一些语言是被发现的，而另一些是被发明的，你可以看出来。

Elm 的好处在于它周围形成的社区非常包容和友好。这种语言本身对初学者非常友好，以至于有些人把它的简单性误认为是一种玩具语言。但是不要犯同样的错误，因为 Elm 和 React 这样的大公司在一起，事实上，它比 React 更是一个完整的解决方案。Elm 的简单性源于其设计中的辛勤工作。

一旦你熟悉了它，Elm 编译器将会是你最好的朋友。它的错误信息非常清晰和有用，以至于影响了其他语言，比如 Rust。该语言附带了一个包管理器 [elm-package](https://github.com/elm-lang/elm-package) ，elm 中发布的库自动遵循语义版本化。你甚至可以用它来[检查一个给定包](https://github.com/elm-lang/elm-package#updating-dependencies)的不同版本之间有什么变化。对于交互式编码，有 [elm-repl](https://github.com/elm-lang/elm-repl) 和 [elm-reactor](https://github.com/elm-lang/elm-reactor) 。Elm 生成代码的性能非常好，需要优化时只需调用一个简单的函数。

到目前为止，Elm 简单而强大的设计帮助我们专注于构建一个伟大产品的目标，我们期望从长远来看回报会更大。目前，我们有大约 16k Elm 行代码在生产中，稳定地将愉快的开发体验转化为愉快的用户体验，我们还有更多。

* * *

1.  赫伯·萨特:免费午餐结束了 ↩

2.  [Ted Newark:为什么函数式编程如此重要@ Devoxx Poland 2016](https://youtu.be/oB8jN68KGcU) ↩

3.  [Rich Hickey:简单至关重要主题演讲@ Rails Conf 2012](https://youtu.be/rI8tNMsozo0) ↩

4.  菲利普·瓦德勒:作为类型的命题@奇怪的循环 2015 ↩