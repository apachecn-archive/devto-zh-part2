# é™ä»·çš„æ•…äº‹

> åŸæ–‡:[https://dev.to/smnh/the-tale-of-markdownify-4lcl](https://dev.to/smnh/the-tale-of-markdownify-4lcl)

å½“æˆ‘åœ¨ç©[é›¨æœ](https://gohugo.io)å’Œ[å“²åŸºå°”](https://jekyllrb.com/)çš„æ—¶å€™ï¼Œæˆ‘å‘ç°ä»–ä»¬çš„ [`markdownify`](https://gohugo.io/functions/markdownify/) æ»¤é•œæœ‰äº›æ··ä¹±ã€‚

ä¸ºäº†æè¿°è¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆæˆ‘æƒ³ç»™ä½ å±•ç¤ºä¸€ä¸‹ Jekyll çš„`markdownify`æ»¤é•œæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚

å‡è®¾æ‚¨å·²ç»å®šä¹‰äº†`my_text`å‚æ•°ï¼Œä¾‹å¦‚åœ¨`_config.yml`æ–‡ä»¶ä¸­:

```
my_text: consectetur **adipiscing** [elit](https://www.example.com) 
```

Enter fullscreen mode Exit fullscreen mode

å¦‚æ‚¨æ‰€è§ï¼Œè¿™ä¸ªå˜é‡æ˜¯ä¸€ä¸ª [markdown](https://daringfireball.net/projects/markdown/) æ ¼å¼çš„å­—ç¬¦ä¸²ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬è¯•ç€åœ¨æ¨¡æ¿æ–‡ä»¶ä¸­ä½¿ç”¨è¿™ä¸ªå˜é‡ã€‚

```
<div>Lorem ipsum dolor sit amet, {{  site.my_text  |  markdownify  }}</div> 
```

Enter fullscreen mode Exit fullscreen mode

ç°åœ¨ï¼Œå¦‚æœæ‚¨å°è¯•ä½¿ç”¨ Jekyll ä»è¿™ä¸ªæ¨¡æ¿ç”Ÿæˆä¸€ä¸ª HTMLï¼Œæ‚¨å°†å¾—åˆ°ç±»ä¼¼è¿™æ ·çš„ç»“æœ:

```
<div>Lorem ipsum dolor sit amet,
  <p>consectetur <strong>adipiscing</strong>
    <a href="https://www.example.com">elit</a>
  </p>
</div> 
```

Enter fullscreen mode Exit fullscreen mode

è™½ç„¶è¿™å¯èƒ½ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œå› ä¸ºæˆ‘ä»¬å˜é‡çš„å†…å®¹æ˜¯ç”¨`<p>`æ ‡ç­¾åŒ…è£…çš„ã€‚è¿™æ˜¯å®Œå…¨å¯é¢„æµ‹çš„è¡Œä¸ºï¼Œå› ä¸º markdown æ€»æ˜¯ç”¨å—å…ƒç´ åŒ…è£…å…¶å†…å®¹ã€‚

ä½†æ˜¯åœ¨é›¨æœèº«ä¸Šï¼Œè¿™ç§è¡Œä¸ºå°±ä¸é‚£ä¹ˆå¯é¢„æµ‹äº†

```
<div>Lorem ipsum dolor sit amet, {{  .Site.Params.my_text  |  markdownify  }}</div> 
```

Enter fullscreen mode Exit fullscreen mode

ç»“æœåœ¨:

```
<div>Lorem ipsum dolor sit amet, consectetur <strong>adipiscing</strong>
  <a href="https://www.example.com">elit</a>
</div> 
```

Enter fullscreen mode Exit fullscreen mode

è¿™å®é™…ä¸Šæ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œä½†æ˜¯ç­‰ç­‰ã€‚å¦‚æœæˆ‘ä»¬çš„å˜é‡æœ‰ä¸¤ä¸ªæ®µè½å‘¢ï¼Ÿ

```
params:
  my_text: |-
    first paragraph

    second paragraph 
```

Enter fullscreen mode Exit fullscreen mode

ç°åœ¨æˆ‘ä»¬å¾—åˆ°è¿™ä¸ª:

```
<div>Lorem ipsum dolor sit amet,
  <p>first paragraph</p>
  <p>second paragraph</p>
</div> 
```

Enter fullscreen mode Exit fullscreen mode

ç­‰å¾…...ä½†æˆ‘ä»¥ä¸ºé›¨æœåœ¨å‰¥ç¦»è¿™äº›æ ‡ç­¾ã€‚å¦‚æœä½ æœ‰ä¸æ­¢ä¸€æ®µçš„è¯å°±ä¸ä¼šäº†ã€‚

ä½†æ˜¯å¦‚æœæˆ‘çœŸçš„æƒ³ç”¨`<p>`æŠŠä¸€ä¸ªæ®µè½æ¢è¡Œå‘¢ï¼Ÿæ ¹æ®[è¿™ä¸ª](https://github.com/gohugoio/hugo/pull/3786)èºçº¹ï¼Œåº”è¯¥ä½¿ç”¨`blocks`æ»¤æ³¢å™¨ã€‚ä½†æ˜¯åœ¨æˆ‘çœ‹æ¥ï¼Œæœ€å¥½æœ‰æŸç§ç±»å‹çš„`inline`å‚æ•°æ¥å‰¥ç¦»`<p>`æ ‡ç­¾ï¼Œè€Œä¸æ˜¯é»˜è®¤å‰¥ç¦»å®ƒä»¬å¹¶ä½¿`markdownify`è¿‡æ»¤å™¨è¡Œä¸ºä¸æ­£ç¡®ã€‚å³ä½¿è¿™æ„å‘³ç€æˆ‘ä»¬ä¸ä¼šæ€»æ˜¯å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ã€‚æ ‡å‡†é«˜äºæˆ‘ä»¬æ‰€æœ‰äºº:)

æ°åŸºå°”å‘¢ï¼Ÿå¥½å§ï¼Œè™½ç„¶æœ‰ä¸€äº›å°è¯•(è§[è¿™ä¸ªé—®é¢˜](https://github.com/jekyll/jekyll/issues/3571)å’Œ[è¿™ä¸ªæ‹‰è¯·æ±‚](https://github.com/jekyll/jekyll/pull/5509))æä¾›ä¸€ä¸ª`inline`å‚æ•°ç»™`markdownify`è¿‡æ»¤å™¨ï¼Œä»–ä»¬æ²¡æœ‰æˆåŠŸã€‚æˆ‘æ²¡æœ‰æ‰¾åˆ°ä»»ä½•å¥½çš„æ–¹æ³•æ¥é™ä½è¿™ä¸ªå˜é‡çš„ä»·å€¼ï¼Œè€Œä¸éœ€è¦ç”¨`<p>`æ ‡ç­¾æ¥åŒ…è£…å®ƒã€‚æˆ‘å‘ç°çš„å”¯ä¸€è§£å†³æ–¹æ¡ˆæ˜¯å°†å˜é‡è®¾ç½®ä¸ºåŸå§‹ HTMLï¼Œå¹¶ä¸”åœ¨æ²¡æœ‰`markdownify`çš„æƒ…å†µä¸‹ä½¿ç”¨å®ƒã€‚

æˆ‘è®¤ä¸ºè¿™é‡ŒçœŸæ­£çš„é—®é¢˜æ˜¯ [markdown è¯­æ³•](https://daringfireball.net/projects/markdown/syntax)æ²¡æœ‰å®šä¹‰ä»»ä½•åˆ›å»ºå†…è”å†…å®¹çš„æ ‡å‡†æ–¹å¼ï¼Œè¿™äº›å†…å®¹ä¸ä¼šç”¨åƒ`<p>`è¿™æ ·çš„å—çº§å…ƒç´ åŒ…è£…ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬æœ‰è¿™æ ·çš„ä¸œè¥¿:

```
This will be wrapped placed inside paragraph

!!!But this **will not**!!! 
```

Enter fullscreen mode Exit fullscreen mode

å¥½ç”Ÿ:

```
<p>This will be wrapped with paragraph</p>

But this <strong>will not</strong> 
```

Enter fullscreen mode Exit fullscreen mode

é‚£ä¼šè®©æˆ‘ä»¬çš„ç”Ÿæ´»å˜å¾—æ›´å¥½ã€‚

ğŸ––ä¸‡å²ï¼Œç¹è£æ˜Œç››