# 我最喜欢的命令行快捷方式

> 原文：<https://dev.to/henrikwarne/my-favorite-command-line-shortcuts-3bc6>

我每天都用贝壳。几乎总是，我想重复一个以前的命令，或者稍微修改后再重复一次。一个非常方便的方法是使用 arrow-up 来获取最近的命令。另一个常见的技巧是键入 ctrl-r 并逐步搜索以前使用过的命令。然而，还有两个我一直在使用的重复前面命令的技巧，它们并不广为人知。

[![](img/5b1ce174a8e8a3562704aa746e6aa9d7.png)T2】](https://henrikwarne1.files.wordpress.com/2018/08/dsc_7973.jpg)

### Escape-Dot(或者！$)

通常，您只想重复上一个命令的最后一个参数。例如，假设你想运行 *git diff path/to/tests* ，然后 *git add path/to/tests* 。对于第二个命令，您可以键入 *git add* escape-dot (escape 后跟一个句点)，它将扩展为 *path/to/tests* (前一个命令的最后一个参数)。

我发现我经常想对同一个参数运行另一个命令，而 escape-dot 是最方便的方法。用起来也管用！$而不是 escape-dot，但是这稍微更难键入，所以我不再使用它了。

### 历史与！

有时我知道我不久前使用了一个命令，但是我没有一个好的字符串用于在 ctrl-r 中搜索(或者在我找到我想要的案例之前，我可能会在搜索中找到太多不相关的匹配)。在这种情况下，我使用 *history* 来获取最近使用的命令列表。假设我在列表的第 456 位看到了我想要重复的命令。*！456* 将重新运行命令。

如果我想在运行命令之前修改它，我可以输入*！456:p* 取而代之。然后我使用向上箭头，然后在运行它之前修改它。

我喜欢为我的 shell 命令保留很长的历史记录(几千个条目)。为了仍然能够在我的 shell 中向上滚动而不仅仅看到历史条目，我创建了一个别名来只显示列表中的最后 100 个条目:

*别名 his = ' history | tail-n 100；回声”只有最后 100。对于完整，请键入:history" '*

所以我通常只需输入 *his* ，然后列出最后 100 条命令。

### 编辑

我经常想在运行命令之前编辑命令行上的内容(特别是当我使用向上箭头来获取最近的命令时)。以下是我最常用的:

*   ctrl-a 移动到行首
*   ctrl-e 移动到行尾
*   ctrl-u 清除该行(光标位置之前)
*   ctrl-w 删除光标位置前的单词

### 结论

我共事过的大多数人在重复命令时都使用向上箭头和 ctrl-r。然而，很少有人熟悉历史列表中的转义点和重复命令。由于我经常使用这四种方法，我想我应该写一个帖子来传播这个消息。

关于命令行快捷方式，我还得推荐一本书 [Unix Power Tools](https://www.amazon.com/Power-Tools-Third-Shelley-Powers/dp/0596003307) 。它包含了一千多页组织良好、相互参照的命令行提示。对于任何想升级命令行游戏的人来说，这是一个极好的资源。