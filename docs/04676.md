# 为什么 JavaScript 是 OOP 语言(尽管它没有类)

> 原文:[https://dev . to/marin benc/why-JavaScript-is-an-OOP-language-even-but-it-not-have-classes-39 m2](https://dev.to/marinbenc/why-javascript-is-an-oop-language-even-though-it-doesnt-have-classes-39m2)

你可能知道 OOP 是如何工作的。类`Dog`继承自类`Animal`，这意味着如果你有一个`Dog`，你可以从`Animal`访问方法。这实际上只是 OOP 的一个子集。没有类也可以面向对象，JavaScript 就是这么做的。

一个班级就是一张蓝图。它包含了关于类*的每个实例有什么*的信息。它告诉你有哪些方法和属性，以及如何使用这类东西。

该类本身实际上不包含任何数据。那是一个**对象**的工作。类是房子的蓝图，但对象是实际的房子，有木头、瓦片、砖块和实际房子的所有重量。一个实例包含只属于该实例的实际数据。你可能和你的邻居用了同样的房子蓝图，但这并不意味着你可以睡在他们的床上。

在大多数人理解 OOP 的方式中，实例和类之间的区别是最基本的。但是对于 OOP 来说不是*必要的*。有一种方法可以不用类来做 **OOP。毕竟，这是*面向对象*的编程:对象才是这场秀的主角，而不是类。**

类和对象之间没有区别的 OOP 风格被称为**基于原型的编程**(为了让我们的生活更容易，我们称之为 PBP)。

在 PBP，每个物体都可以是独立的。它同时包含其方法*和*数据。通常，你可以随时给一个对象添加新的属性和方法，甚至是在程序运行的时候。

如果这听起来像是只有少数程序员用来解决他们的边缘问题，你会感到惊讶。世界上最流行的语言之一是 PBP 语言:JavaScript。

在 JavaScript 中，没有基于类的 OOP 意义上的类。JavaScript 处理对象。如果你想把一些函数和属性封装在一起，你应该创建一个包含函数和属性的对象，而不是一个类。

```
const animal = {
    numberOfLegs: 4,
    sleep: () => print("Zzz")
} 
```

这是一个具有属性和执行某些工作的函数的对象。这与类不同，因为函数*本身*是对象拥有的一段*数据*。它就像财产的状态一样易变。

```
animal.sleep = null 
```

现在，突然之间，动物不再有功能了。JavaScript 没有蓝图，只有房子。

## 但是，遗传呢？

类的一个基本属性是它可以从其他类继承方法和属性。a `House`和`Apartment`都可以从`Residence`继承，以确保我们不必在两个类中复制相同的代码。

但是同样，**类对于继承**来说并不是必须的。在 PBP，继承完全是通过使用对象来完成的。

我前面提到过，在 PBP 中，一个对象包含它所有的方法和属性，以及它们的实际状态。所以继承所有这些的唯一方法是复制(或引用)所有这些方法和属性。这正是 PBP 语言所做的，它被称为**原型继承**。

如果我们想创建一个能够访问与`animal`相同方法的`dog`对象，我们可以简单地让`dog` *包含* `animal`，因为这些方法都在`animal`的内部。

```
const dog = {
    prototype: animal,
    bark: () => print("Woof!")
} 
```

如果我们想让`dog`吃到食物，我们可以这样来:

```
dog.prototype.eatFood(10) 
```

幸运的是，JavaScript 自动调用原型上的函数。如果对象上不存在某个函数，它将在原型中搜索该函数。原型可以*自身*包含另一个原型，所以 JS 会一直向上搜索，直到找到它正在寻找的函数。

之所以称它们为基于原型的语言，是因为与类相反，原型是具体的 T2。原型是可以工作的东西，而不是蓝图。你可能不想把原型卖给数百万的顾客，但是它是一个真实的工作的东西。然后，您使用该原型构建一组您将实际使用的副本。就像你在工厂里一样。

`animal`物体是一种动物的原型。这是一个和其他物体一样的物体，但它将被用来创造新的、具体的动物，比如一个`dog`。

## 这比上课好吗？

PBP 比基于类的 OOP 更简单。它的活动部件更少，而且完全透明。你可以*看到*它是如何工作的。基于类的 OOP 是在此之上的一个抽象层。这意味着 PBP 有很多优点，但也有缺点。

PBP 的主要优势在于它的灵活性。蓝图是必须提前制定的，而且必须是正确的。如果你在盖房子，你会有很多麻烦，如果你在盖屋顶的时候发现你忘了在蓝图上加一扇窗户。类是相似的:在创建和使用对象之前*创建它们。在开始使用它之前，您必须知道需要哪些方法和属性。**无论你多么擅长编程，你都不可能预测一切。***

如果你不需要提前制作一个类，你可以立即开始创建你的对象。你可以在使用它们的时候对它们进行调整，而不必付出很大的代价。这在编程中非常有益，因为需求一直在变化。你想要快速而轻松地改变。

但是快速简单的改变伴随着巨大的风险:正确性。蓝图的存在是为了在房子建成之前规划好它，这样错误就能及早发现，工人们就不会在建造过程中迷路。如果你试着建造一栋房子，只是边做边看它会把你带到哪里，你很可能会以房子在你身上倒塌而告终。编程也是一样:**你需要确保你的代码库是正确的。如果每个人都可以进去开始改变一切，它将很快自我崩溃。**

像编程中的所有事情一样，PBP 和基于类的面向对象程序设计处于一系列权衡之中。一方面，PBP 是灵活的，容易工作，导致更快的发展。另一方面，基于类的 OOP 更加刚性和健壮，导致 bug 更少。不同的问题需要不同的工具，有了 PBP 的知识，你现在可以更好地解决需要它的问题。编码快乐！

> 注:这是来自[programmingwords.com](https://programmingwords.com)的转贴。这是一个每月展示两个计算机科学新术语的博客。如果你对 compsci、编译器或编程语言感兴趣的话，就去看看吧！:)

## 参考资料:

原型基础编程

【https://en.wikipedia.org/wiki/Prototype-based_programming】T2

继承和原型链-JavaScript

[https://developer . Mozilla . org/en-US/docs/Web/JavaScript/Inheritance _ and _ the _ prototype _ chain](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain)