# 软件汤

> 原文：<https://dev.to/rionmonster/software-soup-156p>

作为两个孩子的父亲，其中一个孩子是最近出生的，很难找到时间像我平时一样写博客。很难找到/腾出时间而不在某个地方偷工减料。但有趣的是，父母身份和发展这两者之间的交集可能比人们想象的要多一些。

这是一个这样的故事，发生在几天前的一个晚上，当时我正在和我的儿子一起读一个名为“冰激凌汤”的睡前故事，作者是安·英格尔斯。《冰激凌汤》是一本关于一个想要做冰激凌蛋糕的小男孩的书。他开始很简单，然后继续添加配料，直到最后他弄得一团糟:冰激凌汤。

这对于软件世界来说是一个完美的类比。任何经历过真实项目整个生命周期的人都亲眼目睹过这种情况。

## 配料

[![I know what to do, I have a plan](../Images/e7bf0e0cb8e4dbf71b37bbb6c43c3882.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--6ZlI12sF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/http://rion.io/content/images/2018/07/i-know-what-to-do.jpg)

我们的故事从一个想做冰淇淋蛋糕的男孩开始。所以他抓起一些配料，一个蓝色的大平底锅，和一些冰淇淋，然后在上面潜水。他有远见，知道自己想要什么，所以他就去争取。太简单了，不会搞砸吧？

我们都希望最新的绿地项目尽善尽美，或者尽可能完美。都是新代码，简单的需求。我们可以编写单元测试，建立一个漂亮的构建管道，遵循最好的标准，最大限度地利用最好的技术。

团队中的每一个拉请求都被仔细地审查，确保所有的模式都被遵循，测试都被编写，以及所有好的东西。随着初始版本即将发布，整个团队都感觉很棒...暂时如此。

## 拍着它下来

[![I pat it down, I pat and pat](../Images/1e1a06497cda28f9a7fc0ea2b315f5f5.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--A972UEAG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/http://rion.io/content/images/2018/07/i-pat-it-down.jpg)

当我们的小男孩继续制作他美味的冰淇淋蛋糕时，他开始走神了。他注意到所有这些想要添加的浇头，这些浇头根本不是他最初计划的一部分，所以他必须适应并改变周围的东西以挤进去:

> 我轻拍它。
> 
> 我拍啊拍。
> 
> 现在我可以添加一些*到*。

需求总是变化的，范围也是如此。作为软件工程师，我们的工作就是能够应对这些挑战，确保我们的产品提供客户期望的价值和特性。我们精心设计的完美绿地项目可能无法很好地应对这些变化。很少有时间重新架构，我们必须出货，我们必须让这个工作。

因此，我们“轻拍它”，我们在这里偷偷添加一个特性，这个特性*可能*没有遵循我们的最佳实践。我们会在那里放一些评论，也许会抛出一张重构它的票，但是 hacky 的解决方案现在已经在那里了*。*

 *或者它可能根本不是一个功能，它可能只是一些闪亮的点缀，你想添加到你的蛋糕上，可能不会与其他任何东西相融合。比如写你自己的搜索引擎，消息总线，或者把你的前端改写成你在黑客新闻上读到的某个潮人的前端，不管怎样。

要点是:如果没有足够的计划或思考，对项目的任何这些改变都会导致糟糕的技术债务。作为一名工程师，你需要接受这一点，因为你的业务或产品的生存往往比你的代码看起来更重要。

问题是，如果你不断地“轻拍它”，这样你就可以“添加更多”，而没有花时间确保你的蛋糕可以处理它，它可能会开始分崩离析。

## 这不是蛋糕，这是一团糟。

[![This is not a cake, this is a mess](../Images/719abc03bd93da96c5377d9053126478.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--fVRqKl6---/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/http://rion.io/content/images/2018/07/this-is-not-a-cake.jpg)

在故事的结尾，我们的小男孩没有得到他出发时梦想的美丽蛋糕，相反，他手上有一大堆乱七八糟的东西。

> 我做了什么？
> 
> 看起来像浆糊。
> 
> 我想我做了冰淇淋汤。

如果你已经做了一段时间的开发人员，那么你已经经历过了；你尝过冰激淋汤。在多次发布、最后一分钟的特性和最后期限之后，事情经常被“拍下来”以便为“更多”腾出空间。

这些小点点滴滴的累积结果可能是一个看起来不连贯的代码库，到处都是复制粘贴的代码，并且最常见的是，在任何重大更改的位置，环境都已经成熟，可以回归了。你需要接受这个。软件并不完美，就像烘焙一样，它需要时间、实践和经验来让事情按照你的计划进行(即使这样，它也很少会像 T1 一样)。

所有这一切的要点是，当开发软件时，除了实际编写代码之外，还有很多事情在你的控制之外。在一天结束的时候，你的客户不会关心幕后的事情是什么样子的；他们想知道它是否做了它应该做的事情，是否“有效”。

也就是说，你可以注意一些事情来避免你的项目变成冰激凌汤:

*   **重复**——如果你有任何类型的愿意倾听的领导，试着争取更短的发布周期。即使它们只是内部构建，这也将有助于范围在两次发布之间逐渐超出界限，因此您可以管理任何出现的“有机”增长。
*   **废话**——这与其说是个人目标(尽管你应该关心)，不如说是一种文化。你的团队和经理应该关心产品，无论是外在的还是内在的。当收到拉请求时，要注意确保代码没有被复制，或者没有引入坏的模式。这些都是小步骤，但它们可以产生影响。
*   **坚持到底** -随着技术发展的速度越来越快，尝试采用最新的框架或本月最新的技术可能会很有诱惑力，但要小心行事。这些类型的决策应该被仔细权衡，看看它们是否适合你的项目，你的团队，以及你的产品的长期目标是什么。

## 百胜！

[![Yum!](../Images/8e064eb6164339a8707fa93e81a16b2c.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--Y453Oiim--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/http://rion.io/content/images/2018/07/yum.jpg)

随着故事的结束，我们的小主角已经吃完了他的蛋糕，最后吃到了和他原本计划完全不同的东西:冰激淋汤。你可能会期望他会因为失望而放弃一切，但他没有。他吃了一大勺，伴随着一个大大的微笑和“好吃！”。

软件很少会像计划的那样结束，这没什么。需求的变化、范围的扩大和截止日期都是真实的事情，它们可以很快将一份美丽的食谱变成软件汤。你的项目可能看起来很糟糕，可能充满了可怕的黑客，你祈祷永远见不到天日。软件的美妙之处在于，最终用户可能不知道或者不关心你的架构、模式或者黑客代码。他们想要能让他们的生活变得更轻松、更有力量的东西，但最重要的是:能起作用的东西。

就像那个男孩和他最后的一碗冰淇淋汤一样，它看起来一团糟，但仍然很美味。软件系统也不例外。我确信有无数的企业建立在由胶带、goto 语句和梦想结合在一起的代码基础之上。这里的关键区别在于，尽管它们在幕后看起来很糟糕，但它们确实有效，并且提供了价值。

在构建系统时，专注于控制你能控制的东西。试着在遵循最佳实践和务实之间找到平衡(当你做不到的时候，记录下发生的事情)。努力激励你的同事也这样做，培养软件工艺文化。

所以，在你的下一个大版本发布后，不要把注意力放在消极方面或者你的代码库会有多乱，而是要把注意力放在你为客户提供的价值上。他们不知道所有不同的不匹配的成分进入你的创作，或者你如何不得不节省和使用非有机数据库或品牌外的前端框架。他们确实关心你的软件让他们的生活更轻松，让他们做得更多。

这在软件上相当于“好吃！。*