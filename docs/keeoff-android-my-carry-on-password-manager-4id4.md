# KeeOff Android:我的随身密码管理器

> 原文：<https://dev.to/mikkel1156/keeoff-android-my-carry-on-password-manager-4id4>

# 什么是 *KeeOff Android* 我为什么要做它？

像许多其他人一样，我使用密码管理器，我选择的是 [*KeePass*](https://keepass.info/) 。我目前的设置非常简单，让数据库远程位于由*数字海洋*托管的服务器上，我从我的电脑和手机上的客户端连接到该服务器，保持它的良好和同步。但是，如果我想在另一台设备上使用我的密码，我必须先在设备上安装一个客户端，才能获得任何密码。当然，我可以带着 USB 到处走，或者只是一个 SD 卡，但我比那更懒。

我的解决方案？制作一个 Android 应用程序，启动一个 web 服务器，能够在同一本地网络上访问我的手机密码数据库。简单吧？是的，我一开始也是这么想的，我想欺骗一下自己，让自己轻松一点，但最终不得不从头开始(因为一些帮助)。

## 让*基维*失望，但是他们*确实*有一个不错的图书馆...

我想要的只是使用一个名为 [*KeeWeb*](https://github.com/keeweb/keeweb) 的基于网络的密码管理器，并通过服务器提供服务，然后一切都会很好。**但是**我忘记了一些事情...

KeeWeb 使用 JavaScript，所以一切都在浏览器中运行，它旨在让您将它用作一个界面，输入它，选择并导航到本地设备上的数据库文件或使用 WebDav 或 Dropbox 之类的远程服务。这不是我所寻找的，因为我希望数据库文件存储在我的手机上，从它加载并保存到它。不支持 FTP。可恶。

然而，其他用户想要和我一样的功能，但是开发者对制作这样的功能不感兴趣，所以一个人自作主张为它制作了一个[插件](https://github.com/vavrecan/keeweb-local-server)。太好了！**但是**它需要使用 PHP 来保存服务器上的数据库，我甚至想过制作自己的插件，但是我找不到任何关于它们的结构如何工作的文档，只有一些基本的信息和例子——不足以让我想投入其中。

我可以使用 guys 插件，但我很快发现，试图将 PHP 代码作为服务器在 Java 中运行本身就是一项艰巨的任务——尝试了一个名为 [Resin/Quercus](http://quercus.caucho.com/) 的项目，但无法让它工作。那就划掉它。

# 从平方-二开始

幸运的是，我不必完全从底层开始，正如在另一个标题中提到的，KeeWeb 为 KeePass v2 数据库提供了一个很棒的 JavaScript 库。为此，我不相信自己能够实现能与 KeePass 的数据库一起工作的东西，我只知道基本的加密概念，所以即使我实现了，也不可能是安全的。

所以我拿走了它，然后用 Java 找到了一个很棒的 web 服务器，叫做 [*NanoHTTPD*](https://github.com/NanoHttpd/nanohttpd) ，它是轻量级的，易于使用。

太棒了。现在我所要做的就是自己制作所有的 UI，并使用 KeeWeb 的库*与数据库*通信，迭代结果，显示它们，并在项目被点击时生成事件。所有有趣的 JavaScript 东西。

# 仍在进行中

管理数据库的所有基本功能都在那里，可以创建新的组和条目，可以移动、重命名和删除它们，可以编辑和获取条目中的数据。

只有一个缺点...它不能保存。是的，相当大的核心功能缺失，这使得项目没有它毫无用处。就我对这个问题的理解而言，NanoHTTPD 对数据进行编码，或者至少对数据做了一些事情，这打乱了服务器接收的内容。我已经创建了一个 [*问题*](https://github.com/NanoHttpd/nanohttpd/issues/507) 并且仍在等待答案，我可以从浏览器的*网络检查器*选项卡中看到它正在向服务器发送正确的数据，但是它接收的数据并不相同。试图在发送前对其进行编码也无济于事。

当我认为合适的时候(也许当保存功能最终起作用的时候)或者如果很多人出于兴趣等原因请求的话，这个项目将会被发布到我的 GitHub 上。

## 东西不见了

除了保存功能，我还需要实现:

*   SSL 通信
*   应用程序可以更改主密码
*   密码字段的密码生成器
*   其他小功能和修复