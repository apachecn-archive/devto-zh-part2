# å¯ä¼¸ç¼© React ç»„ä»¶æ¶æ„

> åŸæ–‡:[https://dev . to/Carlos cuesta/scalable-react-components-architecture-3k2e](https://dev.to/carloscuesta/scalable-react-components-architecture-3k2e)

#### *åŸè½½äº [carloscuesta çš„åšå®¢](https://carloscuesta.me/blog/scalable-react-components-architecture)*

æˆ‘å¼€å§‹ç”¨ [**React**](http://reactjs.org) å’Œ [**React-Native**](https://facebook.github.io/react-native/) åˆ¶ä½œå·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ã€‚å…³äº **React** çš„**æœ€ä¼Ÿå¤§çš„äº‹æƒ…ä¹‹ä¸€**æ˜¯åº“ç»™ä½ çš„**çµæ´»æ€§**ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥è‡ªç”±å†³å®šå¦‚ä½•å®ç°é¡¹ç›®çš„å‡ ä¹æ¯ä¸ªç»†èŠ‚ï¼Œä¾‹å¦‚*æ¶æ„å’Œç»“æ„*ã€‚

ç„¶è€Œï¼Œä»é•¿è¿œæ¥çœ‹ï¼Œè¿™ç§è‡ªç”±å¯èƒ½ä¼šå¯¼è‡´ä¸€ä¸ªå¤æ‚è€Œæ··ä¹±çš„ä»£ç åº“ï¼Œç‰¹åˆ«æ˜¯å¦‚æœä½ ä¸éµå¾ªæŸç§æ¨¡å¼çš„è¯ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†è§£é‡Š**ä¸€ä¸ªç®€å•çš„æ–¹æ³•**æ¥**ç»„ç»‡**å’Œ**ç»“æ„**ååº”**ç»„ä»¶**ã€‚

> ä¸€ä¸ªç»„ä»¶æ˜¯ä¸€ä¸ª **JavaScript** **å‡½æ•°**æˆ–è€…æ˜¯**è¿”å›**ä¸€ä¸ª**UI**çš„ç±»ã€‚

æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª`EmojiList`ç»„ä»¶ï¼Œç„¶åæˆ‘ä»¬å°†é‡æ„å®ƒï¼Œåº”ç”¨**æ–‡ä»¶å¤¹æ¨¡å¼**å°†å®ƒåˆ†è§£æˆæ›´å°çš„ç‹¬ç«‹éƒ¨åˆ†ã€‚æˆ‘ä»¬çš„ç»„ä»¶çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:

[![emojilist](../Images/6be4e3ce7a4af579c72415b86ddaa3e4.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--JRJC53zF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://res.cloudinary.com/carloscuesta/image/upload/emojilist-compressed.png)

### è¡¨æƒ…åˆ—è¡¨

æ­£å¦‚æˆ‘ä¹‹å‰æåˆ°çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä»éå¸¸ç®€å•å’Œå°çš„åœ°æ–¹å¼€å§‹ï¼Œä¸éœ€è¦éµå¾ªä»»ä½•æ¨¡å¼ã€‚è¿™æ˜¯æˆ‘ä»¬åŒ…å«åœ¨å•ä¸ªå‡½æ•°ä¸­çš„`EmojiList`ç»„ä»¶ã€‚

[åœ¨ CodeSandbox ä¸Šæ‰“å¼€æ¼”ç¤º](https://codesandbox.io/s/3vjxn0ykyq)

å¦‚æœä½ æ‰“å¼€ *CodeSandbox ä¾§è¾¹æ *ï¼Œä½ ä¼šçœ‹åˆ°æˆ‘ä»¬çš„æ–‡ä»¶æ ‘æ˜¯è¿™æ ·çš„:

```
.
â”œâ”€â”€ components
â”‚   â”œâ”€â”€ EmojiList.js
â”‚   â””â”€â”€ styles.js
â””â”€â”€ index.js 
```

Enter fullscreen mode Exit fullscreen mode

è¿™ç§æ–¹æ³•æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚ä½†æ˜¯åœ¨**æ›´å¤§çš„ä»£ç åº“**ä¸Šï¼Œé‚£ç§ç»„ä»¶**å°±å˜å¾—å¾ˆéš¾ç»´æŠ¤**ï¼Œå› ä¸ºé‡Œé¢æœ‰å¾ˆå¤šä¸œè¥¿:*çŠ¶æ€*ï¼Œ *ui* ï¼Œ*æ•°æ®*...çœ‹çœ‹ä¸‹é¢æˆ‘ä»¬çš„ç»„ä»¶ä»£ç ğŸ‘‡

`EmojiList.js`

```
import React from "react"

import styles from "./styles"

class EmojiList extends React.Component {
  state = {
    searchInput: "",
    emojis: []
  }

  render() {
    const emojis = this.state.emojis.filter(emoji =>
      emoji.code.includes(this.state.searchInput.toLowerCase())
    )

    return (
      <ul style={styles.list}>
        <input
          style={styles.searchInput}
          placeholder="Search by name"
          type="text"
          value={this.state.searchInput}
          onChange={event => this.setState({ searchInput: event.target.value })}
        />
        {emojis.map((emoji, index) => (
          <li key={index} style={styles.item}>
            <div style={styles.icon}>{emoji.emoji}</div>
            <div style={styles.content}>
              <code style={styles.code}>{emoji.code}</code>
              <p style={styles.description}>{emoji.description}</p>
            </div>
          </li>
        ))}
      </ul>
    )
  }
}

export default EmojiList 
```

Enter fullscreen mode Exit fullscreen mode

æ”¹è¿›è¿™æ®µä»£ç çš„ä¸€ä¸ªæ­¥éª¤æ˜¯åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­åˆ›å»ºå•ç‹¬çš„ç»„ä»¶ï¼Œç„¶ååœ¨ä¸»ç»„ä»¶ä¸­ä½¿ç”¨å®ƒä»¬ã€‚ç„¶è€Œï¼Œä½ å°†åœ¨å…¶ä»–äº‹æƒ…ä¸­åˆ†äº«é£æ ¼ï¼Œè¿™å¯èƒ½ä¼šä»¤äººå›°æƒ‘ã€‚

#### é‡æ„

è®©æˆ‘ä»¬å¼€å§‹å°†å•ä¸ªç»„ä»¶é‡æ„ä¸ºå¤šä¸ªç»„ä»¶ï¼Œæ–¹æ³•æ˜¯[å°† UI åˆ†è§£æˆä¸€ä¸ªç»„ä»¶å±‚æ¬¡ç»“æ„](https://reactjs.org/docs/thinking-in-react.html#step-1-break-the-ui-into-a-component-hierarchy)ã€‚

[![emojilist-breakdown](../Images/b64cc0c61847ab8cbe571d18cc151b71.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--T2t_wBVk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://res.cloudinary.com/carloscuesta/image/upload/emojilist-breakdown.png)

å¦‚æœæˆ‘ä»¬çœ‹ä¸€ä¸‹å›¾ç‰‡ï¼Œå¾ˆå®¹æ˜“è¯†åˆ«å‡ºæˆ‘ä»¬å¯ä»¥**å°†**åˆ†è§£æˆ**ä¸‰ä¸ª**ä¸åŒçš„**ç»„ä»¶** : ğŸ› ä¸­çš„ **UI**

*   **`EmojiList`** :ç»„åˆè¾ƒå°çš„ç»„ä»¶ï¼Œå‘ä¸‹å…±äº«çŠ¶æ€ã€‚
    *   **`SearchInput`** :æ¥æ”¶ç”¨æˆ·è¾“å…¥ï¼Œæ˜¾ç¤ºæœç´¢æ ã€‚
    *   **`EmojiListItem`** :æ˜¾ç¤ºæ¯ä¸ªè¡¨æƒ…ç¬¦å·çš„åˆ—è¡¨é¡¹ï¼Œå¸¦æœ‰*å›¾æ ‡*ã€*åç§°*å’Œ*æè¿°*ã€‚

æˆ‘ä»¬å°†**ä¸º**çš„æ¯ä¸ª** **ç»„ä»¶**åˆ›å»º**ä¸€ä¸ª**æ–‡ä»¶å¤¹**ï¼Œæœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ª`index.js`å°†ä¿å­˜ç»„ä»¶å’Œ`styles.js`çš„æ‰€æœ‰ä»£ç ã€‚è¿™æ˜¯è¿™ç§æ¨¡å¼çš„å¥½å¤„ä¹‹ä¸€ã€‚æ¯ä¸ªç»„ä»¶éƒ½å®šä¹‰äº†è‡ªå·±çš„ UI å’Œé£æ ¼ï¼Œ**å°†**è¿™æ®µ**ä»£ç ä¸**å¦ä¸€ä¸ª**ç»„ä»¶**éš”ç¦»å¼€æ¥**ä¸éœ€è¦çŸ¥é“å®ƒä»¬çš„ä»»ä½•äº‹æƒ…**ã€‚

[åœ¨ CodeSandbox ä¸Šæ‰“å¼€æ¼”ç¤º](https://codesandbox.io/s/lx8ykrljl9)

æ³¨æ„ï¼Œåœ¨`EmojiList`æ–‡ä»¶å¤¹ä¸­ï¼Œ(*æ˜¯ä¸€ä¸ªç»„ä»¶*ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸¤ä¸ªåµŒå¥—ç»„ä»¶ï¼Œå®ƒä»¬å°†åªåœ¨`EmojiList`ç»„ä»¶ä¸­ä½¿ç”¨ã€‚å†è¯´ä¸€éï¼Œè¿™æ˜¯å› ä¸ºè¿™ä¸¤ä¸ªç»„ä»¶ä¸ä¼šåœ¨é‚£ä¸ªä¸Šä¸‹æ–‡ä¹‹å¤–ä½¿ç”¨ã€‚è¿™æœ‰åŠ©äºå‡å°‘è§†è§‰æ··ä¹±ã€‚

```
.
â”œâ”€â”€ EmojiList
â”‚   â”œâ”€â”€ EmojiListItem
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚   â”‚   â””â”€â”€ styles.js
â”‚   â”œâ”€â”€ SearchInput
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚   â”‚   â””â”€â”€ styles.js
â”‚   â”œâ”€â”€ index.js
â”‚   â””â”€â”€ styles.js
â””â”€â”€ index.js 
```

Enter fullscreen mode Exit fullscreen mode

ç°åœ¨ï¼Œè®©æˆ‘ä»¬å°†ä»£ç ä»æœ€å°åˆ°æœ€å¤§åˆ†ç¦»æˆä¸‰ä¸ªéƒ¨åˆ†:

`EmojiListItem/`

è¯¥ç»„ä»¶å‘ˆç°å°†å‡ºç°åœ¨åˆ—è¡¨ä¸­çš„æ¯ä¸ªè¡¨æƒ…ç¬¦å·é¡¹ç›®ã€‚

```
import React from "react"

import styles from "./styles"

const EmojiListItem = (props) => (
  <li style={styles.item}>
    <div style={styles.icon}>{props.emoji}</div>
    <div style={styles.content}>
      <code style={styles.code}>{props.code}</code>
      <p style={styles.description}>{props.description}</p>
    </div>
  </li>
)

export default EmojiListItem 
```

Enter fullscreen mode Exit fullscreen mode

`SearchInput/`

è¯¥ç»„ä»¶æ¥æ”¶ç”¨æˆ·è¾“å…¥å¹¶æ›´æ–°çˆ¶ç»„ä»¶çš„çŠ¶æ€ã€‚

```
import React from "react"

import styles from "./styles"

const SearchInput = (props) => (
  <input
    style={styles.searchInput}
    placeholder="Search by name"
    type="text"
    value={props.value}
    onChange={props.onChange}
  />
)

export default SearchInput 
```

Enter fullscreen mode Exit fullscreen mode

`EmojiList/`

è¿™æ˜¯é¡¶å±‚ç»„ä»¶ï¼Œä¿å­˜ç¤ºä¾‹çš„çŠ¶æ€å’Œæ•°æ®ï¼Œå¹¶å¯¼å…¥å…¶ä»–ç»„ä»¶æ¥é‡æ–°åˆ›å»ºè¿™ä¸ªå°åº”ç”¨ç¨‹åºçš„æ•´ä¸ª UIã€‚éš”ç¦»ç»„ä»¶ä½¿å¾—æ¸²æŸ“æ–¹æ³•æ›´å…·å¯è¯»æ€§ï¼Œä¹Ÿæ›´å®¹æ˜“ç†è§£âœ¨.

```
import React from "react"

import SearchInput from "./SearchInput"
import EmojiListItem from "./EmojiListItem"
import styles from "./styles"

class EmojiList extends React.Component {
  state = {
    searchInput: "",
    emojis: []
  }

  render() {
    const emojis = this.state.emojis.filter(emoji =>
      emoji.code.includes(this.state.searchInput.toLowerCase())
    )

    return (
      <ul style={styles.list}>
        <SearchInput
          onChange={(event) => this.setState({ searchInput: event.target.value })}
          value={this.state.searchInput}
        />
        {emojis.map((emoji, index) => (
          <EmojiListItem
            key={index}
            code={emoji.code}
            description={emoji.description}
            emoji={emoji.emoji}
          />
        ))}
      </ul>
    )
  }
}

export default EmojiList 
```

Enter fullscreen mode Exit fullscreen mode

è¿™åŸºæœ¬ä¸Šæ˜¯æˆ‘åœ¨å·¥ä½œçš„å…¬å¸ä½¿ç”¨çš„æ¶æ„ã€‚æˆ‘å¯¹ä½¿ç”¨è¿™ç§æ¨¡å¼çš„**ä½“éªŒ**éå¸¸æ»¡æ„ã€‚æˆ‘ä»¬çš„ç»„ä»¶å˜å¾—æ›´å®¹æ˜“ç»´æŠ¤å’Œä½¿ç”¨ã€‚æ— è®ºå¦‚ä½•ï¼Œè½¯ä»¶å·¥ç¨‹ä¸Šæ²¡æœ‰**é“¶å¼¹**ï¼Œæ‰€ä»¥**æƒ³æƒ³ä»€ä¹ˆå¯¹ä½ **æˆ–è€…ä½ çš„å›¢é˜Ÿæœ€æœ‰æ•ˆï¼