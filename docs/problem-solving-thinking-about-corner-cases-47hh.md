# 解决问题:思考角落案例

> 原文：<https://dev.to/ice_lenor/problem-solving-thinking-about-corner-cases-47hh>

*这篇文章最初发表在我的博客[smartpuffin.com](http://smartpuffin.com/how-to-answer-whats-the-most-challenging-task/)上。*

* * *

上周，一件非常美好的事情发生在我身上。我的两个同事问我关于分析角落案例的建议。

* * *

最近我们的团队有几个任务，我们忘记了考虑一些重要的边角案例。

特性被编码并推出，几乎准备好向用户展示(我们总是将我们的特性实现为 [a/b 实验](http://smartpuffin.com/ab-testing-basics/)，所以直到你开始实验，特性还不是“活的”，即使代码已经在生产中推出)。开发商拿出来测试，里面有 bug。一个非常简单的错误，比如当从数据库中加载的项目超过 5 个时，页面设计就会中断。

开发人员修复了错误，再次推出。但是还有另一个问题。如果没有任何项目，设计就会中断。

开发者叹气，修复 bug，推送，推出。但是他们忘记了 RTL 语言。并且在用户登录的情况下，项目不对齐。当设备处于夜间模式时，颜色应该会改变，但它没有。我们再次推迟发布。

循环继续。

回顾过去，这些错误是很容易避免的。但是我们如何更快地找到他们呢？

## 这么多问题

我们都知道这种感觉。你提出你的想法，得到的不是名誉和荣耀，而是看似无穷无尽的问题:

*   如果 X 会发生什么？
*   我们要怎么处理 Z？
*   如果用户输入的是“ABC”呢？
*   如果条件 M 发生，页面看起来不同；我们的功能还能用吗？
*   如果服务 N 重启，我们该如何处理？
*   每周六我们得到的 K 比平均水平多两倍，我们该怎么办？
*   服务 P 也用这个 API，我们换了会坏吗？
*   我们也有 R 型用户，我们向他们展示什么？
*   当时区为 T，货币为 O，月亮在双鱼座时，我们如何计算 Q？

问这些问题是一种技巧。不是每个人生来就有这种能力，当然，有时你会忘记。那么如果没人问他们会怎么样呢？

## 如果我们忘记了会很糟糕吗？

如果没有人问这些问题，并且没有考虑不同的情况就实现了一个系统或者一个特性，那么就会发生下面的情况。

### 1.它失败了

当没有要删除的内容时，开发人员忘记删除“删除”按钮。用户按下按钮。应用程序崩溃。用户生气了。

开发人员忘记了不可能有数据，仍然试图处理它。被零除或发生空指针异常。服务崩溃。

开发人员忘记其他服务使用相同的 API，改变它，服务失败。开发者需要半夜醒来，修复 API。

### 2.看起来很糟糕

开发人员忘记了可以有零个结果，并显示一个空框。布局中断。

开发人员忘记了可以有 5 个以上的项目。有 10 个项目。它们占据了所有的屏幕空间。布局中断。

### 3.它会造成伤害

开发商忘记了一些订单不能取消。用户取消。公司亏损。

### 4.糟糕的用户体验

开发者忘记了有一个“按价格排序”的模式。插入不符合排序的额外项目。用户感到困惑。

开发者忘记了有夜间模式。硬编码文本颜色。深蓝色文本在白色背景下看起来很好；在黑色背景下是看不见的。

### 5.没有不好的事情发生

有折扣时会显示一个图标。新图标“最佳选择”显示在同一位置。当最佳选择商品打折时，两个图标会重叠。看起来不漂亮，但也不算太糟。

## 如何避免？

我们已经列出了当开发人员忘记考虑极限情况时会发生的一些事情。后果不太好看！现在的问题是:我们如何避免它们？

当我的同事询问我的意见时，我们坐下来，想出了改进流程的三个步骤。

### 1.提前想好不同的案例

作为一个有十年经验和一点点强迫症的开发人员，我尽量提前考虑尽可能多的情况。通过这样做，我在设计系统或特性的阶段避免了许多列出的问题。

这意味着:在设计一个产品、一个功能或一个系统的阶段——尽可能多思考，尽可能多提问。

很可能你是为“最好的情况”而设计的。你应该开始思考:还有哪些案例？我的应用程序何时会表现得与平时不同？

有时我会写下清单，看起来有点像这样:

*   在< 3 个元素的情况下:不显示块；
*   如果> 10 个元素:只显示前 10 个并添加“显示更多”链接；
*   如果服务器失败:捕捉异常并显示消息，不要崩溃；
*   设备在风景模式:把按钮放在右边。

一个好主意是把所有这些都记录下来供大家阅读。最好把它放在原始任务描述的旁边——比如说，在你的吉拉机票上。文档化将帮助你在实现的时候记住你的决定，并且在测试的时候帮助很大。

### 2.向某人求助

越早越好。问问别人，看他们是否发现了你想法中的缺陷。

可以的话问几个人。不同的人会想到不同的事情。(这也是我看重多样性的原因之一。)

有时，人们会马上开始谈论替代解决方案。在这种情况下，尝试逆向工作，找出他们看到的问题是什么。他们到底想解决什么？

当然，你不必采纳他们所有的想法，有时你可能会决定采用不同于他们提议的解决方案。不过，你应该为他们的投入感到高兴和感激。

谈话之后，记录下这些决定，就像你之前的步骤一样——比如，在你的吉拉入场券上或者你的维基页面上。

与人交谈是一个很好的机会来更多地了解你正在工作的系统。下次你可能已经自己记住了所有这些案例，不需要那么多帮助。

试着理解他们的思维过程。他们是如何如此有条不紊地列出所有这些案件的？他们的秘诀是什么？下次你可以试着模仿他们。这是一个很好的机会来学习更多关于别人的角落案例搜索方法。

最后一点:QA 工程师和有经验的开发人员被训练来全面考虑任务。征求他们的宝贵意见。

### 3.尽早测试

这一步很大程度上取决于你的过程，我相信你能在你的环境中找出最好的方法。这里有一些选项可以让你开始思考。

如果可能的话，在你把最后一个分号放到代码中后，请别人看看你的特性。在承诺、推动、推出之前。

邀请他们使用您的笔记本电脑，或者给他们发送一个指向您的测试机的链接。如果他们发现了什么——你可以马上修复它，他们只需要刷新页面或重启应用程序就可以看到它在工作。

这将反馈周期从几周缩短到几分钟。

如果你有质量保证工程师，你可以让他们快速检查一下——那很好。如果你附近有用户——那就更好了。

敏捷方法也有帮助。在向客户展示你冲刺的结果时，你可能会发现很多你忘记了的有趣的事情。

代码审查是帮助解决问题的好方法。通过查看特性和代码，你会得到别人的意见。这是对角落案例的双重攻击！当然，代码审查还有其他好处。

最后，编写测试确实能让你更全面地思考。如果你设法先写测试再写代码，你不需要我的建议。

## 随机提示代替结论

我经常看到人们缺乏提前预见问题的技巧。同时，这也是开发人员的一项重要技能。这是解决问题技巧的一部分。这 5 个后果不会自行修复！

您不必在所有情况下都实现您的特性。有时，*而不是*为某个特定的极端情况实现某些东西是有益的。有时，你可能会做出权衡:你明确决定不关心某个条件。不过，你会做出明智的决定，而不是简单地随波逐流。

对你正在工作的系统有很好的了解真的很有帮助。当开始着手一个新项目时，花些时间了解它。试着像用户一样玩。阅读一些文档。做一些狗食。

提前考虑一些棘手的情况是一种技能，而且是可以训练的。如果你第一次不能做得完美，不要担心——你会学会的。