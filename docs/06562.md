# Git å‘½ä»¤ä½¿ä¸€ä¸ª fork ä¿æŒæœ€æ–°

> åŸæ–‡:[https://dev . to/philnash/git-commands-to-keep-a-fork-up-to-date-2327](https://dev.to/philnash/git-commands-to-keep-a-fork-up-to-date-2327)

æˆ‘æœ€è¿‘åœ¨ Twitter ä¸Šçœ‹åˆ°äº†ä»¥ä¸‹å…³äº git çš„æ¨æ–‡:

> ![Cory House ğŸ  profile image](../Images/b6f41d5c274123b20530e2595bf37da7.png)ç§‘é‡Œçš„æˆ¿å­ğŸ @ housecor![twitter logo](../Images/4c8a2313941dda016bf4d78d103264aa.png)æˆ‘â¤ï¸é¥­æ¡¶ã€‚ä½†è€å®è¯´ï¼Œè¿™è®©æˆ‘å®³æ€•äº†å¾ˆå¤šå¹´ã€‚æˆ‘è®¤ä¸ºæˆ‘éœ€è¦ç†è§£å®ƒæ‰€æœ‰çš„å¼ºå¤§åŠŸèƒ½æ‰èƒ½å¯Œæœ‰æˆæ•ˆã€‚æˆ‘å‘ç°äº‹å®å¹¶éå¦‚æ­¤ã€‚ä½ å¯ä»¥åœ¨ Git ä¸­ä½¿ç”¨å¤§çº¦ 6 ä¸ªå‘½ä»¤æ¥æé«˜æ•ˆç‡:
> 
> branch
> check
> add
> commit
> pull
> push2018 å¹´ 8 æœˆ 14:46 PM - 19 æ—¥[![Twitter reply action](../Images/44d8b042100e231770330321e5b63d65.png)](https://twitter.com/intent/tweet?in_reply_to=1031190760278970368)[![Twitter retweet action](../Images/93d9c70ccc54851d2e8e881b53c21dae.png)](https://twitter.com/intent/retweet?tweet_id=1031190760278970368)[![Twitter like action](../Images/2e93f7775eadefab8bcd34a4542cc5a7.png)](https://twitter.com/intent/like?tweet_id=1031190760278970368)

è¿™æ˜¯çœŸçš„ï¼Œä½ å¯ä»¥ç”¨è¿™äº›å‘½ä»¤å®Œæˆå¤§éƒ¨åˆ†å·¥ä½œã€‚

å¦‚æœä½ æƒ³ä¸ºä¸€ä¸ªå¼€æºé¡¹ç›®åšè´¡çŒ®(ç”šè‡³å¯èƒ½æ˜¯[è¿™ä¸ªç½‘ç«™](https://dev.to/ben/devto-is-now-open-source-5n1))è¯¥æ€ä¹ˆåŠï¼Ÿ)åœ¨ GitHubã€GitLab æˆ– BitBucket ä¸Šå‘¢ï¼Ÿä½ è¿˜éœ€è¦å‡ ä¸ªå‘½ä»¤æ¥æ›´æ–°ä½ çš„ forkï¼Œå³`remote`ã€`fetch`å’Œ`merge`ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å®ƒä»¬æ˜¯å¦‚ä½•ä½¿ç”¨çš„ã€‚

## [](#fork-away)å‰å¼€

å½“æ‚¨æ´¾ç”Ÿä¸€ä¸ªé¡¹ç›®æ—¶ï¼Œæ‚¨ä¼šåœ¨è‡ªå·±çš„åç§°ç©ºé—´ä¸‹åˆ›å»ºä¸€ä¸ªå‰¯æœ¬ã€‚è¦ä½¿ç”¨è¯¥é¡¹ç›®ï¼Œæ‚¨éœ€è¦å°†å­˜å‚¨åº“å…‹éš†åˆ°æ‚¨è‡ªå·±çš„æœºå™¨ä¸Šã€‚ä¸‹é¢ç”¨æˆ‘åˆ†å‰çš„ä¸€ä¸ªå›è´­æ¥ä¸¾ä¾‹: [Twilio çš„ Node.js åŒ…](https://github.com/philnash/twilio-node)ã€‚åˆ†å‰åï¼Œæˆ‘ä»¬å…‹éš†å›è´­:

```
git clone git@github.com:philnash/twilio-node.git 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬ç°åœ¨å¯ä»¥çœ‹åˆ°`remote`çš„ç¬¬ä¸€ä¸ªç”¨ä¾‹ã€‚åœ¨`twilio-node`ç›®å½•ä¸­è¿è¡Œ`git remote`ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ä»¥ä¸‹å†…å®¹:

```
git remote
origin 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¥½å§ï¼Œè¿™ä¸æ˜¯å¤ªæœ‰ç”¨ï¼Œå®ƒåªæ˜¯è¡¨æ˜æˆ‘ä»¬æœ‰ä¸€ä¸ªè¿œç¨‹å›è´­ç§°ä¸ºâ€œèµ·æºâ€ã€‚ç”¨`--verbose`æ ‡å¿—å†æ¬¡è¿è¡Œå®ƒä¼šæ˜¾ç¤ºæ›´å¤šçš„ä¿¡æ¯:

```
git remote --verbose
origin  git@github.com:philnash/twilio-node.git (fetch)
origin  git@github.com:philnash/twilio-node.git (push) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™æ ·æ›´å¥½ï¼Œè¿™è¡¨æ˜è¿œç¨‹å­˜å‚¨åº“æ˜¯æˆ‘ä»¬å…‹éš†çš„å­˜å‚¨åº“ï¼Œæˆ‘ä»¬å¯ä»¥ä»å®ƒé‚£é‡Œè·å–æ•°æ®ï¼Œä¹Ÿå¯ä»¥å‘å®ƒæ¨é€æ•°æ®ã€‚

## [](#making-changes)åšå‡ºæ”¹å˜

å½“å‘å›è´­åè®®è´¡çŒ®ä¸€äº›ä¸œè¥¿æ—¶ï¼Œåœ¨åˆ†è¡Œè¿™æ ·åšæ˜¯æœ€å®¹æ˜“çš„ã€‚è¿™æ ·å¯ä»¥ä¿æŒä¸»åˆ†æ”¯çš„æ•´æ´ï¼Œä¾¿äºæ›´æ–°ã€‚ç§‘é‡Œåœ¨ä»–çš„æ¨æ–‡ä¸­åˆ—å‡ºçš„å…­ä¸ªå‘½ä»¤æ¶µç›–äº†è®¾ç½®æ‚¨çš„æ›´æ”¹ï¼›ä½ ç”¨`branch`ã€`checkout`åˆ†æ”¯åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ï¼Œåšä½ æƒ³è¦çš„æ”¹å˜ï¼Œ`commit`å¤šæ¬¡ï¼Œæœ€å`push`åˆ†æ”¯åˆ°åŸç‚¹ï¼Œä½ çš„åˆ†å‰ã€‚ç„¶åä½ å¯ä»¥åˆ›å»ºä½ çš„æ‹‰è¯·æ±‚ï¼Œå¹¶å¸Œæœ›å®ƒè¢«æ¥å—ã€‚

è¿‡äº†ä¸€æ®µæ—¶é—´åï¼Œä½ å‘ç°ä½ æƒ³æå‡ºå¦ä¸€ä¸ªæ‹‰è¯·æ±‚ï¼Œä½†åŸæ¥çš„å›è´­å·²ç»è½¬ç§»äº†ã€‚æ‚¨éœ€è¦æ›´æ–°æ‚¨çš„ forkï¼Œä»¥ä¾¿ä½¿ç”¨æœ€æ–°çš„ä»£ç ã€‚æ‚¨å¯ä»¥åˆ é™¤æ‚¨çš„ fork å¹¶å†æ¬¡ç»å†æ´¾ç”Ÿå’Œå…‹éš† repo çš„è¿‡ç¨‹ï¼Œä½†è¿™æ˜¯è®¸å¤šä¸å¿…è¦çš„å·¥ä½œã€‚ç›¸åï¼Œæ·»åŠ ä¸Šæ¸¸å­˜å‚¨åº“ä½œä¸º repo çš„å¦ä¸€ä¸ªè¿œç¨‹å­˜å‚¨åº“ï¼Œå¹¶ä»å‘½ä»¤è¡Œä½¿ç”¨å®ƒã€‚

## [](#adding-the-upstream)æ·»åŠ ä¸Šæ¸¸

ä¸ºæ­¤ï¼Œæˆ‘ä»¬å†æ¬¡ä½¿ç”¨`remote`å‘½ä»¤ï¼Œè¿™æ¬¡æ˜¯ä¸ºäº†`add`ä¸€ä¸ªæ–°çš„é¥æ§å™¨ã€‚æ‰¾åˆ°åŸå§‹ repo çš„ URLï¼Œå¹¶å°†å…¶æ·»åŠ ä¸ºæ–°çš„ remoteã€‚æŒ‰ç…§æƒ¯ä¾‹ï¼Œè¿™ä¸ªé¥æ§å™¨è¢«ç§°ä¸ºâ€œä¸Šæ¸¸â€,å°½ç®¡ä½ å¯ä»¥éšä¾¿å«å®ƒä»€ä¹ˆã€‚

```
git remote add upstream git@github.com:twilio/twilio-node.git 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬å†æ¬¡æ£€æŸ¥å›è´­åè®®çš„è¿œç¨‹ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°èµ·æºå’Œä¸Šæ¸¸ã€‚å¯ä»¥ç”¨`-v`ä½œä¸º`--verbose`çš„å¿«æ·é”®ã€‚

```
git remote -v
origin git@github.com:philnash/twilio-node.git (fetch)
origin git@github.com:philnash/twilio-node.git (push)
upstream    git@github.com:twilio/twilio-node.git (fetch)
upstream    git@github.com:twilio/twilio-node.git (push) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#fetching-the-latest)æŠ“å–æœ€æ–°çš„

ä¸ºäº†æ›´æ–°å›è´­åè®®ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥ä»ä¸Šæ¸¸å›è´­åè®®ä¸­è·å–æœ€æ–°ä¿¡æ¯ã€‚çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:

```
git fetch upstream
remote: Counting objects: 6427, done.
remote: Compressing objects: 100% (549/549), done.
remote: Total 6427 (delta 5156), reused 5105 (delta 4939), pack-reused 934
Receiving objects: 100% (6427/6427), 2.54 MiB | 1.28 MiB/s, done.
Resolving deltas: 100% (5399/5399), completed with 391 local objects.
From github.com:twilio/twilio-node
   6a6733a8..73656c50 master -> upstream/master 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä»å­˜å‚¨åº“ä¸­ä¸‹è½½å¯¹è±¡å’Œå¼•ç”¨ï¼Œä½†ä¸å°†å…¶åº”ç”¨åˆ°æˆ‘ä»¬æ­£åœ¨å¤„ç†çš„åˆ†æ”¯ã€‚æˆ‘ä»¬å¸Œæœ›å°†æ›´æ–°åº”ç”¨åˆ°ä¸»åˆ†æ”¯ï¼Œæ‰€ä»¥è¦ç¡®ä¿å®ƒæ˜¯ç­¾å‡ºçš„ã€‚

```
git checkout master 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#merging-it-all-together)å°†ä¸€åˆ‡èåˆåœ¨ä¸€èµ·

ä½¿ä¸»åˆ†æ”¯ä¸é¥æ§å™¨ä¿æŒä¸€è‡´`merge`é¥æ§å™¨çš„ä¸»åˆ†æ”¯è¿›å…¥æˆ‘ä»¬è‡ªå·±çš„åˆ†æ”¯ï¼Œå°±åƒè¿™æ ·:

```
git merge upstream/master 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¦‚æœä½ æŠŠä½ çš„å·¥ä½œæ”¾åœ¨ä¸»åˆ†æ”¯ä¹‹å¤–ï¼Œè¿™å°†ä¼šé¡ºåˆ©è¿›è¡Œã€‚æœ€å`push`è¿™äº›å¯¹ fork çš„æ›´æ–°ä½¿å®ƒä¹Ÿæ˜¯æœ€æ–°çš„ã€‚

```
git push origin master 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ä¸»åˆ†æ”¯ä¸Šçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯æœ€æ–°çš„ã€‚å¦‚æœæ‚¨éœ€è¦æ›´æ–°ä¸åŒçš„åˆ†æ”¯ï¼Œè¯·ç”¨åˆ†æ”¯åç§° master æ›¿æ¢æ‚¨æ­£åœ¨ä½¿ç”¨çš„åˆ†æ”¯ã€‚

## [](#shortcuts)å¿«æ·é”®

å¦‚æœä½ ä¸€ç›´åœ¨ç”¨`git pull`å·¥ä½œï¼Œé‚£ä¹ˆä½ å¯èƒ½å·²ç»çœ‹åˆ°äº†ä¸€ä¸ªæ½œåœ¨çš„å¿«æ·æ–¹å¼ã€‚`pull`æ˜¯`fetch`å’Œ`merge`çš„ç»„åˆï¼Œæ‰€ä»¥è¦åœ¨ä¸€ä¸ªå‘½ä»¤ä¸­æ‰§è¡Œè¿™ä¸¤ä¸ªåŠ¨ä½œï¼Œæ‚¨å¯ä»¥è¿è¡Œ:

```
git pull upstream master 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#fork-happy)å‰å¼€å¿ƒ

è¿™å°±æ˜¯ä½ åœ¨ä¸ºå¼€æºåšè´¡çŒ®æ—¶ä¿æŒ fork æœ€æ–°æ‰€éœ€è¦çŸ¥é“çš„ä¸€åˆ‡ã€‚æ·»åŠ ä¸Šæ¸¸ä½œä¸ºæ–°çš„`remote`å›è´­ã€`fetch`ä¸Šæ¸¸å›è´­å’Œ`merge`æ‚¨æƒ³è¦æ›´æ–°çš„åˆ†æ”¯ã€‚

å…³äºè¿™é‡Œå„ç§å‘½ä»¤çš„æ›´å¤šç»†èŠ‚ï¼Œè¯·çœ‹ä¸€ä¸‹ Pro Git ä¹¦ç±ä¸­çš„[â€œä½¿ç”¨é¥æ§å™¨â€ã€‚](https://git-scm.com/book/en/v2/Git-Basics-Working-with-Remotes)

è®°ä½ï¼Œå¦‚æœä½ è¢« git å¡ä½äº†ï¼Œçœ‹çœ‹[å“¦ï¼Œå¦ˆçš„ï¼Œgitï¼](http://ohshitgit.com/)æ„Ÿè°¢ä½ æ‰€æœ‰çš„è‡ªæ•‘æ–¹æ³•ã€‚

åˆ†å‰å¿«ä¹ï¼