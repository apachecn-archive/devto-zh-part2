# 克服精神封锁

> 原文:[https://dev . to/miracle blue/克服心理封锁-1ahc](https://dev.to/miracleblue/overcoming-the-mental-blockade-1ahc)

我们都知道这种感觉。你有了一项新任务要做，却想不出如何实施。或者；你对某事有了一个想法，但你不能决定从哪里开始。不管是什么问题，你都有一个问题要解决，但还不知道如何解决。不，你不是一个人，你也不是一个糟糕的开发者。

在我的开发生涯中，这个问题困扰了我很长时间，直到最近，我才找到了克服它的窍门。请注意，您的里程可能会有所不同。适合我的不一定适合你，这也不是什么灵丹妙药，但是我建议你试一试:)

首先，让我们发挥想象力。请考虑这样一种情况，您被要求在某个东西之上构建某种 API 层。当我说一个 API 时，我只是指执行某些相关任务的一系列函数或方法。比方说，我们需要在 JS 中构建一个助手库来生成媒体查询字符串。我为我的 [Shades library](https://github.com/bupa-digital/shades) 构建了这样一个工具(不要脸的插头，抱歉)。

我完成这项任务的方法是逆向工作。等等，什么？让我展示给你看。我们知道最终的结果，因为它已经为我们描述过了:我们想要生成媒体查询字符串。这个包装器库需要能够生成任何有效的媒体查询。因此，第一步，看几个中型媒体查询示例，这些示例结合了一组广泛的媒体查询功能，同时让我们弄清楚媒体查询中可以包含哪些不同类型的值。

以下是取自 [MDN 文档](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries)的一些示例:

*   `@media print`
*   `@media screen, print`
*   `@media (max-width: 1245px)`
*   `@media screen and (min-width: 30em) and (orientation: landscape)`
*   `@media screen, print and (min-width: 30em) and (max-width: 100em) and (orientation: landscape) and (color)`

在查看了这些内容以及 MDN 关于该主题的其他文档后，我们发现媒体查询支持以下内容:

*   媒体“类型”，其中只有 4 个可能的值:`all`、`print`、`screen`和`speech`，在单个查询中可以有从 0 到所有这些的任意值。
*   媒体“特性”，其中大部分可以接受自己的值(如接受像素数的`width`和`height`)，有些只允许一组可能值中的一个(如`orientation`，它只能是`portrait`或`landscape`)，而其他的如果包含 then 而不指定值，则隐式设置为 true(如`color`或`monochrome`)
*   逻辑运算符(如`not`、`and`等)

现在我们了解了查询中所有不同的可能值(或者至少我们知道不同的种类！)并且我们有不同的媒体查询的例子。它们可以小到只有一个值，可以是媒体“类型”，也可以是媒体“特征”。或者，它们可以大到您想要的程度，包括几乎所有可能的“特性”和所有有效的“类型”，包括各种逻辑操作符和组合符。因此，这是相当令人生畏的，但我们不需要从一个接一个地实现这些开始！一点也不！

让我们从想象我们已经建立了完美的图书馆开始，我们现在就可以使用它。如果我们需要使用这个库编写一个媒体查询，会是什么样子呢？想象它是世界上完成这项任务的最好的 JS 库，而不用担心实现或复杂性或任何事情。假装一切都为你做好了。让我们试着用我们神奇的虚拟库写一个媒体查询。我在最开始写的“理想的 api”是这样的:

`media.screen.portrait.width(950).hover`

这可以翻译成这样的话:

`@media screen and (orientation:portrait) and (width:950px) and (hover:hover)`

现在我们有了一个真正想要建造什么的想法！最终结果可能会稍有不同，但总体目标是非常明确的。我们现在也可以开始编写我们的第一个测试用例了！最后，我构建的实际 API 看起来更像:

`media().screen().portrait().width(950).hover()`

只有轻微的变化，但是变化还是可以的。仅仅因为我们首先设计了我们的 API 并不意味着它是一成不变的。至少我们现在有了一个目标。

我希望这个方法能像帮助我一样帮助你。下次见！