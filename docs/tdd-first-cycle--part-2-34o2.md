# TDD ç¬¬ä¸€å‘¨æœŸ(ç¬¬äºŒéƒ¨åˆ†)

> åŸæ–‡ï¼š<https://dev.to/apium_hub/tdd-first-cycle--part-2-34o2>

è®©æˆ‘ä»¬ç»§ç»­æˆ‘ä»¬çš„ TDD ç³»åˆ—æ–‡ç« ï¼Œåœ¨ç¬¬ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬çœ‹äº† TDD å’Œå•å…ƒæµ‹è¯•èƒŒåçš„ç†è®ºã€‚åœ¨ç¬¬äºŒéƒ¨åˆ†ï¼Œ *TDD ç¬¬ä¸€å‘¨æœŸ*ï¼Œæˆ‘ä»¬å¼€å§‹å¼€å‘æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œä¸€ä¸ªç¬”è®°åº”ç”¨ç¨‹åºï¼Œç”¨æˆ·å¯ä»¥å†™ç¬”è®°å’Œæˆ‘ä»¬æƒ³åˆ°çš„ä¸€åˆ‡ã€‚å¦‚æœæ‚¨æœ‰å…´è¶£äº†è§£æˆ‘ä»¬å¦‚ä½•åœ¨åº”ç”¨ç¨‹åºä¸­å¼€å‘ä»»ä½•ç‰¹å®šåŠŸèƒ½ï¼Œè¯·ç•™ä¸‹è¯„è®ºã€‚è®©æˆ‘ä»¬ä»æˆ‘ä»¬çš„ TDD ç¬¬ä¸€å‘¨æœŸæµç¨‹å¼€å§‹å§ï¼

## *TDD ç¬¬ä¸€å‘¨æœŸ*

è¦å¼€å§‹å¼€å‘æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥ä»ç”¨æˆ·å®ä½“å¼€å§‹(éå¸¸é€šç”¨ï¼Œå®ƒç”¨äºä¸€åˆ‡)ï¼Œæˆ‘ä»¬ç¨åä¼šçœ‹åˆ°æ˜¯å¦æœ‰å¿…è¦å°†å…¶æ›´æ”¹ä¸ºæ›´å…·ä½“çš„ä¸œè¥¿ã€‚

æˆ‘ä»¬å¿…é¡»æ—¶åˆ»ç‰¢è®° TDD å¾ªç¯ã€‚ç¬¬ä¸€æ­¥æ˜¯çº¢è‰²çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯»æ‰¾ä¸€ä¸ªå¤±è´¥çš„æµ‹è¯•ï¼Œä¸€æ—¦æˆ‘ä»¬æŠŠå®ƒå˜æˆç»¿è‰²ï¼Œæˆ‘ä»¬å°±æœ‰äº†åº”ç”¨ç¨‹åºçš„åŠŸèƒ½(éƒ¨åˆ†æˆ–å…¨éƒ¨)ã€‚

åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»ä¸ºæˆ‘ä»¬çš„å®ä½“â€œå‘æ˜â€ä¸€ä¸ªå¯èƒ½çš„æ¥å£ã€‚å®ƒå°†ä¼šä¸æ–­å‘å±•ï¼Œå› ä¸ºæ–°çš„æˆ–æ›´å¥½çš„ä¸œè¥¿å°†ä¼šå‡ºç°ï¼Œå¾ˆå¯èƒ½æˆ‘ä»¬å°†ä¸å¾—ä¸ä¿®æ”¹æµ‹è¯•å’Œç”Ÿäº§ä»£ç ã€‚æˆ‘ä»¬ä¸åº”è¯¥è®¤ä¸ºä¸€æ—¦ç¼–å†™äº†ä¸€ä¸ªæµ‹è¯•å¹¶å°†å…¶ç½®ä¸ºç»¿è‰²ï¼Œå®ƒå°±ä¸èƒ½è¢«ä¿®æ”¹æˆ–åˆ é™¤â€¦è®©æˆ‘ä»¬ä»ä¸€ä¸ªæµ‹è¯•å¼€å§‹ï¼Œè¯¥æµ‹è¯•éªŒè¯å·²ç»åˆ›å»ºäº†ä¸€ä¸ªå¸¦æœ‰å§“åçš„ç”¨æˆ·ï¼Œä¾‹å¦‚:

```
 describe("given user", () => {
  describe("with valid data", () => {
    test("is created", (done: any) => {
      const validUser = new User("someId", "Oscar", "Galindo");
      expect(validUser.toString()).toEqual("User(someId,Oscar,Galindo)");
      done();
    });
  });
}); 
```

> åœ¨ç¬¬ä¸€ä¸ªæµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬ç”¨ toString (*)æ£€æŸ¥åˆ›å»ºçš„ç”¨æˆ·æ˜¯å¦æ˜¯æˆ‘ä»¬æœŸæœ›çš„ç”¨æˆ·ã€‚éšç€å®ä½“çš„å¢é•¿ï¼Œè¦è¿›è¡Œæ£€æŸ¥å®ä½“æ‰€æœ‰å±æ€§çš„æµ‹è¯•ä¼šæœ‰çŸ­æœŸæˆæœ¬ï¼Œæˆ‘ä»¬å¯ä»¥é—®è‡ªå·±ï¼Œæµ‹è¯•å®ä½“çš„æ‰€æœ‰å±æ€§æ˜¯å¦æœ‰æ„ä¹‰ã€‚([å•å…ƒæµ‹è¯•çš„è‰ºæœ¯](https://www.manning.com/books/the-art-of-unit-testing))ã€‚
> 
> (toString è¿˜æ²¡æœ‰ç»è¿‡æµ‹è¯•(æ˜¾å¼)ï¼Œå› ä¸ºå®ƒæ˜¯æˆ‘ä»¬ç”¨æ¥è¿›è¡Œè°ƒè¯•/æµ‹è¯•çš„æ–¹æ³•ã€‚

å¥½çš„ï¼Œæˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªçº¢è‰²çš„æµ‹è¯•ï¼Œå› ä¸º *TDD ç¬¬ä¸€å‘¨æœŸ*æŒ‡ç¤º:çº¢è‰²ã€‚è®©æˆ‘ä»¬å›åˆ° *TDD ç¬¬ä¸€å‘¨æœŸ*ï¼Œæˆ‘ä»¬å¿…é¡»ä»¥æœ€ç®€å•çš„æ–¹å¼å°†æµ‹è¯•ç½®äºç»¿è‰²ï¼Œè¿™å¬èµ·æ¥å¯èƒ½å¾ˆè’è°¬ï¼Œä½†è¿™æ˜¯å¿…é¡»è¦åšçš„ã€‚TDD å¸®åŠ©ä½ ä¸“æ³¨äºä¸€ä»¶äº‹ï¼Œä½†æ˜¯å½“ç„¶ï¼Œè¿™å–å†³äºç¨‹åºå‘˜ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»è®°ä½å­˜åœ¨çš„è¿‡ç¨‹å’Œå¸®åŠ©æˆ‘ä»¬çš„è¿‡ç¨‹ã€‚

ç¬¬ä¸€ä¸ªé”™è¯¯å‡ºç°åœ¨ç¼–è¯‘æ—¶ã€‚å®ƒä¸çŸ¥é“â€œç”¨æˆ·â€æ˜¯ä»€ä¹ˆï¼Œå½“æˆ‘ä»¬åˆ›å»ºå®ƒæ—¶ï¼Œæˆ‘ä»¬åº”è¯¥å°†è¾“å…¥å‚æ•°èµ‹ç»™ç±»çš„å±æ€§:

```
 export class User {
  constructor(private id: string, private name: string, private lastname: string) {}
} 
```

> åœ¨ä½ å¯èƒ½åœ¨äº’è”ç½‘ä¸Šæ‰¾åˆ°çš„ä¾‹å­ä¸­ï¼Œä»–ä»¬é€šå¸¸åœ¨ç¬¬ä¸€æ¬¡è¿­ä»£ä¸­å®ç°å°½å¯èƒ½å¤šçš„ç¡¬ç¼–ç ï¼Œæ‰­æ›²å“åº”ä»¥å°†æµ‹è¯•ç½®äºç»¿è‰²â€¦å—¯ï¼Œè¿™ä¸æ˜¯ 100%é‚£æ ·ã€‚
> 
> å¤§å¤šæ•°æƒ³è¦å­¦ä¹  TDD çš„å¼€å‘äººå‘˜è®¤ä¸ºè¿™æ˜¯æµªè´¹æ—¶é—´ï¼Œå½“æˆ‘ä»¬çŸ¥é“å®ç°(å°†æµ‹è¯•ç½®äºç»¿è‰²)å¹¶ä¸”ç®€å•æ—¶ï¼Œç¡¬ç¼–ç ç­”æ¡ˆä¼¼ä¹æ˜¯è’è°¬çš„ï¼Œå®ƒä¹Ÿåœ¨ TDD ä¸­è¢«æ¥å—ã€‚æœ‰å‡ ç§æ–¹æ³•å¯ä»¥æœ€å¿«åœ°å°†æµ‹è¯•ç½®äºç»¿è‰²ï¼Œå°½ç®¡åœ¨æœ¬ç« ä¸­æˆ‘å°†åªæåˆ°å…¶ä¸­çš„ä¸¤ç§:

*   ä¼ªé€ ç­”æ¡ˆ:ä¼ªé€ ç­”æ¡ˆï¼Œä»¥ä¾¿å°½å¿«å°†æµ‹è¯•ç½®äºç»¿è‰²ã€‚
*   æ˜¾è€Œæ˜“è§çš„å®ç°:å¦‚æœæˆ‘ä»¬çŸ¥é“å®ç°ï¼Œé‚£ä¹ˆå®ƒå¾ˆå®¹æ˜“å¼€å‘ï¼Œå¹¶ä¸”ä¸å°†æµ‹è¯•ç½®äºç»¿è‰²ç¯å¢ƒçš„é£é™©å¾ˆå°ï¼Œç»§ç»­è¿›è¡Œå§ã€‚
    *   å¦‚æœæˆ‘ä»¬ä¸æŠŠæµ‹è¯•æ ‡ä¸ºç»¿è‰²ï¼Œå°±å›å»ä¼ªé€ å®ƒã€‚è¿™é‡Œæœ€é‡è¦çš„æ˜¯å…³æ³¨æµ‹è¯•è¦æ±‚æˆ‘ä»¬åšä»€ä¹ˆï¼Œä»…æ­¤è€Œå·²ã€‚

å¾ˆå¥½ï¼Œæˆ‘ä»¬å·²ç»æ˜¯ç»¿è‰²çš„äº†ï¼Œç°åœ¨æ˜¯é‡æ„çš„éƒ¨åˆ†ã€‚è¿™ä¸€éƒ¨åˆ†å¾ˆç‰¹åˆ«ï¼Œæˆ‘æœ‰ç±»ä¼¼â€œtdd å¸®åŠ©ä½ åšå‡ºæœ‰ç”¨çš„ç‹—å±ä»£ç â€çš„æƒ³æ³•ï¼Œå¾ˆéš¾ç†è§£(è¿™æ˜¯ TDD å­¦ä¹ çš„ä¸€éƒ¨åˆ†)TDD å¹¶ä¸æ„å‘³ç€åšæµ‹è¯•ã€‚æ­£å¦‚æˆ‘ä»¬å·²ç»æåˆ°çš„ï¼ŒTDD æ˜¯ä¸€ä¸ªå¸®åŠ©ä½ è®¾è®¡ã€å»ºæ¨¡ä½ çš„ä»£ç çš„è¿‡ç¨‹ï¼Œåœ¨å®‰å…¨çš„æƒ…å†µä¸‹é‡‡å–å°½å¯èƒ½å°‘çš„æ­¥éª¤ã€‚å®ƒç¡®è®¤äº†æˆ‘ä»¬è„‘å­é‡Œçš„ä¸œè¥¿æ˜¯æ­£ç¡®çš„ï¼Œç»™äº†æˆ‘ä»¬ä¸€ä¸ªæŒç»­çš„è®¾è®¡ç©ºé—´ã€‚å¦‚æœä½ è·³è¿‡è¿™æœ€åä¸€æ­¥ï¼Œé‚£ä¹ˆè¯´æ˜ä½ ä¸æ˜¯åœ¨åš TDDï¼Œä½ æ˜¯åœ¨åš TF(å…ˆæµ‹è¯•)ã€‚TDD å…¬å¼(ä¸ç²¾ç¡®ä¸”æœ‰äº‰è®®):TF + Refactor = TDD

è¯´äº†è¿™ä¹ˆå¤šï¼Œç¬¬ä¸€æ¬¡æµ‹è¯•å¯ä»¥åšä»€ä¹ˆæ ·çš„é‡æ„å‘¢ï¼Ÿåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†ä¸åšä»»ä½•äº‹æƒ…ï¼Œæˆ‘ä»¬æ²¡æœ‰ä»»ä½•é‡å¤ï¼Œæˆ‘ä»¬ä¹Ÿä¸æƒ³æŠ½è±¡ä»»ä½•ä¸œè¥¿ã€‚è®©æˆ‘ç»™ä½ çœ‹ä¸€ç¯‡éå¸¸å¥½çš„æ–‡ç« ï¼Œåœ¨é‚£é‡Œä½ å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªåœ¨å¾ªç¯çš„æ¯ä¸€æ­¥éƒ½è¦è€ƒè™‘çš„æ¸…å•: [TDD æ¸…å•](http://www.giorgiosironi.com/2010/03/tdd-checklist-red-green-refactor-in.html)å’Œä¸€æœ¬å¾ˆæ£’çš„ä¹¦[é‡æ„](https://martinfowler.com/books/refactoring.html)ã€‚

è®©æˆ‘ä»¬ç»§ç»­ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº† *TDD ç¬¬ä¸€å‘¨æœŸ*ã€‚åŸºäºç¬¬ä¸€ä¸ªæµ‹è¯•ï¼Œæˆ‘æƒ³çŸ¥é“ç”¨æˆ·æ˜¯å¦å¯ä»¥ä½¿ç”¨ç©ºåç§°ï¼Œæˆ‘ä¹Ÿæƒ³çŸ¥é“å®ƒæ˜¯å¦å¯ä»¥æœ‰æ•°å­—æˆ–è¶…è¿‡ä¸€ç™¾ä¸‡ä¸ªå­—ç¬¦ï¼Œä½†æˆ‘ä¸“æ³¨äºä¸€ä¸ªï¼Œå…¶ä»–çš„éƒ½å†™åœ¨æˆ‘çš„å¾…åŠäº‹é¡¹åˆ—è¡¨ä¸­ï¼Œä»¥ä¾¿ä¸€æ­¥ä¸€æ­¥åœ°æ£€æŸ¥å®ƒä»¬(æˆ‘é€šå¸¸åœ¨åº”ç”¨ç¨‹åºä¸­æœ‰ä¸€ä¸ª ToDo.mdï¼Œæˆ‘åœ¨é‚£é‡Œå†™ä¸‹æˆ‘çœ‹åˆ°çš„ä¸€åˆ‡)ï¼Œæ˜¾ç„¶å®ƒä»¬æ˜¯æˆ‘ä»¬å¿…é¡»åšçš„éªŒè¯ï¼Œæˆ‘ä»¬å°†ä¼šåšã€‚

é¦–å…ˆï¼Œåƒå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæµ‹è¯•æ¥éªŒè¯åç§°ä¸èƒ½ä¸ºç©ºï¼Œå¾ˆç®€å•ï¼Œå¯¹å—ï¼Ÿ

```
 describe("with empty name", () => {
    test("should throw", (done: any) => {
      const userThrowWithEmptyNameCreator = () => new User("someId", "", "Galindo");
      expect(userThrowWithEmptyNameCreator).toThrow();
      done();
    });
}); 
```

æˆ‘ä»¬æœ‰ä¸€ä¸ªæµ‹è¯•åœ¨ä¸€ä¸ªç©ºåå­—ä¹‹å‰å¤±è´¥äº†ï¼Œè¿™ä¸€æ¬¡å®ƒå‘Šè¯‰æˆ‘ä»¬å®ƒåº”è¯¥ç»™å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œä½†æ˜¯å®ƒæ²¡æœ‰è¿™æ ·åšï¼Œä¸€äº›æ­£å¸¸çš„äº‹æƒ…æ²¡æœ‰å®ç°ã€‚æˆ‘ä»¬å°†ä»¥æœ€ç®€å•çš„æ–¹å¼å¼€å‘è¿™ä¸€åŠŸèƒ½:

```
 export class User {
  constructor(private name: string, private lastname: string) {
    if (name === "") {
      throw new Error("empty name");
    }
  }
} 
```

æˆ‘ä»¬å›å½’ç»¿è‰²ï¼æˆ‘ä»¬æœ‰äº†è¿›æ­¥ï¼Œæˆ‘ä»¬æœ‰äº†æ–°çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬æœ‰äº†ä¸€ä¸ªå®ç°äº†æŸäº›éªŒè¯è§„åˆ™çš„ç”¨æˆ·å®ä½“ï¼Œå¥½çš„æ–¹é¢æ˜¯å®ƒç»™äº†æˆ‘ä»¬ä¸€äº›è‡ªç”±æ¥å®‰å…¨åœ°è¿›è¡ŒæŸäº›é‡æ„ï¼Œå› ä¸ºæˆ‘ä»¬å¯¹ç»è¿‡éªŒè¯çš„ä»£ç è¿›è¡Œäº†æµ‹è¯•ï¼Œå¦‚æœæˆ‘ä»¬ç ´åäº†æŸäº›ä¸œè¥¿ï¼Œå®ƒä¼šé€šçŸ¥æˆ‘ä»¬ã€‚

ä¸€æ—¦æˆ‘ä»¬æŠŠå®ƒå˜æˆç»¿è‰²ï¼Œæˆ‘ä»¬å¿…é¡»é‡æ„æˆ‘ä»¬æ‰€æ‹¥æœ‰çš„ï¼Œä½†æ˜¯åœ¨äº§å“ä»£ç çš„å±‚é¢ä¸Šï¼Œæˆ‘ä»¬ä¸ä¼šç¢°ä»»ä½•ä¸œè¥¿ã€‚æµ‹è¯•ä»£ç å‘¢ï¼Ÿè¿™ä¹Ÿæ˜¯æˆ‘ä»¬çš„å‡†åˆ™ï¼Œè¿™äº›å‡†åˆ™ä¹Ÿå¾ˆé‡è¦ï¼Œä¹Ÿå¿…é¡»å¾—åˆ°ç»´æŠ¤ã€‚äº§å“ä»£ç éš¾ä»¥ç»´æŠ¤/é˜…è¯»å¯èƒ½ä¼šå¼•èµ·æ‹…å¿§ï¼Œä½†å¦‚æœåœ¨æµ‹è¯•ä¸­å‘ç°è¿™ç§ç±»å‹çš„ä»£ç ï¼Œæƒ…å†µä¼šæ›´ç³Ÿã€‚å¦‚æœæ‚¨åœ¨æµ‹è¯•ä¸­å‘ç°è¿™ç§ç±»å‹çš„ä»£ç ï¼Œä¼šå‘ç”Ÿä¸¤ä»¶äº‹:

*   ä½ ä¸å†ç›¸ä¿¡ä½ çš„æµ‹è¯•
*   ä½ æ²¡æœ‰æ³¨æ„å®ƒä»¬ï¼Œè¢«è·³è¿‡çš„æµ‹è¯•å¼€å§‹å‡ºç°ï¼Œè¢«è¯„è®ºæˆ–è€…ç›´æ¥è¢«åˆ é™¤ï¼Œç›´åˆ°æœ€ç»ˆæ²¡æœ‰æµ‹è¯•ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“æ¥ä¸‹æ¥ä¼šå‘ç”Ÿä»€ä¹ˆã€‚

åœ¨è¿™ä¸ªå°æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é‡æ„ä»€ä¹ˆï¼Ÿåœ¨è¿™ä¸¤ä¸ªæµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç”¨æˆ·ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªç”¨æˆ·åˆ›å»ºåˆ°ä¸€ä¸ªæ–¹æ³•ä¸­ï¼Œå¹¶ä¿æŒå¦‚ä¸‹çŠ¶æ€:

```
 describe("given user", () => {
  const createUser = (name: string, lastname: string) => new User("someId", name, lastname);
  const createValidUser = () => createUser("Oscar", "Galindo");
  const createUserWithEmptyName = () => createUser("", "Galindo");

  describe("with valid data", () => {
    test("is created", (done: any) => {
      const validUser = new User("someId", "Oscar", "Galindo");
      expect(validUser.toString()).toEqual("User(someId,Oscar,Galindo)");
      done();
    });
  });

  describe("with empty name", () => {
    test("should throw", (done: any) => {
      expect(createUserWithEmptyName).toThrow();
      done();
    });
  });
}); 
```

> åˆ›å»ºè¿™äº›å¯¹è±¡æœ‰è®¸å¤šç­–ç•¥:
> 
> *   æˆ‘ä»¬ä½¿ç”¨çš„æ–¹æ³•æ˜¯ï¼Œåœ¨å®ä½“åˆ›å»ºæµ‹è¯•ä¸­åˆ›å»ºä¸€ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯å¦‚æœå®ä½“å¢é•¿ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæœ‰é—®é¢˜(å°½ç®¡æˆ‘è®¤ä¸ºæˆ‘ä»¬å¯ä»¥è°ƒæŸ¥è¿™æ˜¯å¦æ˜¯ä¸€ä¸ªè®¾è®¡é—®é¢˜
> *   [å¯¹è±¡æ¯äº²](http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.18.4710&rep=rep1&type=pdf)
> *   [æµ‹è¯•æ•°æ®ç”Ÿæˆå™¨](http://www.natpryce.com/articles/000714.html)

ä¸€æ—¦é‡æ„ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æµ‹è¯•ä¿æŒç»¿è‰²ã€‚æˆ‘ä»¬è·å¾—äº†å¤§é‡çš„å¯è¯»æ€§ï¼Œå¹¶ä¸”æˆ‘ä»¬ä¸ºå…¶ä»–å¼€å‘äººå‘˜çš„ç»´æŠ¤ä»»åŠ¡æä¾›äº†ä¾¿åˆ©(æœ€é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬å¸®åŠ©å…¶ä»–äººç†è§£åº”ç”¨ç¨‹åºæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå› ä¸ºæµ‹è¯•æˆä¸ºäº†é¡¹ç›®æ–‡æ¡£çš„ä¸€éƒ¨åˆ†)

ç°åœ¨è®©æˆ‘ä»¬å¯¹å§“æ°åšå®Œå…¨ç›¸åŒçš„æ“ä½œã€‚æˆ‘ä»¬ä»æµ‹è¯•å¼€å§‹ï¼Œå®ƒå®é™…ä¸Šä¸ name çš„æµ‹è¯•ç›¸åŒï¼Œæˆ‘ä»¬å¿…é¡»ç»§ç»­å‰é¢çš„é‡æ„ï¼Œæˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªåˆ›å»ºç”¨æˆ·çš„å·¥å‚ï¼Œä¸ºä»€ä¹ˆä¸ä½¿ç”¨å®ƒå‘¢ï¼Ÿ

```
 const createUserWithEmptyLastName = () => createUser("Oscar", "");
describe("with empty lastname", () => {
    test("should throw", (done: any) => {
      expect(createUserWithEmptyLastName).toThrow();
      done();
    });
}); 
```

çº¢è‰²çš„æµ‹è¯•ï¼Œå¾ˆå¥½ï¼Œè¿™é‡Œå¼€å‘äººå‘˜å¼€å§‹å¤±å»ä¸€ç‚¹æ³¨æ„åŠ›ï¼Œæˆ‘é‡å¤ TDD çš„ 3 ä¸ªæ³•åˆ™ä¹‹ä¸€æ˜¯ä¸è¦å†™è¶…è¿‡è¶³å¤Ÿæ•°é‡çš„ä»£ç æ¥é€šè¿‡æµ‹è¯•ï¼Œé‚£ä¹ˆï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™äº›ä»£ç ï¼Ÿ

```
 export class User {
  constructor(private name: string, private lastname: string) {
    if (name === "") {
      throw new Error("empty name");
    }
    if (lastname === "") {
      throw new Error("empty lastname");
    }
  }
} 
```

æˆ‘ä»¬æœ‰ç»¿è‰²çš„æµ‹è¯•ï¼Œæˆ‘ä»¬æœ‰æ–°çš„åŠŸèƒ½ï¼é…·ï¼Œç°åœ¨æœ‰è¶£çš„äº‹æƒ…æ¥äº†ï¼Œé‡æ„ï¼è¿™æ¬¡åœ¨ç”Ÿäº§ä»£ç  [![ğŸ™‚](img/cfea5b58aa48fab10278694e22eb01ee.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--UFibHl0O--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://s.w.oimg/core/emoji/2.2.1/72x72/1f642.png) ä¸­ï¼Œä¸ºäº†é¿å…é‡å¤ï¼Œè¿™é‡Œæœ‰è®¸å¤šæŠ½è±¡æŠ€æœ¯(æˆ‘ä»¬å°†ä½¿ç”¨ ValueObjects)ã€‚ä½†æ˜¯æˆ‘ä»¬å°†åœ¨æˆ‘çš„ TDD ç³»åˆ—çš„ç¬¬ä¸‰ç¯‡æ–‡ç« ä¸­è®¨è®ºå®ƒã€‚å³å°†æ¨å‡ºï¼Œä¿æŒæ›´æ–°ï¼Œä¸è¦é”™è¿‡ï¼

å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äº *TDD ç¬¬ä¸€å‘¨æœŸ*çš„ä¿¡æ¯ï¼Œæˆ‘å¼ºçƒˆæ¨èä½ ç‚¹å‡»[è¿™é‡Œ](http://eepurl.com/cC96MY)è®¢é˜…æˆ‘ä»¬çš„æ¯æœˆç®€è®¯ã€‚

## å¦‚æœä½ è§‰å¾—è¿™ç¯‡å…³äº TDD ç¬¬ä¸€å‘¨æœŸçš„æ–‡ç« å¾ˆæœ‰è¶£ï¼Œä½ å¯èƒ½ä¼šå–œæ¬¢â€¦

[è½¯ä»¶å¼€å‘ä¸­çš„ TDD å®ä¾‹(ä¸Š)](https://dev.to/apium_hub/tdd-example-in-software-development-part-i-5bjn)

[Scala æ³›å‹ I: Scala ç±»å‹ç•Œé™](https://dev.to/apium_hub/scala-generics-i--scala-type-bounds-38)

[Scala generics II:åæ–¹å·®å’Œé€†å˜](https://dev.to/apium_hub/scala-generics-ii-covariance-and-contravariance-in-generics-5dib)

[Scala generics III:é€šç”¨ç±»å‹çº¦æŸ](https://dev.to/apium_hub/scala-generics-iii-generalized-type-constraints-58km)

BDD:ç”¨æˆ·ç•Œé¢æµ‹è¯•

[Scala ä¸­æ³›å‹ç±»å‹çš„ F-bound](https://apiumhub.com/tech-blog-barcelona/f-bound-scala-generics/)

[å¾®æœåŠ¡ vs æ•´ä½“æ¶æ„](https://apiumhub.com/tech-blog-barcelona/microservices-vs-monolithic-architecture/)

[â€œå‡ ä¹æ— é™â€çš„å¯æ‰©å±•æ€§](https://apiumhub.com/tech-blog-barcelona/almost-infinite-scalability/)

[iOS Objective-C app:æˆåŠŸæ¡ˆä¾‹ç ”ç©¶](https://dev.to/apium_hub/protected-ios-objective-c-app-cornerjob-successfull-case-study-89e)

[å¹´åº¦ç§»åŠ¨åº”ç”¨å¼€å‘è¶‹åŠ¿](https://dev.to/apium_hub/mobile-app-development-trends-of-the-year)

[Banco Falabella å¯ç©¿æˆ´è®¾å¤‡æ¡ˆä¾‹ç ”ç©¶](https://apiumhub.com/tech-blog-barcelona/banco-falabella-wearable-ios-android/)

[ç§»åŠ¨å¼€å‘é¡¹ç›®](https://apiumhub.com/software-projects-barcelona/)

[é¢å‘ iOS åº”ç”¨çš„ Viper æ¶æ„ä¼˜åŠ¿](https://apiumhub.com/tech-blog-barcelona/viper-architecture/)

[ä¸ºä»€ä¹ˆæ˜¯ç§‘ç‰¹æ—ï¼Ÿ](https://dev.to/apium_hub/why-kotlin-language-android-why-did-google-choose-kotlin--639)

[è½¯ä»¶æ¶æ„ä¼šè®®](https://dev.to/apium_hub/apiumhub-software-architecture-meetups-in-barcelona-31df)

[å®‰å“çº¯ MVP](https://dev.to/apium_hub/pure-model-view-presenter-in-android-1736)

[åœ¨ Java ä¸­ä½¿ç”¨ Vavr åŠŸèƒ½æ›´å¼º](https://dev.to/apium_hub/be-more-functional-in-java-with-vavr-5b4i)

[TDD ç¬¬ä¸€å‘¨æœŸ(ç¬¬äºŒéƒ¨åˆ†)](https://apiumhub.com/tech-blog-barcelona/tdd-first-cycle/)çš„å¸–å­æœ€æ—©å‡ºç°åœ¨ [Apiumhub](https://apiumhub.com) ä¸Šã€‚