# 重要提示:不要过度使用！重要的

> 原文：<https://dev.to/brightdevs/important-do-not-overuse-important-52nf>

您已经创建了 CSS 规则，并发现它没有达到预期的效果。您再次检查了 CSS 选择器和 HTML 代码，以检查它们是否对应。或者您只是在浏览器中打开了开发人员控制台，检查了元素并检查了样式列表中是否存在您的 CSS 规则。事实证明它在那里，但是声明被删除了。这意味着您刚刚遇到了某种 CSS 特异性问题。你只需要在你的声明中添加`!important`标志就可以了。是一个好的解决方案吗？从来没有。不过，我并不是说你不应该使用`!important`。我真正想说的是，如果你没有意识到后果，就不要使用`!important`。

[![Image](img/ebbc3893e568b31f2b3ef8f9566269f1.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--3e-FxMw0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/khlhz1w4bhxzl3h7g42t.jpg)

重要的事情先来。如果一个以上的选择器应用于某个 HTML 元素，那么就按照这个顺序来决定应用哪个特定的样式:

*   带有`!important`标志的 CSS 选择器，
*   内联样式(直接在 HTML 标签中定义的样式)，
*   具有更高特异性的选择器，
*   稍后在 css 中定义的选择器。

我将自下而上地阐述它们。

**1。CSS 规则的顺序**

这是很明显的——最后一条规则把一切都带走了。

```
p { 
    color: red;
}
p { 
    color: blue;
} 
```

Enter fullscreen mode Exit fullscreen mode

在上面的例子中，`p`中的文本将是蓝色的。重要的一点是:当你包含多个 css 文件(比如一些供应商文件)时，链接标签的顺序也很重要。始终将您自己的 css 文件放在最后，以确保您的样式生效。

**2。特异性**

那是什么？简而言之，这是一种基于每种类型的选择器出现的次数而应用于每个 CSS 选择器的权重。它是一个大基数系统中的一个数，由三个数字组成，具体如下(从最具体的开始):

*   ID 选择器的数量
*   类选择器、属性选择器和伪类的数量
*   类型选择器和伪元素的数量。

举个例子可能有助于澄清这一点。在下面的例子中 ID 选择器被标记为红色，类，属性，伪类选择器被标记为蓝色和类型和伪元素选择器被标记为绿色。

*   a :悬停给出 0 ， 0 ， 1
*   html 【类型=按钮】给出 0 、 1 、 1
*   body div div ul Li#特殊元素给出 1 、 0 、 5

数字之间的逗号在那里，以便你记住这不是一个十进制数，并且“数字”可能大于十进制“9”。尽管如此，为了使事情变得简单，你可以把这个数字想象成一个小数。至少只要你的选择器不包含超过十个相同类型的元素。

注意事项:

*   否定伪类内部的选择符和其他的一样计数，但是否定本身不算伪类:input:not(【type = range】)给出了 0 、 1 、 1 、
*   相同的简单选择器的重复出现是允许的，
*   任何继承下来的风格都有 0 、 0 、 0 的特异性。

在我看来，重要的是要理解特殊性，并知道为什么在其他选择器中选择一个选择器。如果你已经意识到了这一点，你可以用一个特异性计算器来帮助自己，比如这个。

**3。内嵌样式**

内联样式是直接在 HTML 标签中定义的样式。它们总是胜过任何其他 CSS 声明。有时你可能会发现特殊性表现为一个四位数，其中千的数字代表内联样式(就像前面提到的计算器一样)，但我个人更喜欢单独处理内联样式。

**4。`!important`旗**

最后我们有了`!important`旗。它只是让 CSS 规则变得最重要。我说过内联样式胜过任何其他 CSS 声明吗？嗯，`!important` flag 击败了 inline styles:)覆盖标记为 important 的样式的唯一方法是声明另一个规则，并将其标记为 important。正如内联样式一样，通常应该避免使用`!important`标志。但毕竟它是出于某种原因而存在的，所以也许有时它是可以接受的？

这里是我主观列出的你甚至不应该想到使用它的情况。

*   **在站点范围内的 CSS。**他们很可能会被推翻，你不应该为难你的同事。如果你打算继续这个项目(你很可能会继续)，你就更不应该为难自己:)
*   在一个你将要出版的图书馆里。试着从用户的角度出发，覆盖库的样式是很常见的。如果又难又讨厌，人们就不会去图书馆了。
*   当事情没有如你所愿时，作为第一选择。为了实现目标，你应该一直努力使你的选择更加具体。

另一方面，有没有什么情况下你可以使用`!important`旗而不感到羞耻？您可以在用户样式表中使用它(在您的浏览器中为您作为网页访问者定义的一段 CSS 有特殊需求的人可以使用它来放大文本或更改对比度)。有人说这是引入国旗的原因，虽然我没有找到任何可靠的信息。

与开发紧密相关的用例呢？我能想到的一个方法是覆盖内联定义的或者标记为`!important`的样式。但是，如果它们出现在第三方库中，这可能是查看其他库并重新考虑您的选择的最佳时机。如果它们位于您的项目中，而您没有权限更改它们，那么，在这里您似乎别无选择。当然，没必要提你创造的那些。他们不存在。你只是不要过度使用`!important`:)

最初发布于 [brightinventions.pl](https://brightinventions.pl/blog/)

软件工程师@光明发明
[电子邮件](//agnieszka.olszewska@brightinventions.pl)