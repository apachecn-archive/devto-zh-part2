# åœ¨ Arch/Manjaro Linux ä¸Šä¸º GCP è®¾ç½® Google Cloud SDK

> åŸæ–‡:[https://dev . to/nab bisen/setting-up-Google-cloud-SDK-of-GCP-on-archmanjaro-Linux-19mk](https://dev.to/nabbisen/setting-up-google-cloud-sdk-of-gcp-on-archmanjaro-linux-19mk)

## [T1ã€‘ç®€ä»‹](#intro)

åŸºäº [Arch Linux](https://www.archlinux.org/) çš„ Manjaro Linux ï¼Œæ˜¯æˆ‘æœ€å–œæ¬¢çš„å¼€å‘ç”¨ Linux å‘è¡Œç‰ˆã€‚
è¿™æ˜¯å› ä¸ºå®ƒçš„æ»šåŠ¨å‘å¸ƒå’Œ [AURã€æ‹±å½¢ç”¨æˆ·åº“ã€‘](https://aur.archlinux.org/)â€”â€”ä¸€ä¸ªç›¸å½“å¤§çš„åº“å’Œæœ‰ç”¨çš„åŒ…ã€‚

[GCPã€è°·æ­Œäº‘å¹³å°ã€‘](https://cloud.google.com/)ä¹Ÿæ˜¯äº‘è®¡ç®—çš„å¥‡è‘©ã€‚
å®ƒç»™äº†åˆ›ä¸šå…¬å¸æœåŠ¡åŠ›å’Œæˆæœ¬æœ‰æ•ˆæ€§ã€‚

## æ€»ç»“

ä¸ºäº†ä»å‘½ä»¤è¡Œç®¡ç† GCPï¼ŒGoogle æä¾›äº† [Google Cloud SDK](https://cloud.google.com/sdk/) ã€‚

æœ¬æ–‡å±•ç¤ºäº†å¦‚ä½•åœ¨ Arch/Manjaro Linux ä¸Šè®¾ç½® GCP ç®¡ç†ç¯å¢ƒã€‚

* *æ³¨ã€Linux å®˜æ–¹åŒ…åœ¨ [Debian/Ubuntu](https://cloud.google.com/sdk/docs/quickstart-debian-ubuntu) å’Œ[red hat/CentOS(Fedora é™¤å¤–)](https://cloud.google.com/sdk/docs/quickstart-redhat-centos)ä¸Šæœ‰å”®ã€‚*

<center>âœ¿ âœ¿ âœ¿</center>

## ç¬¬ä¸€æ­¥:è´¦æˆ·æ¿€æ´»

é¦–å…ˆè¦æœ‰è°·æ­Œäº‘è´¦å·ã€‚
[å¯å…è´¹è¯•ç”¨ã€‚](https://console.cloud.google.com/freetrial/)
å…¶å…è´¹æœåŠ¡åˆ—åœ¨[è¿™é‡Œ](https://cloud.google.com/pricing/free/)ã€‚

* *æ³¨æ„*:æ­¤æ—¶æˆ‘ä»¬å¯ä»¥/ä¸å¿…åˆ›å»ºé¡¹ç›®ã€‚

## ç¬¬äºŒæ­¥:google-cloud-sdk å®‰è£…

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…â€œgoogle-cloud-sdkâ€åŒ…ã€‚
AUR å¥—é¤å¯ä¾›é€‰æ‹©ã€‚

* *æ³¨*:æˆ–è€…æˆ‘ä»¬å¯ä»¥æŒ‰ç…§[Google Cloud SDK for Linux å®˜æ–¹å¿«é€Ÿå…¥é—¨æ•™ç¨‹](https://cloud.google.com/sdk/docs/quickstart-linux)é€‰æ‹©æ‰‹åŠ¨å®‰è£…ã€‚å·¥å…·ç‰ˆæœ¬å¯èƒ½ä»¥è¿™ç§æ–¹å¼ä¿®å¤ã€‚

æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥å¦‚ä¸‹:

```
$ git clone https://aur.archlinux.org/google-cloud-sdk.git

$ cd google-cloud-sdk/
$ # pkgbuild is necessary
$ makepkg -si
$ # authenticate for installation if required

$ # remove resource after installation
$ cd ../
$ rm -rf google-cloud-sdk/ 
```

## ç¬¬ä¸‰æ­¥:åˆå§‹åŒ–

åœ¨è¿™é‡Œï¼Œåªéœ€é”®å…¥`gcloud init`,ç»ˆç«¯ä¸Šçš„ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤å°†å¸¦æˆ‘ä»¬å®ŒæˆğŸ˜‰

åƒè¿™æ ·:

```
$ gcloud init

Welcome! This command will take you through the configuration of gcloud.

Your current configuration has been set to: [default]

You can skip diagnostics next time by using the following flag:
  gcloud init --skip-diagnostics

Network diagnostic detects and fixes local network connection issues.
Checking network connection...done.
The Reachability Check passed.
Network diagnostic (1/1 checks) passed.

You must log in to continue. Would you like to log in (Y/n)?  

...

# authorization via web browser will be required

...

You are logged in as: [{% your@account %}].

Pick cloud project to use: 
 [1] {% your-project if exists %}
 [2] Create a new project
$ Please enter numeric choice or text value (must exactly match list 
item):  1 # or you can create a new project by selecting "2"

Your current project has been set to: [{% your-existing-project %}].

$ Do you want to configure a default Compute Region and Zone? (Y/n)?  n

Created a default .boto configuration file at [/home/{% your-name %}/.boto]. See this file and
[https://cloud.google.com/storage/docs/gsutil/commands/config] for more
information about configuring Google Cloud Storage.
Your Google Cloud SDK is configured and ready to use!

* Commands that require authentication will use {% your@account %} by default
* Commands will reference project `{% your-project %}` by default
Run `gcloud help config` to learn how to change individual settings

This gcloud configuration is called [default]. You can create additional configurations if you work with multiple accounts and/or projects.
Run `gcloud topic configurations` to learn more.

Some things to try next:

* Run `gcloud --help` to see the Cloud Platform services you can interact with. And run `gcloud help COMMAND` to get help on any gcloud command.
* Run `gcloud topic -h` to learn about advanced features of the SDK like arg files and output formatting 
```

<center>âœ¿ âœ¿ âœ¿</center>

## ç»“è®º

ç°åœ¨å‘½ä»¤åœ¨æˆ‘ä»¬æ‰‹ä¸­ğŸ˜†

#### åŸºæœ¬å‘½ä»¤&å¼•ç”¨

è®©æˆ‘ä»¬ä½¿ç”¨`gcloud`åŸºæœ¬å‘½ä»¤:

```
$ # show some info
$ gcloud auth list
$ gcloud config list
$ gcloud info

$ # show help
$ gcloud help 
```

`gcloud`è¿™é‡Œå¼•ç”¨çš„æ˜¯ã€‚

ç„¶åï¼Œè®©æˆ‘ä»¬ç»§ç»­è¿›è¡Œ`gsutil` :

```
$ # show some info
$ gsutil ls

$ # show help
$ gsutil help 
```

`gsutil`è¿™é‡Œå¼•ç”¨çš„æ˜¯ã€‚

#### ç”¨æ³•ä¸¾ä¾‹#1

æœ€ç®€å•çš„å‘½ä»¤ç¤ºä¾‹ä¹‹ä¸€å¯èƒ½æ˜¯ç®¡ç† vm å®ä¾‹ã€‚

```
$ gcloud compute instances start {% instanc-name %}
$ gcloud compute instances stop {% instanc-name %} 
```

å®ƒä»¬çš„ç»†èŠ‚åœ¨è¿™é‡Œ:[å¯åŠ¨](https://cloud.google.com/sdk/gcloud/reference/compute/instances/start/)å’Œ[åœæ­¢](https://cloud.google.com/sdk/gcloud/reference/compute/instances/stop/)ã€‚

#### ç”¨æ³•ä¸¾ä¾‹ 2

ç°åœ¨æˆ‘ä»¬å¯ä»¥ç®¡ç†é¡¹ç›®å¯¹è±¡äº†ã€‚
ä¾‹å¦‚ï¼Œåœ¨åˆ›å»ºè‡ªå®šä¹‰è™šæ‹Ÿæœºæ˜ åƒæ—¶ï¼Œè¿™äº›å‘½ä»¤éå¸¸æœ‰ç”¨:

```
$ # to add resource
$ gsutil cp -a public-read {% local-image.tar.gz %} gs://{% bucket-name %}/{% server-image %}.tar.gz
$ # to remove resource
$ gsutil rm gs://{% bucket-name %}/{% server-image %}.tar.gz

$ # to create vm image
$ gcloud compute --project {% project-name %} images create {% vm-name %} --source-uri gs://{% bucket-name %}/{% server-image %}.tar.gz
$ # to delete vm image
$ gcloud compute --project {% project-name %} images delete {% vm-name %} 
```

ä»–ä»¬çš„è¯¦ç»†ä¿¡æ¯åœ¨è¿™é‡Œ: [gsutil cp](https://cloud.google.com/storage/docs/gsutil/commands/cp) ã€ [gsutil rm](https://cloud.google.com/storage/docs/gsutil/commands/rm) å’Œ [gcloud compute](https://cloud.google.com/sdk/gcloud/reference/compute/) ã€‚

è¿˜æœ‰ä¸€ä¸ª [gsutil å¿«é€Ÿå…¥é—¨](https://cloud.google.com/storage/docs/quickstart-gsutil/)ã€‚

<center>âœ¿ âœ¿ âœ¿</center>

éå¸¸æ„Ÿè°¢æ‚¨çš„é˜…è¯»ã€‚
å¿«ä¹ç¼–ç ğŸ˜ƒ