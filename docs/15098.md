# DDD 欧洲会议 I–2018 版笔记

> 原文:[https://dev.to/apium_hub/notes-on-ddd-europe-conference-i-2018-版-314n](https://dev.to/apium_hub/notes-on-ddd-europe-conference-i--2018-edition-314n)

就像去年一样，今年 2 月我有机会参加了领域驱动设计领域的一个非常重要的活动—**DDD 欧洲会议 2018** ,该会议在阿姆斯特丹市举行。

我不得不说，DDD 欧洲会议上的演讲者和观众的水平都非常高，尤其是如果我们将其与西班牙为软件开发人员和软件架构师组织的会议水平相比较的话。

然而，它们是一些对我来说非常没有意义的陈述。在我看来，这些离开发世界和整个技术世界太远了。

从我的角度来看，我刚才描述的一个例子是一次演讲:“**从混乱的遗产到 DDD 的应许之地**”。我期望深入到战略模式中去，朝着领域驱动设计逻辑的正确应用发展一个整体系统。

遗憾的是，在两位发言人的介绍之后，会议集中讨论了其中一位发言人领导的团队的历史和经验。

我不想说演讲者错了，我相信团队文化在一个像演讲者所携带的关键系统进化的情况下的重要性。但是我也坚信每个团队的问题都是独特的，所以除了那些最明显的，找到通用的“配方”是极其困难的(如果不是不可能的话)。所以演示本身对我来说毫无用处。

我把笔记分成两篇。在每一篇文章中，我都列出了我认为最有趣的 DDD 欧洲会议的发言。在第一篇文章中，我将谈到“利斯科夫替代原理的系统”和“自治&异步:设计可靠系统的关键”。

## 2018 年 DDD 欧洲会议最有趣的演讲

**1** 。**系统化的里斯科夫替代原理**

*由[罗梅乌莫拉](https://www.linkedin.com/in/romeu/)*

这次演讲的重点是系统学这个词的用法。

让我们从考虑面向对象范例的目的开始:

–封装

–解耦

–一致性(SRP 的一种？)

–衔接

观众问了一个聪明的问题，关于省略继承等概念的原因(谈论上面提到的列表)。Romeu 的回答如下:这是实现目标的唯一途径。他将其比作**法律(方式)与伦理社会(目标)的关系。**

让我们继续解释利斯科夫原理的语义:它是一个**系统**，必须被允许替换它的一些部分，**从而改变它的行为**，但是**不会破坏它的操作**。

此外，他分享了几个重要而有趣的例子，从数学运算开始(整数之间的除法**并不同构于整数之和**，因为它不是一个数学闭包)，以动物列表的经典例子[协方差和逆变](https://dev.to/apium_hub/scala-generics-ii-covariance-and-contravariance-in-generics-5dib)结束，我们在博客中也有[。](https://apiumhub.com/tech-blog-barcelona/)

突出显示:

*   利斯科夫与**界面偏析原理**的关系:

    *   一个大的界面对于由利斯科夫原理建立的前提和条件的可能破裂更为主观
    *   如果接口暗示了**时间内聚**原则的破裂，那么每个实现者**必然会违反利斯科夫**
*   这些例子都是使用类型驱动的开发方法在 Java 中开发的，在实现之前定义每个方法的契约类型来指导它。

    我们完全支持使用这种方法论。

在我看来，这次演讲最有价值的部分是关于系统这个词的使用。

在 Donella 所著的《系统思维》一书中，Romeu 介绍了**系统理论**的要素，试图提出**系统定义**。

我们对一个系统的了解:

*   不仅仅是组成它的各部分的简单相加(整体原则)
*   它必须在不破坏其功能的情况下，通过替换一个或多个部件来允许其行为的进化

我发现非常有价值和深刻的一点是，我们上面讨论的也可能是负面的:一个坏的系统不能通过简单地更换它的部件来改进。

所以，这是我个人喜欢的关键短语:

_ **“如果你从头开始重造糟糕的软件，而不改变创造它的文化:你将重造糟糕的软件。”** _

小评论:我们完全支持暴露短语。

了解 [Apiumhub](/) 的人都知道，我们非常怀疑只是从零开始重写软件，

因为当我们从事[软件项目](/software-projects-barcelona/)时，我们面向的是软件文化的逐渐变化。这不仅仅是我们的内部团队，我们还与我们的客户、合作伙伴和其他合作者一起工作。

让我给你们最后一个例子，由罗密欧举的，和历史有关:法国大革命最终废除了君主制，经历了专制，尽管废除了国王，症状还是一样。

**2** 。**自治&异步:设计可靠系统的关键**

*by[Indu Alagarsamy](https://www.linkedin.com/in/indualagarsamy/)*

这个演示是由一个特定的软件工人做的。对于那些不了解特定软件的人来说，它是 NServiceBus 背后的公司，NServiceBus 是一种优秀的服务总线。NET 技术。该公司由乌迪·达汗创立。

由于这个原因，期望非常高，因为对于那些写代码的人来说，今天没有比 Udi 达汗提出的更好的架构文化了。

演讲者给出了实现可靠系统的模式的结构化解释，而没有使用**分布式事务**的高昂成本:

*   **异步**

    *   在最开始，我们提到详述反模式“**结**”。使用“移除临时耦合”的口号，这个概念集中在每次一个组件同步依赖于其他组件时，放置一个重要的制动器(除其他之外):
    *   利用可扩展性和服务质量(为了扩展 1 个组件，我必须扩展所有组件)
    *   可靠性(对一连串故障的反应)
    *   效率(由于一个组件过载，整个系统变慢)
    *   解耦和**功能可伸缩性**(更改一个组件或添加一个新组件会影响所有组件)
    *   可追溯性(难以理解失败的原因)
*   **电子设计自动化/核心成像**

    *   使用基于发布/订阅事件的架构风格允许组件之间完全解耦，并支持功能可伸缩性。
*   **消息同步**

    *   在异步系统中，不能保证消息的正确顺序。提出的模式是**传奇模式**。有两种形式:
    *   管弦乐编曲
    *   舞蹈编排

我们指出 saga 的两个替代或补充解决方案来解决同步问题:
-编排
- **消息序列号**，由消息生产者发送，由消费者控制

*   **死信队列**
    *   在失败的情况下，队列系统必须处理重试逻辑。为了避免**有害消息**的问题，在一定的重试次数后，消息被放置在**死信队列**中，持续监控，用于根本原因分析。
*   **消息的双重性(等幂，等幂，等幂！)**
    *   就像订单一样，异步系统不能确保消息的唯一性。该系统必须在其所有部分中提供处理的**幂等性**。有两种情况:
    *   当业务逻辑允许使用 upserts 的幂等性时。例如，更新的逻辑。
    *   当逻辑不允许时，如 **CreateOrder** 的情况。在这些情况下，生产者必须分配一个唯一的 **messageId** ，而消费者不必处理已经处理过的消息。

这种模式的名字叫做**幂等消费者**。

*   **消息可追溯性(“我的消息在哪里？”)**
    *   为了始终知道消息在哪里，或者处理在哪里失败，有必要从第一条消息开始，在消息的头中累积已经处理它的所有服务**。**
*   **部署**
    *   实际上，在启动异步系统之前，有必要启动自动的、可跟踪的和可靠的部署系统。这是一切的必要先决条件。
*   **并排**
    *   异步系统是事件驱动的，由消息总线支持，能够在旧版本的组件旁边部署新版本的组件，目的是在生产中进行测试，而不需要**中断服务**。为了能够做到这一点，我们必须尊重现有的兼容性，无论是使用宽容的**阅读器模式**，还是使用模式版本控制。
*   **弹性**
    *   最后，建议(在测试环境中)使用**混沌猴模式**:随机重启组件和服务以**测量**这如何影响系统的操作(和性能)。它也被称为**弹性测试**，有些公司在生产环境中也系统地进行测试(网飞)。

这些是我在 DDD 欧洲会议上强调的最重要的观点。现在，在与其他值得讨论的演示分享我的下一篇文章之前，我想先看看你对它们的看法。

*如果您想收到 DDD 欧洲会议的第二部分以及其他有趣的演讲和笔记，请订阅我们的[每月简讯](http://eepurl.com/cC96MY)。*

## 如果您觉得这篇关于 DDD 欧洲会议的文章很有趣，您可能会喜欢…

[Scala 泛型 I: Scala 类型界限](https://dev.to/apium_hub/scala-generics-i--scala-type-bounds-38)

BDD:用户界面测试

[Scala 中泛型类型的 F-bound](https://apiumhub.com/tech-blog-barcelona/f-bound-scala-generics/)

[微服务 vs 整体架构](https://apiumhub.com/tech-blog-barcelona/microservices-vs-monolithic-architecture/)

[“几乎无限”的可扩展性](https://apiumhub.com/tech-blog-barcelona/almost-infinite-scalability/)

关于 DDD 欧洲会议 I–2018 版的帖子[最先出现在](https://apiumhub.com/tech-blog-barcelona/ddd-europe-conference/) [Apiumhub](https://apiumhub.com) 上。