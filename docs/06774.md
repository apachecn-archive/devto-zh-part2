# æ‰“å¼€ç¯:Hugo vs Hugo é…ç½®æ–‡ä»¶

> åŸæ–‡:[https://dev . to/Hugo _ _ df/switching-the-lights-on-Hugo-vs-Hugo-config-files-2m8f](https://dev.to/hugo__df/switching-the-lights-on-hugo-vs-hugo-config-files-2m8f)

> ä¸€ä¸ªç®€å•çš„ Hugo åšå®¢è®¾ç½®

è®©[codewithhugo.com](https://codewithhugo.com)è¿è½¬èµ·æ¥çš„æ•…äº‹ã€‚

**TLï¼›**åšå£«å¦‚ä¸‹:

*   æˆ‘æ€»æ˜¯å¯¹æˆ‘çš„åšå®¢è®¾ç½®èµä¸ç»å£ï¼Œå®ƒç®€å•ã€å¿«æ·ã€å¥½ç”¨
*   æˆ‘ç”¨äº† Hugo T1ï¼Œâ€œä¸–ç•Œä¸Šæœ€å¿«çš„ç½‘ç«™å»ºè®¾æ¡†æ¶â€ï¼Œä¸€ä¸ªé™æ€ç½‘ç«™ç”Ÿæˆå™¨
*   æˆ‘ç”¨äº†ä¸€ä¸ªä¸»é¢˜ï¼Œ [casper-two](https://github.com/eueung/hugo-casper-two) ï¼Œè¿™æ˜¯é›¨æœæ¸¯çš„ã€https://ghost.org/ã€‘çš„[é»˜è®¤ä¸»é¢˜](https://ghost.org/)
*   æˆ‘éƒ¨ç½²åˆ° Cloudflare *åé¢çš„ GitHub é¡µé¢ã€‚

åœ¨éƒ¨ç½²ä¼ å¥‡ä¸­æœ‰ä¸€ä¸ªæ›´æ–°ï¼Œåœ¨è¿™é‡Œé˜…è¯»:[â€œä¸€ä¸ªå…³äºåœ¨ GitHub å‘ç”Ÿç¾éš¾æ—¶è¿ç§»åˆ° Netlify çš„å°æ¡ˆä¾‹ç ”ç©¶ï¼Œä»¥ Cloudflare ä¸ºç‰¹è‰²â€](https://codewithhugo.com/a-tiny-case-study-about-migrating-to-netlify-when-disaster-strikes-at-github-featuring-cloudflare/)

> è¿™æ˜¯ä¸Šå‘¨ä¸€ç”¨ Hugo ç®€è®¯ä»¥[ä»£ç å‘å‡ºçš„ã€‚](https://buttondown.email/hugo) [è®¢é˜…](https://buttondown.email/hugo)å¯ä»¥åœ¨ä½ çš„æ”¶ä»¶ç®±é‡Œè·å¾—æœ€æ–°çš„å¸–å­(æ¯”ä»»ä½•äººéƒ½è¦æ—©)ã€‚

*   [ä¸ºä»€ä¹ˆæˆ‘æ²¡æœ‰å»ºç«‹è‡ªå·±çš„ç½‘ç«™ğŸƒâ€â™‚ï¸](#why-i-didn-t-build-my-own-website)
*   [æŒ‘é€‰ä¸€ä¸ªä¸»é¢˜å¹¶è¶…è¶ŠğŸ–¼çš„å°äº‹](#picking-a-theme-and-overriding-little-things)
*   [å¯ç”¨è¯­æ³•é«˜äº®æ˜¾ç¤ºğŸ¨](#enabling-syntax-highlighting)
*   [å½¢è±¡å’Œäº‹ç‰©ğŸ¤³](#image-and-things)
    *   [ä½¿ç”¨ imagemagick è°ƒæ•´å¤§å°](#resize-using-imagemagick)
    *   [å°† PNG è½¬æ¢ä¸º JPG](#convert-png-to-jpg)
*   [éƒ¨ç½²è¿˜æœ‰æ›´å¤š](#deployment-and-more)
    *   [éƒ¨ç½²è„šæœ¬](#deployment-script)
    *   [â€œæ¸…ç†â€èŠ‚ç‚¹å’Œ npm è„šæœ¬ğŸ™„](#cleaning-up-with-node-and-npm-scripts)
        *   [ç¼©å°å’Œä¼˜åŒ– CSS](#minify-and-optimise-css)
        *   [Imageoptim](#imageoptim)
    *   [åœ¨å¼€å‘æ¨¡å¼ä¸‹è¿è¡Œ](#running-in-development-mode)
*   [Cloudflare è®¾ç½®](#cloudflare-setup)

## [](#why-i-didnt-build-my-own-website)ä¸ºä»€ä¹ˆæˆ‘æ²¡æœ‰å»ºç«‹è‡ªå·±çš„ç½‘ç«™ğŸƒâ€â™‚ï¸

æˆ‘ä¸æ˜¯è®¾è®¡å¸ˆï¼Œå’Œ Hugo ä¸€èµ·å†™ä»£ç å¹¶ä¸æ˜¯è®©æˆ‘å­¦ä¹ æˆ–è€…ç‚«è€€æˆ‘çš„ç½‘ç«™åˆ¶ä½œæŠ€èƒ½ï¼Œè€Œæ˜¯è®©æˆ‘åšæŒä¸æ‡ˆåœ°å†™å†…å®¹ã€‚
è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ç”¨äº†ä¸€ä¸ªæ¨¡æ¿ï¼ŒHugo å’Œ GitHub é¡µé¢ã€‚è¿™æ˜¯ä¸€ä¸ªé™æ€ç½‘ç«™ï¼Œå‰é¢æœ‰ä¸€ä¸ª CDN (Cloudflare ),æ‰€ä»¥å‡ ä¹ä¸ä¼šå‡ºé”™ã€‚è¿™æ„å‘³ç€æˆ‘*æœ‰*å…³æ³¨å†…å®¹ã€‚

## [](#picking-a-theme-and-overriding-little-things-%F0%9F%96%BC)æŒ‘ä¸€ä¸ªä¸»é¢˜ï¼Œå‹å€’ä¸€ç‚¹å°äº‹ğŸ–¼

[å¡æ–¯ç€ä¸¤ä¸ª](https://github.com/eueung/hugo-casper-two)ï¼Œ[ghost.org](https://ghost.org)é»˜è®¤ä¸»é¢˜æ˜¯ç‰›é€¼ã€‚
æˆ‘åšäº†ä¸€äº›è°ƒæ•´ï¼Œä½ å¯ä»¥åœ¨æˆ‘çš„`static/overrides.css` :
ä¸­çœ‹åˆ°

```
.site-title {
    font-weight: 200;
    font-size: 8rem;
}
.collection-title {
    text-transform: uppercase;
    font-size: 6rem;
    font-weight: 300;
}
.site-header:before {
    background: rgba(0, 0, 0, 0.5);
}
// This was only needed when I enabled pygments for syntax highlighting
.site-wrapper {
    min-height: auto;
}
.highlight {
    width: 100%;
} 
```

åœ¨`config.toml` :
ä¸­æ·»åŠ é‚£ä¸ªä¸œè¥¿

```
[params]
    customCSS = "overrides.css" 
```

æˆ‘å†™çš„ CSS å°±è¿™ä¹ˆå¤šğŸ™‚ã€‚

## [](#enabling-syntax-highlighting)å¯ç”¨è¯­æ³•é«˜äº®æ˜¾ç¤ºğŸ¨

codewithhugo.com æœ‰ä¸€æ®µæ—¶é—´æ²¡æœ‰è¯­æ³•é«˜äº®æ˜¾ç¤ºï¼ŒğŸ˜•æˆ‘ç”šè‡³å¼€å§‹æŠ±æ€¨ã€‚

[![<blockquote><p>When <a href="https://twitter.com/ThePracticalDev?ref_src=twsrc%5Etfw">@ThePracticalDev</a> has better syntax highlighting than your blog ğŸ˜‚ğŸ˜‚ does anyone  know how to sort out <a href="https://twitter.com/GoHugoIO?ref_src=twsrc%5Etfw">@GoHugoIO</a> syntax highlighting <a href="https://t.co/PBJAolNlDY">https://t.co/PBJAolNlDY</a> <a href="https://t.co/2PXyY7l0dV">pic.twitter.com/2PXyY7l0dV</a></p>&mdash; Hugo Di Francesco (@hugo__df) <a href="https://twitter.com/hugo__df/status/984699817531203584?ref_src=twsrc%5Etfw">13 April 2018</a></blockquote>](../Images/11be08e88401220bee7049fd21eeee18.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--y_wtpm9b--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://d2mxuefqeaa7sj.cloudfront.net/s_3F94311F9467F8A3B0176D80603BB5F981B49B6D0E353DBB8DC8DC3DFEB48211_1533578484452_image.png)

æˆ‘è¯•äº†å‡ æ¬¡æ¥å¯ç”¨å®ƒï¼Œå®ƒçš„æœ¬æ„æ˜¯ç®€å•åˆ°åªéœ€åœ¨`config.toml` :
ä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹

```
pygmentsUseClassic=false
pygmentsCodefences=true
pygmentsUseClasses=true 
```

è¿™è®©æˆ‘å›°æƒ‘äº†å‡ ä¸ªæœˆï¼Œæœ€ç»ˆæˆ‘å‘ç°æˆ‘æ˜¯åœ¨åšè¿™ä»¶äº‹

```
[params]
  pygmentsUseClassic=false
  pygmentsCodefences=true
  pygmentsUseClasses=true 
```

æˆ´ä¸Šçœ¼ç½©çš„ç»å…¸æ¡ˆä¾‹ã€‚
ä½œä¸ºè¿™ä¸ªè¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘è®©`highlight.js`å¼€å§‹å·¥ä½œï¼Œä½†æ˜¯ä¸ºäº†ä¿æŒâ€œè¿™æ˜¯ä¸€ä¸ªé™æ€çš„ç½‘ç«™ï¼Œæ‰€ä»¥å‡ ä¹æ²¡æœ‰ä»€ä¹ˆä¼šå‡ºé”™â€,ä½¿ç”¨å®¢æˆ·ç«¯åº“æ¥çªå‡ºæ˜¾ç¤ºå†…å®¹æ„Ÿè§‰æœ‰ç‚¹ä¸å¯¹ã€‚
å› ä¸ºè¯­æ³•é«˜äº®æ˜¯åœ¨ç¼–è¯‘æ—¶å®Œæˆçš„ï¼Œæ‰€ä»¥`layouts/partials/js.html` :
ä¸­æ²¡æœ‰`highlight.js` JS

```
<!-- <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script> --> 
```

å¦‚æœä½ æƒ³è®©å®ƒçœ‹èµ·æ¥æ›´å¥½ï¼Œæˆ‘ä»¬éœ€è¦ç”Ÿæˆ`syntax.css` :

```
$ hugo gen chromastyles --style=monokai > ./static/syntax.css 
```

å¹¶å°†å…¶æŒ‚åœ¨`config.toml` :

```
[params]
  customCSS = [
    "overrides.css",
    "syntax.css"
  ] 
```

## [](#image-and-things)å½¢è±¡å’Œäº‹ç‰©ğŸ¤³

### [](#resize-using-imagemagick)ä½¿ç”¨ imagemagick è°ƒæ•´å¤§å°

ä½¿ç”¨
åˆ›å»ºä¸€ä¸ª`/static/img`æ–‡ä»¶å¤¹

```
$ mkdir -p static/img 
```

ç„¶åæˆ‘ä»¬å¯ä»¥è°ƒæ•´æˆ‘å°†è¦ä½¿ç”¨çš„ä»»ä½•å›¾ç‰‡çš„å¤§å°(é€šå¸¸æ˜¯å°é¢ç…§ç‰‡):

```
$ convert my-image.jpg -resize 1500x1500 ./static/img/my-image.jpg 
```

### [](#convert-png-to-jpg)å°† PNG è½¬æ¢ä¸º JPG

æˆ‘ç”¨ç‚¼é‡‘æœ¯å°†å·´å¸ƒäºšæ–°å‡ å†…äºšè½¬æ¢æˆ https://dawnlabs.io/alchemy/çš„ JPGï¼Œè™½ç„¶æˆ‘è®¤ä¸º ImageMagick ä¹Ÿèƒ½åšåˆ°ã€‚

## [](#deployment-and-more)éƒ¨ç½²åŠ æ›´

### [](#deployment-script)éƒ¨ç½²è„šæœ¬

`./scripts/deploy.sh`ï¼Œæ‘˜è‡ª[é›¨æœæ–‡ä»¶](https://gohugo.io/hosting-and-deployment/hosting-on-github/#put-it-into-a-script-1) :

```
#!/bin/bash
echo -e "\033[0;32mDeploying updates to GitHub...\033[0m"
# Build the project.
hugo # if using a theme, replace with `hugo -t <YOURTHEME>`
# Go To Public folder
cd public
# Add changes to git.
git add .
# Commit changes.
msg="rebuilding site `date`"
if [ $# -eq 1 ]
    then msg="$1"
fi git commit -m "$msg"
# Push source and build repos.
git push origin master
# Come Back up to the Project Root
cd .. 
```

### [](#cleaning-up-with-node-and-npm-scripts)â€œæ¸…ç†â€èŠ‚ç‚¹å’Œ npm è„šæœ¬ğŸ™„

è¿™æ˜¯å®Œæ•´çš„`package.json`(å‡å»ä¸å¿…è¦çš„ä¸œè¥¿):

```
{  "name":  "codewithhugo",  "description":  "Repo for content of codewithhugo.com.",  "config":  {  "syntax":  "static/syntax",  "overrides":  "static/overrides",  "images":  "static/img"  },  "scripts":  {  "build":  "concurrently --names \"SYNTAX,OVERRIDES,IMAGES\" -c \"bgBlue.bold,bgMagenta.bold,bgYellow.bold\"  \"npm:build:css:syntax\"  \"npm:build:css:overrides\"  \"npm run build:imageoptim\"",  "predeploy":  "npm run build",  "deploy":  "./scripts/deploy.sh",  "serve":  "./scripts/serve.sh",  "start":  "npm run dev",  "dev":  "concurrently --names \"CSS,HUGO\" -c \"bgBlue.bold,bgMagenta.bold\"  \"npm:watch:css\"  \"npm:serve\"",  "watch:css":  "concurrently \"npm run build:css:syntax -- --watch --map inline\"  \"npm run build:css:overrides -- --watch --map inline\"",  "build:css:syntax":  "csso -i $npm_package_config_syntax.css -o $npm_package_config_syntax.min.css --stat",  "build:css:overrides":  "csso -i $npm_package_config_overrides.css -o $npm_package_config_overrides.min.css --stat",  "build:imageoptim":  "imageoptim $npm_package_config_images"  },  "author":  "Hugo Di Francesco",  "homepage":  "https://github.com/HugoDF/codewithhugo#readme",  "devDependencies":  {  "concurrently":  "^3.6.0",  "csso-cli":  "^1.1.0",  "imageoptim-cli":  "^2.0.3"  }  } 
```

è®©æˆ‘ä»¬çœ‹çœ‹å½“æˆ‘è¿è¡Œ`npm run deploy`æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œè¿™ä¸‰ä¸ªä»»åŠ¡æ˜¯ä¸»è¦çš„:

```
"build":  "concurrently --names \"SYNTAX,OVERRIDES,IMAGES\" -c \"bgBlue.bold,bgMagenta.bold,bgYellow.bold\"  \"npm:build:css:syntax\"  \"npm:build:css:overrides\"  \"npm run build:imageoptim\"",  "predeploy":  "npm run build",  "deploy":  "./scripts/deploy.sh", 
```

`npm`çš„ä¸€ä¸ªç‰¹æ€§æ˜¯ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªåä¸º`something`çš„è„šæœ¬ï¼Œä½ å¯ä»¥å®šä¹‰å¦ä¸€ä¸ªè„šæœ¬`presomething`ï¼Œå®ƒå°†åœ¨`something`è¢«è°ƒç”¨ä¹‹å‰è¿è¡Œã€‚æ‰€ä»¥åœ¨éƒ¨ç½²ä¹‹å‰ï¼Œæˆ‘ä»¬`npm run build`ã€‚
`npm run build`ä¸`concurrently`([https://www.npmjs.com/package/concurrently](https://www.npmjs.com/package/concurrently))å¹¶è¡Œè¿è¡Œå‡ ä¸ªä»»åŠ¡:

*   `npm:build:css:syntax`æ˜¯`concurrently`â€”`npm run build:css:syntax`çš„ç‰¹å®šç®€ç§°
*   `npm:build:css:overrides`æ˜¯`concurrently`â€”`npm run build:css:overrides`çš„ç‰¹å®šç®€ç§°
*   `npm run build:imageoptim`

#### [](#minify-and-optimise-css)ç¼©å°å¹¶ä¼˜åŒ– CSS

```
"build:css:syntax":  "csso -i $npm_package_config_syntax.css -o $npm_package_config_syntax.min.css --stat",  "build:css:overrides":  "csso -i $npm_package_config_overrides.css -o $npm_package_config_overrides.min.css --stat", 
```

`build:css:syntax`å’Œ`build:css:overrides`åœ¨ä¸åŒçš„æ–‡ä»¶ä¸Šè¿è¡Œç›¸åŒçš„å‘½ä»¤ã€‚å³æ–‡ä»¶æ˜¯`$npm_package_config_syntax.css`å’Œ`$npm_package_config_overrides.css`ï¼Œå®ƒä»¬æ’å…¥ npm_config è¯­æ³•å¹¶è¯„ä¼°ä¸º`static/syntax.css`å’Œ`static/overrides.css`(å‚è§`package.json`ä¸­çš„`config.syntax`å’Œ`config.overrides`)ã€‚æˆ‘ä»¬ä½¿ç”¨[https://github.com/css/csso-cli](https://github.com/css/csso-cli)ï¼Œè¿™å‡ ä¹åªæ˜¯ç¼©å°äº† CSSã€‚

ä¼˜åŒ–åçš„ CSS æ–‡ä»¶è¾“å‡ºä¸º`static/syntax.min.css`å’Œ`static/overrides.min.css`ï¼Œæˆ‘ä¹Ÿåœ¨`config.toml` :
ä¸­æ›´æ–°äº†å®ƒä»¬

```
[params]
  customCSS = [
    "overrides.min.css",
    "syntax.min.css"
  ] 
```

#### [](#imageoptim)Imageoptim

ç±»ä¼¼çš„æ–¹æ³•ç”¨äº`build:imageoptim` :

```
"build:imageoptim":  "imageoptim $npm_package_config_images" 
```

å®ƒå¯¹`$npm_package_config_images`(æ‰©å±•åˆ°`static/img`)çš„å†…å®¹è¿è¡Œ [imageoptim-cli](https://github.com/JamieMason/ImageOptim-CLI) ã€‚

### [](#running-in-development-mode)åœ¨å¼€å‘æ¨¡å¼ä¸‹è¿è¡Œ

ç°åœ¨æˆ‘å·²ç»æœ‰äº†ä¸€ä¸ªæ„å»ºæ­¥éª¤â€¦é—®é¢˜æ˜¯æˆ‘è¿˜éœ€è¦è§‚å¯Ÿå¼€å‘è¿‡ç¨‹ä¸­çš„å˜åŒ–ç­‰ç­‰ï¼Œè¿™æ˜¯ä¸‹é¢çš„è„šæœ¬ï¼Œæ¥è‡ª`package.json` :

```
"serve":  "./scripts/serve.sh",  "start":  "npm run dev",  "dev":  "concurrently --names \"CSS,HUGO\" -c \"bgBlue.bold,bgMagenta.bold\"  \"npm:watch:css\"  \"npm:serve\"",  "watch:css":  "concurrently \"npm run build:css:syntax -- --watch --map inline\"  \"npm run build:css:overrides -- --watch --map inline\"", 
```

`./scripts/serve.sh` :

```
hugo serve . -F
# -D will serve even draft posts
# -F will serve future posts 
```

å½“æˆ‘çš„æ–‡ç« è¿˜æ²¡æœ‰å‡†å¤‡å¥½å‘å¸ƒæ—¶ï¼Œæˆ‘å–œæ¬¢ä¸å¿…æ›´æ”¹æ—¥æœŸï¼Œæ‰€ä»¥æˆ‘ä½¿ç”¨äº†`-F`æ ‡å¿—ã€‚å¦‚æœæˆ‘ä¸æƒ³æŸä¸ªå¸–å­å‡ºç°åœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä¼šåœ¨ frontmatter ä¸­ä½¿ç”¨`draft: true`ã€‚
`npm run dev`åªæ˜¯åœ¨æ‰‹è¡¨æ¨¡å¼ä¸‹è¿è¡Œ`csso-cli`ä»»åŠ¡ä»¥åŠ Hugo dev æœåŠ¡å™¨ã€‚

# [](#getting-a-full-rss-feed)è·å–å®Œæ•´çš„ RSS æºğŸ˜„

é»˜è®¤çš„ Hugo RSS feed æ²¡æœ‰å®Œæ•´çš„æ–‡ç« å†…å®¹ï¼Œåªæœ‰æ‘˜è¦(åœ¨æˆ‘çš„ä¾‹å­ä¸­ï¼Œå®ƒä¼šæ˜¾ç¤ºåœ¨ä¸»é¡µä¸Š)ã€‚
è¿™æ ·åšçš„é—®é¢˜æ˜¯ RSS æºæ²¡æœ‰å®Œæ•´çš„å¸–å­å†…å®¹ã€‚
æˆ‘çŸ¥é“è¿™æ˜¯ä¸ªé—®é¢˜ï¼Œä½†åƒå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»æœªæŠ½å‡ºæ—¶é—´å»è§£å†³å®ƒï¼Œç›´åˆ°æˆ‘åœ¨æ¨å¹¿å®ƒæ—¶è®©è‡ªå·±éš¾å ªğŸ˜„ï¼š

[![<blockquote><p>If you have a blog and write/share useful things (big or small) about Web design / front-end dev and you provide an RSS feed to the blog, please respond to this tweet w/ the URL for it â€” Iâ€™d like to add more useful content feeds to my reader. ğŸ™ŒğŸ»ğŸ’ƒ</p>&mdash; Sara Soueidan (@SaraSoueidan) <a href="https://twitter.com/SaraSoueidan/status/1020288178597613569?ref_src=twsrc%5Etfw">20 July 2018</a></blockquote>](../Images/b4a118db2041d8dda394cb110f5a2e88.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--4qQKC2oa--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://d2mxuefqeaa7sj.cloudfront.net/s_3F94311F9467F8A3B0176D80603BB5F981B49B6D0E353DBB8DC8DC3DFEB48211_1533580523884_image.png)

æˆ‘å¯¹æ­¤çš„å›ç­”æ˜¯:

> å˜¿ï¼Œæˆ‘åœ¨[https://codewithhugo.com](https://t.co/tkBYwl47Q6)å†™æ–‡ç« ï¼Œæˆ‘ä¸è®¤ä¸ºæˆ‘å¾—åˆ°çš„ RSS è®¢é˜…å®é™…ä¸Šæœ‰å®Œæ•´çš„å¸–å­ğŸ™ˆ
> 
> â€” Hugo Di Francesco ([@hugo__df](https://dev.to/hugo__df) ) 21 July 2018

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æ‰¾åˆ°äº†[https://randomgeekery . org/2017/09/15/full-content-Hugo-feeds/](https://randomgeekery.org/2017/09/15/full-content-hugo-feeds/)(é‚£é‡Œæœ‰æˆ‘ä»¬æ­£åœ¨åšçš„äº‹æƒ…çš„å®Œæ•´è§£é‡Š)ã€‚æœ¬è´¨ä¸Šï¼Œå®ƒå¯ä»¥å½’ç»“ä¸ºåˆ›å»ºä¸‹é¢çš„
`layouts/_default/rss.xml` :

```
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
    <title>{{ if eq  .Title  .Site.Title }}{{ .Site.Title }}{{ else }}{{ with .Title }}{{.}} on {{ end }}{{ .Site.Title }}{{ end }}</title>
    <link>{{ .Permalink }}</link>
    <description>Recent content {{ if ne  .Title  .Site.Title }}{{ with .Title }}in {{.}} {{ end }}{{ end }}on {{ .Site.Title }}</description>
    <generator>Hugo -- gohugo.io</generator>{{ with .Site.LanguageCode }}
    <language>{{.}}</language>{{end}}{{ with .Site.Author.email }}
    <managingEditor>{{.}}{{ with $.Site.Author.name }} ({{.}}){{end}}</managingEditor>{{end}}{{ with .Site.Author.email }}
    <webMaster>{{.}}{{ with $.Site.Author.name }} ({{.}}){{end}}</webMaster>{{end}}{{ with .Site.Copyright }}
    <copyright>{{.}}</copyright>{{end}}{{ if not .Date.IsZero }}
    <lastBuildDate>{{ .Date.Format "Mon, 02 Jan 2006 15:04:05 -0700" | safeHTML }}</lastBuildDate>{{ end }}
    {{ with .OutputFormats.Get "RSS" }}
        {{ printf "<atom:link href=%q rel=\"self\" type=%q />" .Permalink .MediaType | safeHTML }}
    {{ end }}
    {{ range .Pages }}
    <item>
        <title>{{ .Title }}</title>
        <link>{{ .Permalink }}</link>
        <pubDate>{{ .Date.Format "Mon, 02 Jan 2006 15:04:05 -0700" | safeHTML }}</pubDate>
        {{ with .Site.Author.email }}<author>{{.}}{{ with $.Site.Author.name }} ({{.}}){{end}}</author>{{end}}
        <guid>{{ .Permalink }}</guid>
        <description>{{ .Content | html }}</description>
    </item>
    {{ end }}
    </channel>
</rss> 
```

è¿™åªæ˜¯é»˜è®¤æ¨¡æ¿ï¼Œé™¤äº†ä»£æ›¿:

```
<description>{{ .Summary | html }}</description> 
```

æˆ‘ä»¬åš:

```
<description>{{ .Content | html }}</description> 
```

è¿™ä½¿å¾—æ„å»ºçš„`index.xml`æ–‡ä»¶å¾ˆå¤§ï¼Œå› ä¸ºå®ƒæ”¾å…¥äº†æ¯ä¸ªå¸–å­çš„å®Œæ•´å†…å®¹ï¼Œæ‰€ä»¥å†æ¬¡åœ¨[https://randomgeekery . org/2017/09/15/full-content-Hugo-feeds/](https://randomgeekery.org/2017/09/15/full-content-hugo-feeds/)ä¸Šï¼Œæˆ‘å†³å®šå°†æè¦æ¡ç›®çš„æ•°é‡é™åˆ¶ä¸º 15 ä¸ª(è€Œä¸æ˜¯é‚£ä¸ªå¸–å­ä¸­å»ºè®®çš„ 20 ä¸ª)ï¼Œè¿™æ˜¯åœ¨`config.toml` :
ä¸­çš„æ›´æ–°

```
rssLimit = 15 
```

è¿™å®Œå…¨å½’åŠŸäºè¿™ç¯‡æ–‡ç« [https://randomgeekery . org/2017/09/15/full-content-Hugo-feeds/](https://randomgeekery.org/2017/09/15/full-content-hugo-feeds/)ï¼Œè¿™ç¯‡æ–‡ç« å®é™…ä¸Šè§£é‡Šäº†æ‰€åšçš„äº‹æƒ…çš„æ–¹å¼å’ŒåŸå› ã€‚

## [](#cloudflare-setup)äº‘é—ªè®¾ç½®

æˆ‘æ‰“å¼€äº†å‡ ä¸ªè®¾ç½®ï¼Œç‰¹åˆ«æ˜¯å¼ºåˆ¶ HTTPS:cloud flare Dashboard > Crypto > Always use HTTPS > onï¼Œåœ¨åŒä¸€ä¸ªéƒ¨åˆ† Crypto >è‡ªåŠ¨ HTTPS é‡å†™> Onã€‚

æˆ‘å°†ç¼“å­˜>æµè§ˆå™¨ç¼“å­˜è¿‡æœŸæ—¶é—´å¢åŠ åˆ° 8 å¤©(å¯èƒ½/åº”è¯¥æ›´å¤šï¼Œä½†æˆ‘ä¸æƒ³å¯¹æˆ‘çš„èµ„äº§è¿›è¡Œç‰ˆæœ¬æ§åˆ¶),å¹¶æ‰“å¼€ç¼“å­˜>å§‹ç»ˆåœ¨çº¿ï¼Œè¿™æ ·å³ä½¿ GitHub é¡µé¢å´©æºƒï¼ŒCloudflare ä»å°†ä¸ºæˆ‘çš„å†…å®¹æä¾›æœåŠ¡ï¼Œä¸€åˆ‡éƒ½ä¼šå¥½çš„ã€‚

é™¤äº†å‡ å¼ é¢å¤–çš„å›¾ç‰‡å’Œåœ¨`config.toml`ä¸­è®¾ç½®å­—ç¬¦ä¸²ï¼Œè¿™å·®ä¸å¤šå°±æ˜¯æˆ‘ä¸º[codewithhugo.com](https://codewithhugo.com)è®¾ç½®çš„å…¨éƒ¨ Hugo äº†ã€‚

å¸•å…‹Â·æƒ ç‰¹æ£®