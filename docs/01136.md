# OpenBSD ftpd 6.4: FTP æœåŠ¡å™¨

> åŸæ–‡:[https://dev.to/nabbisen/ftp-server-on-openbsd-8cg](https://dev.to/nabbisen/ftp-server-on-openbsd-8cg)

## [](#summary)æ€»ç»“

OpenBSD æœ‰è‡ªå·±çš„ FTP æœåŠ¡å™¨ï¼Œåä¸º [ftpd](https://man.openbsd.org/ftpd) ã€‚
ä»¥ç®€å•å®‰å…¨çš„æ–¹å¼åœ¨ä¸»æœºé—´ä¼ è¾“æ–‡ä»¶å°±è¶³å¤Ÿäº†ã€‚

## [](#how-to-use)å¦‚ä½•ä½¿ç”¨

å®‰è£…æ“ä½œç³»ç»Ÿæ—¶ï¼Œ`ftpd`ä½œä¸ºå®ˆæŠ¤è¿›ç¨‹å®‰è£…åœ¨ OpenBSD ä¸­ã€‚
ä¸ºäº†ä½¿ç”¨å®ƒï¼Œè¿è¡Œ`rcctl enable`å’Œ`rcctl start`ï¼Œå°±å·®ä¸å¤šäº†ã€‚

### [](#step-0-before-configuration)ç¬¬ 0 æ­¥:é…ç½®å‰

é»˜è®¤æƒ…å†µä¸‹å®ˆæŠ¤ç¨‹åºè¢«ç¦ç”¨:

```
$  doas rcctl check ftpd
ftpd(failed) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#step-1-enable-daemon)ç¬¬ä¸€æ­¥:å¯ç”¨å®ˆæŠ¤è¿›ç¨‹

```
$  doas rcctl enable ftpd 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

**æ³¨:æ­¤å¤„`/etc/rc.conf.local`æ›´æ–°ä¸º:*

```
$  cat /etc/rc.conf.local
ftpd_flags= 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#step-2-start-daemon)ç¬¬äºŒæ­¥:å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹

```
$  doas rcctl start ftpd
ftpd(ok) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

FTP æœåŠ¡å™¨ç°åœ¨æ­£åœ¨è¿è¡Œã€‚
åªè¦æ²¡æœ‰ç½‘ç»œé—®é¢˜ï¼Œå°±å¯ä»¥å»ºç«‹åˆ°æœåŠ¡å™¨çš„ ftp è¿æ¥ğŸ˜‰
**æ³¨æ„:ç¦æ­¢ä»¥`root`èº«ä»½è®¿é—®ã€‚*

## [](#reference-additional-configuration)å‚è€ƒ:é™„åŠ é…ç½®

OpenBSD ä¸ºæˆ‘ä»¬æä¾›äº†[å‡ ä¸ªæ–‡ä»¶](https://man.openbsd.org/ftpd#FILES)ï¼Œä¹Ÿå°±æ˜¯å‡ ä¸ªæ–¹å¼ï¼Œæ¥æ·»åŠ æ›´å¤šçš„é…ç½®ï¼Œæ¯”å¦‚`chroot`å’Œè®¤è¯ã€‚