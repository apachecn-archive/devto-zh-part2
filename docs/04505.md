# ä½¿ç”¨ Sendgrid å’Œ Node.js å‘é€é‚®ä»¶

> åŸæ–‡:[https://dev . to/feezyhendrix/sending-mail-with-send grid-and-node-js-4 HMO](https://dev.to/feezyhendrix/sending-mails-with-sendgrid-and-node-js-4hmo)

æœ¬è´¨ä¸Šï¼Œåœ¨æ¯ä¸ª web åº”ç”¨ç¨‹åºä¸­ï¼Œéƒ½éœ€è¦å‘ç”¨æˆ·å‘é€ç”µå­é‚®ä»¶ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºè®¾ç½® Sendgrid å’Œå‘ç”¨æˆ·å‘é€ç”µå­é‚®ä»¶æ˜¯å¤šä¹ˆå®¹æ˜“ã€‚æˆ‘ä»¬å°†å»ºç«‹ä¸€ä¸ªç®€å•çš„æ¨¡å—æ¥å¤„ç†é‚®ä»¶å‘é€ã€‚

[![Image result for nodejs](../Images/124b29e83c6673bb634f8228bd898f02.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--oVSG-si3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/proxy/1%2A-8kIoJKyDn-j1WPgfTvmew.jpeg)

#### å®‰è£…å‘é€ç½‘æ ¼

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å‘é€ç”µå­é‚®ä»¶çš„å®˜æ–¹è½¯ä»¶åŒ…ã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤:

```
npm install @sendgrid/mail 
```

Enter fullscreen mode Exit fullscreen mode

ç°åœ¨æˆ‘ä»¬æœ‰äº† Sendgrid èŠ‚ç‚¹åŒ…ï¼Œç”¨äºåœ¨èŠ‚ç‚¹åº”ç”¨ç¨‹åºä¸­å‘é€ç”µå­é‚®ä»¶ã€‚

è¦ä½¿ç”¨è¿™ä¸ªåŒ…ï¼Œä½ éœ€è¦ä¸€ä¸ª API å¯†åŒ™ï¼Œåœ¨ä½ åˆ›å»ºäº†ä¸€ä¸ªè´¦æˆ·åï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œå¾—åˆ°è¿™ä¸ªå¯†åŒ™ã€‚

#### é…ç½®å‘é€ç½‘æ ¼

åœ¨æˆ‘çš„åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘å–œæ¬¢åœ¨ utils æ–‡ä»¶å¤¹çš„ä¸€ä¸ªå•ç‹¬æ–‡ä»¶ä¸­åˆ›å»ºç”µå­é‚®ä»¶å‘é€æ¨¡å—ï¼Œå¹¶å°†å…¶å‘½åä¸º emails.js

```
// emails.js

const SGmail = require('@sendgrid/mail')

SGmail.setApikey('xxxxx-xxxxx') // Input Api key or add to environment config 
```

Enter fullscreen mode Exit fullscreen mode

> å¦‚æœä½ ä¸çŸ¥é“å¦‚ä½•åœ¨ node.js ä¸­ä½¿ç”¨é…ç½®å˜é‡ï¼Œæˆ‘å¼ºçƒˆå»ºè®®ä½ ä¸è¦ç¡¬ç¼–ç ä½ çš„ API é”®ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œçœ‹çœ‹è¿™ä¸ªå¾ˆæ£’çš„[å¸–å­](https://medium.freecodecamp.org/heres-how-you-can-actually-use-node-environment-variables-8fdf98f53a0a)æ¥å¼€å§‹

#### é‚®ä»¶å‘é€

è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„å‡½æ•°æ¥å‘é€ç”µå­é‚®ä»¶

```
//emails.js

function newUserEmail(email, name){

const message = {

to : email, //email variable

from : { email : 'your email' , name: 'Name of user you want to send email as'},

message : `Hi there, ${name}`,

subject : "This is a test Email"

}

SGmail.send(message).then((sent) =\> {

// Awesome Logic to check if mail was sent

})

}

module.exports = {

newUserEmail
} 
```

Enter fullscreen mode Exit fullscreen mode

è®©æˆ‘è§£é‡Šä¸€ä¸‹ä¸Šé¢åˆ›å»ºçš„æ¶ˆæ¯å¯¹è±¡ä¸­çš„æ¯ä¸ªé”®å’Œå€¼

â¦å‘ç»™:æ”¶ä»¶äººçš„ç”µå­é‚®ä»¶ã€‚

â¦å‘ä»¶äºº:å‘ä»¶äººå¯¹è±¡åŒ…å«å°†è¢«ç”¨ä½œå‘ä»¶äººç”µå­é‚®ä»¶çš„ç”µå­é‚®ä»¶å¯†é’¥å’Œå°†è¢«ç”¨ä½œå‘ä»¶äººå§“åçš„å§“åã€‚

â¦ä¿¡æ¯:è¿™æ˜¯ä½ çš„ç”µå­é‚®ä»¶çš„å†…å®¹ã€‚æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ html æ ‡è®°ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå…³é”®å­—ä¸æ˜¯ messageï¼Œè€Œæ˜¯ HTMLã€‚

â¦ä¸»é¢˜:ç”µå­é‚®ä»¶ä¸»é¢˜ã€‚

#### ç»“è®º

æˆ‘ç›¸ä¿¡æ‚¨å·²ç»çœ‹åˆ°ä½¿ç”¨ Sendgrid å‘é€ç”µå­é‚®ä»¶æ˜¯å¤šä¹ˆå®¹æ˜“ã€‚è¿™å¯ä»¥ç”¨æœ€å°‘çš„é…ç½®èŠ‚çœå¤§é‡çš„å¼€å‘æ—¶é—´å’Œè°ƒè¯•æ—¶é—´ã€‚ç°åœ¨ï¼Œæ‚¨å¯ä»¥åœ¨ä»£ç ä¸­çš„ä»»ä½•åœ°æ–¹å¯¼å…¥è¯¥å‡½æ•°å¹¶å‘é€é‚®ä»¶ï¼Œéå¸¸ç®€å•ï¼

> é€šè¿‡[swithdevelop1@gmail.com](mailto:swithdevelop1@gmail.com)è”ç³»æˆ‘ï¼Œå¹¶åœ¨[æ¨ç‰¹](https://twitter.com/feezyhendrix)ä¸Šå…³æ³¨æˆ‘ã€‚

[![](../Images/33903af16c503067312230fd680a660d.png)T2ã€‘](http://bit.ly/codeburst)

> âœ‰ï¸ *è®¢é˜…* CodeBurst çš„*ä¸€å‘¨ä¸€æ¬¡*[***email blast***](http://bit.ly/codeburst-email)*ğŸ¦*è·Ÿéš* CodeBurst *ä¸Š*[***Twitter***](http://bit.ly/codeburst-twitter)*ï¼ŒæŸ¥çœ‹*ğŸ—ºï¸[***2018 Web å¼€å‘è€…è·¯çº¿å›¾***](http://bit.ly/2018-web-dev-roadmap) *ï¼Œä»¥åŠ* ğŸ•¸ï¸ [***å­¦å…¨æ ˆ web å¼€å‘***](http://bit.ly/learn-web-dev-codeburst) *ã€‚**

 ** * **