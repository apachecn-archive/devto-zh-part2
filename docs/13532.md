# 管理技术债务:为重构而活，奉献流

> 原文:[https://dev . to/atability/managing-technical-debt-live-for-refactor-dedicate-streams-4bj 9](https://dev.to/tability/managing-technical-debt-live-for-the-refactor-dedicate-streams-4bj9)

*本帖最初发布于[https://blog.squadlytics.com/managing-technical-debt/](https://blog.squadlytics.com/managing-technical-debt/)T3】*

技术债务是软件开发固有的一部分。你不能阻止它发生，但有办法让它变得更容易处理。

## [](#live-for-the-refactor)为重构而活

有两种类型的代码。

*   **等待被丢弃的代码**:这是你做的探索性工作，当人们说他们正在编写一次性代码时，他们指的是什么。你知道你不会用它，为什么要花时间让它变得健壮呢？
*   **等待重写的代码**:这是其他的一切。

这不是一种侮辱。一段代码在编写时可能非常正确，但仍然需要在以后进行重构。这在很大程度上与这样一个事实有关，即技术正在快速发展，客户的需求也将随之发展，从而改变了系统的边界。

即使是最简单的服务也会达到耗尽点，需要一些工作来恢复。

> ![](../Images/61db12ee8a577c20aba59ee2834ed6c5.png)图钉板@图钉板![](../Images/4d9c44713c216584b3d48ff3455cbb68.png)网站将停机几分钟以修复标记问题。2018 年 3 月 22 日上午 11:06[![Twitter reply action](../Images/269095962147c28351274afdd5486a48.png)](https://twitter.com/intent/tweet?in_reply_to=976777215470837761)[![Twitter retweet action](../Images/771160ecf06ae3d4d7a7815c29c819c2.png)](https://twitter.com/intent/retweet?tweet_id=976777215470837761)2[![Twitter like action](../Images/c077611ab2a5e0b4cd0c826ee7ae1e48.png)](https://twitter.com/intent/like?tweet_id=976777215470837761)18

大多数情况下，当代码是一个类似于纸牌屋的复杂拼图的一部分，并且破坏系统的风险远远大于维护系统的痛苦时，代码会停留数年。

避免这种情况的一个方法是从第一天起就让你的系统易于重构。我并不是说要全力推行无处不在的微服务——一些简单的技巧就能让人惊叹:

*   **采用连续交付:**实践连续交付(CD)很棒，原因有二。首先，它将加快与客户的反馈循环，降低您的部署风险。其次，它会给你一个强大的测试套件，当你需要重新构建你的系统的一部分时，它会非常方便。
*   **将后端与前端分离开来:**在 Squadlytics，我们为后端提供了 Rails 5 API monolith，为前端提供了 React 应用。这种设置的优点是，如果我们需要更改一些端点，它会给我们一个清晰的界限。前端团队也可以继续快速前进，而不用担心破坏底层系统。如果有必要，后端团队可以通过将端点移动到不同的系统来轻松地分割整体。
*   **到处评论:**代码应该不是为你写的，而是为下一个来的人写的。你需要确保她能轻松理解你的选择背后的逻辑，而且聪明的代码往往很难处理。最好保持简单，并在代码库中留下尽可能多的帮助。

## [](#story-points-vs-dedicated-streams)故事点与专用流

我们已经讨论了如何为解决技术债务做准备，现在我们需要找到一个好的预算方法。又一次出现了两个学派:

*   **分配故事点(或任务数量):**在这个场景中，你将一定百分比或固定数量的故事点分配给待办事项。
*   让团队或个人专注于债务:在这种情况下，你让团队的一部分专注于技术债务，而其他人致力于新功能和改进。

我的建议是**不要**依赖故事指向。原因是并非所有的故事点都是平等的，债务故事点很容易被推到积压的底部。敏捷的一个核心前提是，我们真的不擅长评估和计划，当我们短时间工作并经常停下来纠正过程时，事情会好得多。这是绝对正确的。团队经常不得不缩小范围，或者将一些故事转移到下一个 sprint。当套利时间到来时，猜猜你的产品经理可能会推迟哪些任务？不要信任产品经理来分配故事点。我知道这一点，因为我自己也是首相。

因此，我一直倾向于组建一个团队，或者至少是一个专注于科技债务的人。这样你就有了两个独立的积压订单，你也不太可能篡改你为自己设定的债务目标。更严肃地说，产品经理并不是不值得信任，而是当你将技术债务和新特性混合在一个 backlog 中时，比你不得不说“John 不再欠技术债务”更难理解你所做的权衡。

## [](#taking-a-step-back-to-make-a-leap-forward)后退一步向前一跃

我的最后一句话是，技术债务不应该是一个肮脏的词。从本质上来说，这将一直是工程和产品团队之间紧张关系的来源，但这是可以并且应该持续管理的事情。你不需要有一个明天解决所有问题的计划，但至少你需要为它定义和传达一个策略。