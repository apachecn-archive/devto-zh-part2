# 后敏捷:拥抱异步过程

> 原文：<https://dev.to/jillesvangurp/post-agile-embracing-asynchronous-processes-ifa>

就像这个行业中许多和我同龄的人(软件开发，如果这还不清楚的话)，我记得在互联网和敏捷之前事情是如何运作的。如今编程意味着使用昂贵的工具，这些工具来自你桌子上成堆的书。谷歌和 Stackoverflow 并不存在。在工作场所使用互联网还不是很普遍。我使用 commodore 64 附带的基本手册学习编程。敏捷不是一个东西。

自那以后，情况发生了变化，而且大多是向好的方面发展。肯特·贝克的[极限编程](http://www.extremeprogramming.org/)是一本书，当它出版时，我对它充满热情。那时我正在攻读软件工程领域的博士学位。我甚至在 2003 年的博士论文中引用了它。敏捷运动(肯特·贝克当然是[敏捷宣言](http://agilemanifesto.org/)的签署者之一)，在许多方面革新了开发。

# 敏捷不好

如今，每个人都声称/假装自己是敏捷的。所以，这个词已经变得有些没有意义了。每一家银行、保险公司和低劣的小软件商店都在做敏捷。资本敏捷当然是因为他们在“按常规”做事。任何了解敏捷的人都会知道这是完全错误的做法。我曾在各种会议、讲座、研讨会等场合与一些宣言签署者共处一室。我听他们解释过了。敏捷是一套工具和一种工作方式，你可以根据自己的需要来使用和调整。把书作为起点，而不是终点。如果你什么都不懂，不妨从做这个开始。

我已经有点厌倦了“你做错了”的阵营，这种阵营扼杀了对 Scrum 等事物的任何批评，我认为 Scrum 在我们的行业中已经变得有些有毒了。人们要么讨厌 scrum，要么喜欢它，大多是出于错误的原因(不管是哪种原因)。总的来说，人们不喜欢这种盲目应用的普遍做法，不喜欢在毫无意义的会议上无休止的争吵，不喜欢在争论如何“正确地”做这件事时耗费的情感和精力，不管这意味着什么。就我个人而言，这是我在过去 15 年中参与的几乎所有项目中见证的一件事。轶事证据表明我并不孤单。

不管是好是坏，Scrum 名义上已经取代了瀑布，成为一种很容易掌握的东西，让组织不用做太多的改变就能把自己改造成敏捷。这并不意味着 Scrum 或敏捷不好，但是 Scrum 似乎已经成为了不好的敏捷实现的首选工具。Scrum 甚至有自己的术语:scrumbutt。

在我们的行业中有很多糟糕的敏捷。大多数软件开发公司和 20 年前一样无聊、愚蠢、低效。政府 IT 项目仍然会出大差错。银行仍然在误导的项目中投入大量资金。像 Lidl 这样的公司仍然允许自己被 SAP 这样的公司敲竹杠。郑重声明，我认为这是两家公司的错。

现在每个人都向敏捷教会祈祷，有一大群自封的敏捷专家/敏捷教练等来帮助你找出正确的方法。许多公司先发制人地雇佣这些人，以确保他们“按章办事”，这当然违背了初衷。

不管你对此持什么观点，我们行业的趋势是事情再次发生变化，人们正在超越敏捷，寻找不同的、相对新的组织软件开发的方式。如果只是为了把自己和所有做不好敏捷的人区分开来。

敏捷现在已经接近 20 岁了。你不会通过不改变事情和稍微改变事情来改善事情。一些人已经开始称之为后敏捷。不管是什么，scrum 肯定不是它的一部分。

# 敏捷的历史和演变

当敏捷宣言签署的时候，大多数人实际上并没有在做敏捷或者任何与敏捷有一点点距离的事情。敏捷在当时是一个新事物，有些争议。人们做着各种各样的事情，通常会混淆过程和建模技术以及需求工程方法和工具。那时大学大多教瀑布。

在 90 年代末和 21 世纪初，人们试图标准化建模语言。其结果是，UML 在一段时间内广受欢迎，像 Rational(后来被 IBM 收购)这样的公司试图使它成为开发过程的中心点。结果， [Rational Unified Process](https://en.wikipedia.org/wiki/Rational_Unified_Process) 在当时被认为是现代和时髦的，并被认为是对敏捷的一种反击。理性和 RUP 最终落入 IBM 手中；可以说是当时(以及今天)现存的最不敏捷的公司之一。那时，蓝色西装/白色衬衫在 IBM 仍然很流行。标准、认证、培训和相关咨询业务蓬勃发展。

UML 和 RUP 延续了瀑布的教条，即在做需求规格说明(也使用 UML，多么方便)之后，在做实现工作之前，在测试开始之前，首先做详细的设计(当然使用 UML)。简而言之，这也应该是使用 UML 和所谓的模型驱动开发来完成的。令人欣慰的是，MDA 和相关的一系列(现在)放弃了做这件事的软件，这些天在关于软件开发的严肃讨论中不再出现。

但是 RUP 也是迈向敏捷的垫脚石。Rational unified 也试图进行迭代。这真的意味着你必须在一个项目中多次使用瀑布；大约每季度一次。Rational 的前提是这需要工具，大量的工具。非常复杂的工具，需要大量的咨询。这就是 IBM 收购他们的原因，他们通过让组织实施 RUP、培训软件架构师和出售昂贵的软件许可证赚了很多钱。在那些日子里，任何有自尊的软件架构师都有一些盒子和书籍，在显眼的地方有 Rational 的标志。他们会挥舞着令人印象深刻的图表，并且通常会有很多带有更多图表的架构和设计文档。

敏捷具有巨大的破坏性，主要是因为它打破了那个泡沫。抱歉，说错了双关语。它只是在大约 5 年的时间里消失了。2000 年到 2005 年间，UML 慢慢从我们的生活中消失了。我已经很久没有使用 UML 工具了，不能说我想念它们。

迭代开发当然和瀑布一样古老。Royce 在 1970 年写的关于瀑布[管理大型软件系统的开发](http://www-scf.usc.edu/~csci201/lectures/Lecture11/royce1970.pdf)的原始论文实际上仍然是很好的读物，并且很快被关于螺旋和迭代开发的论文所补充。

反馈循环是一件好事；每个工程师都知道这一点。事实上，Royce 在那篇论文中提出了迭代！论文中的文字引用:“尝试做两次工作——第一个结果提供了最终产品的早期模拟”。罗伊斯在 1970 年试图变得敏捷。当然，他的工作被简化为:让我们首先做需求；把它们固定下来，然后把它们变成设计和实现，也许在我们把它们扔出墙并走开之前，做一些测试/错误修复。[有趣的事实，瀑布这个词并没有出现在罗伊斯的论文中！](https://pragtob.wordpress.com/2012/03/02/why-waterfall-was-a-big-misunderstanding-from-the-beginning-reading-the-original-paper/)原来关于瀑布的论文根本没有提到瀑布。瀑布不怪罗伊斯。从第一天起，瀑布就不是一个东西。

敏捷宣言和运动所实现的是瀑布泡沫的破灭和迭代开发成为规范。在 UML 中拥有大量的设计文档会降低你迭代的速度，并且很难做到这一点。如果迭代是你的目标，你不能浪费时间去做。人们发现这种典型的不完整和过时的文档的附加值是有问题的。

结果是 UML 成了白板上的东西，从那以后就成了一个完全可选的东西，现在根本不是软件规划中出现的话题。需求文档也是如此。这是一个有点黑的艺术开始。随着敏捷的发展，人们发现，相对于你现在所拥有的，指定你想要改变的小的增量要比预先指定整个事情容易得多。无论如何你都会不可避免地犯错。

摆脱这样的项目官僚主义允许更短的周期和更快的迭代，以及围绕工作原型的集中开发。极限编程就是将它发挥到(当时)极限，进行短至几周的冲刺。这在一个项目可能花费数月或数年甚至不产生工作代码的行业中是闻所未闻的。

# 敏捷带来了工具的革命

问题跟踪器等工具对此提供了支持。Bugzilla 是第一个广受欢迎的游戏，吸引了很多人。这大概发生在敏捷成为一种事物的时候。问题追踪器把需求变成了一种新的工作方式。您不是编写规范，而是以被跟踪的问题的形式指定变更请求。最初这是用于 bug，但是很快这就扩展到跟踪所有种类的变化。类似地，维基取代了设计和产品文档。

敏捷催生了许多新工具的采用和开发；其中许多起源于开源社区。如今，任何像样的项目都有一个问题跟踪器、某种分散的版本控制系统(通常是 Git)、CI 工具、wikis、irc 或 slack 等交流工具。这些工具是必不可少的，它们将继续改变人们的工作方式。其中一些工具由 Atlassian、Gitlab 和 Github 等公司在云中运行。微软最近对后者的收购显示了这些工具变得多么重要。

开源世界总是分布式的，永远不能依赖会议。因此，他们采用了支持其工作方式的工具和流程。早期的项目使用邮件列表和新闻组之类的东西；还有版本控制系统像 CVS，RCS，还有后来的 Subversion，Git 之类的东西。类似地，Irc 比 Slack 早了几十年，并且仍然是一些项目中首选的沟通方式。Github/Gitlab 上的 pull 请求现在在企业项目中很常见，这种做法源于通过邮件列表和新闻组交换补丁的做法。最终，Git 被创造出来使这个过程变得更容易，Github 为它创造了一个 UI。

当敏捷宣言签署的时候，这些工具中的许多都不常见(甚至不存在)。然而，敏捷的人们接受了这些工具，也催生了 Devops 运动，将运营经验和职责整合到团队中。Devops 带来了更多的工具。部署自动化、docker、kubernetes、PAAS、SAAS、chatops 等。

所有这些工具和它们相关的实践正在慢慢形成一个后敏捷世界。

# 会议是同步的瓶颈

敏捷用结构化的过程取代了瀑布，以迭代的方式组织开发。上面提到的工具大多是后来才出现的。敏捷的一个意想不到的副作用是大量的新会议。和任何一个工程师谈论像 Scrum 这样的事情，你基本上会列出他们必须要做的会议:冲刺计划，评估，回顾，回顾，当然还有站立会议。Scrum 的教科书实现本质上是这种会议的无尽循环。我认识的大多数工程师讨厌开会，或者充其量把开会视为一种必要的邪恶。

在后敏捷时代，人们发现会议的附加值是有问题的，有工具可以帮助他们摆脱会议。我的最爱之一。com 时代幸存下来的公司，despair.com，仍然出售一张很棒的海报，上面有下面的口号:[会议。我们中没有人像我们所有人一样笨。](https://despair.com/products/meetings?variant=2457301507)。我参加过不少与 scrum 相关的会议，这些会议让我想起了那张海报。

会议本质上在时间和(通常)空间上都是同步的。他们要求在某个特定的时刻在一个房间里的头。这是极具破坏性的，因为人们必须停下手头的工作，去开会，一起讨论和决定事情，并做出决定。视频会议工具在这方面有点糟糕，远程与会者在这种会议中通常处于巨大的劣势。

# 进入异步状态

有了后敏捷，人们保留了他们从 OSS 团队和一些敏捷实践中采用的工具。然而，他们放弃了会议，并普遍消除了流程中的同步瓶颈。这与告别复杂过时的 UML 图、蹩脚的需求规范和瀑布式开发的缓慢步伐一样，是一种解放。我有许多朋友和同事在遍布全球的分布式团队中工作。

有几个实践是后敏捷的关键。关键促成因素是连续部署或连续发布。简而言之:如果东西准备好了，你要让它马上可用，以尽可能缩短反馈循环。OSS 社区首先发现了这一点。自从 Mozilla 的开源产品问世以来，Mozilla 每夜构建就已经存在了。频繁发布对于通过问题追踪器收集反馈是必不可少的。你不必等到两周后的下一次回顾会或任何你必须得到反馈的里程碑。您使用工具和自动化流程来确保这一切以可控和可预测的方式发生。

持续部署需要高度自动化。它需要持续集成:又名。自动评估你现在是否适合出货。每次更改都会触发 CI 构建。CD 消除了发布管理的角色，CI 将产品经理从手工测试和批准发布中解放出来。

持续集成反过来需要有能够自动运行的测试，这些测试覆盖了足够多的产品，使人们对事情按照他们的意图运行充满信心。自动化测试的目标是防止在发布任何软件的关键路径上进行手工测试。

持续部署需要的另一件事是分支和合并变更的能力。为了保持生产分支的稳定性和可发布性，保持分支上的工作进展直到足够好是很重要的。

Git 是这个和另一个出现在 OSS 世界的工具的关键推动者。在 Git 之前，版本控制系统是巨大的组织瓶颈。分支是皇家的痛苦，足够复杂，随后的合并需要大量的规划。组织在合并上经常遇到瓶颈。这通过提交冻结和类似的实践得以缓解。Linus Torvalds 已经运营世界上最大的 OSS 项目(Linux)将近 25 年了，所有这些关于分支和合并的计划和协调让他非常恼火，他发明了 Git。Git 整理并改进了 Linux 开发社区一直在实践的异步变更管理。

当然，Linux 仍然继续依赖邮件列表来使用 git。Linux 开发人员通过电子邮件交换 git 补丁(即提交的文本导出，而不仅仅是差异)。然而，一家名为 [Github](https://github.com) 的公司出现了，它让 Git 对大众更加友好，并向我们介绍了后敏捷的一个关键工具:拉请求。本质上是一样的，但是审查和合并的流程得到了一个漂亮的 web UI 的支持。

拉请求是管理软件变更的一种异步方式。当敏捷开始的时候，版本控制是在 CVS 上完成的(subversion 还在测试阶段),分支被认为是非常危险的仪式，最好避免。整个公司在没有版本控制系统或分支机构的情况下勉强度日。

拉请求、CI 和 CD 是强大的工具，可以消除软件开发中的许多同步瓶颈。你通过一个问题追踪器开始一个主题的工作，在这个工具中讨论后，在邮件列表或 slack/Skype/IRC/无论什么上，然后你创建一个分支并开始工作。完成后，您将创建一个拉动式请求(PR)。相关利益相关者提供反馈(在被分配或@标记后)。与此同时，CI 确认事情已经准备好合并。请购单获得批准后，将被合并。这又会触发自动化部署。软件变更的开始到结束可以是完全异步的。人们在问题跟踪器中同步票证，并通过异步通信工具拉动请求和升级。当事情出错时，相关的 PR 被识别，git 历史和问题跟踪器被用于找出发生了什么，如果需要，新的 PR 被创建以回复或修复问题。工具有助于决策、规划、审计、自动化，并影响传统瀑布模型的所有生命周期。

# 异步支持分布式团队

去异步化可以减少会议，消除作为必要的或者有意义的工作单元的冲刺，并且允许你在几个小时而不是几个星期内迭代。异步还使您能够在地理上分布工作。会议是这方面的一个障碍，因为它们要求人们在同一个地方和时区。如果你在各大洲都有人，这两个都不现实。通过异步，人们可以通过问题、拉式请求和松弛来协调工作和同步，同时围绕发布、部署等做出决策。是自动化的。

这使你能够摆脱几乎所有与敏捷相关的会议。全部都是。这就是为什么我相信有效地实现异步和分布式将我们带入一个后敏捷世界。站立在一个分散的团队中是不实际的，所以那些去。通过视频电话进行冗长的冲刺计划和评估会议也是不现实的。短跑本身已经没有必要了。诸如此类。

# 你应该追求敏捷吗？

现在每个人都应该跟上潮流，开始做后敏捷吗？我认为，不，你应该只做适合你环境的事情。就像你应该做的敏捷一样。然而，有帮助的是，从您正在做什么、您试图完成什么、您有什么工具和过程、您的瓶颈是什么，以及您如何随着时间的推移发展您的过程和工具方面，反思您在您的组织中处于什么位置。您可能已经使用了上面提到的许多工具和实践。

我认为分布式团队和公司是后敏捷世界的主要驱动力。异步工具和实践是实现这一点的关键因素。分散开会有许多经济上的好处，可能会使人们对变得更加分散和减少会议中的瓶颈感兴趣。例如，当人们不必搬到你的中心办公室时，招聘就更容易了。你可以接触到全球人才库。不必在旧金山或伦敦等昂贵的地方拥有昂贵的办公室也是一个巨大的优势。不会在会议和相关旅行上浪费两位数的 R&D 预算百分比也是一大收获。为了 scrum 相关的计划和仪式，每两周让每个人在会议室呆上一整天是你开发预算的 10%。在像旧金山这样的地方，我们谈论的是投资者在这方面投入的大量资金，因为那里的工程师非常昂贵。

如果您想利用这些好处，您需要考虑如何在您当前的流程中集成异步。同时继续做 Scrum 和实践后敏捷实践是完全没问题的。很多公司都这么做。这不是要跳槽，而是要反思你在做什么，为什么以及如何工作。就我个人而言，我一直更喜欢看板风格的流程，因为它们更容易与异步做事保持一致。无论你做什么，请不要固执己见。