# 你什么时候知道性能瓶颈不是你的代码，而是基础设施？

> 原文:[https://dev . to/squ geim/when-do-you-know-the-performance-through-not-your-code-but-the-infra structure-3p 79](https://dev.to/squgeim/when-do-you-know-the-performance-bottleneck-is-not-your-code-but-the-infrastructure-3p79)

我曾经遇到过这样的情况，我们发现 REST API 存在一些性能问题，并开始着手优化它。

我认为任何人做的第一件事就是责怪代码。也许我们没有正确使用 SQL 查询？我们能改变算法来更好地处理数据吗？我们是否正确地索引了这些列？

但是在什么情况下，您认为可能是基础设施的问题:我们应该升级 EC2/RDS 实例吗？添加更多负载平衡的服务器？

升级基础设施肯定会提高性能，但会产生财务成本。我们总是希望通过尽可能多地改变软件来获得当前硬件的最后一点性能，对吗？