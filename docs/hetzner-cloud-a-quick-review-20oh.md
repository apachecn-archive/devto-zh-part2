# 赫茨纳云:快速回顾

> 原文：<https://dev.to/mskog/hetzner-cloud-a-quick-review-20oh>

5 年多来，我一直是 Hetzner dedicated servers 的忠实客户，满足我所有的附带项目需求。他们有坚如磐石的性能和非常合理的价格。然而，对于他们最新的 VPS 产品，我看不到其他办法，只能取消我忠诚的专用机器，转向云。

## 简介

我的旧机器正常运行时间约为 4 年，它为我提供了良好的服务。以固定成本为我想要的任何附带项目提供无限的服务器空间是非常棒的。出于几个原因，我曾经想迁移到云服务器。首先，拥有一台不受管理的专用机器意味着*你*必须修复任何问题。如果一个驱动器坏了，你必须能够和 mdadm 一起找到它，并告诉服务器人员把它换出来。如果快照拒绝启动，您也不能从快照恢复。到最后，我相当确信，如果我不得不重新启动我的机器，它不会能够。最后，虽然这台机器作为专用服务器非常便宜，但对我的副业项目来说还是有点贵。

我在 [Hetzner 服务器拍卖会](https://www.hetzner.com/sb)上租的旧机器。它是一款至强 1245v2 处理器，配有 2x3TB 硬盘和 16gb ECC 内存。它有非常好的单核性能，这对于 Ruby on Rails 应用程序来说是至关重要的。它运行的是 Ubuntu 14.04，我已经有大约 4 年没有重启它了。是..它的正常运行时间超过 1200 天。

```
deployer@Marge:~$ uptime 11:01:11 up 1219 days 
```

Enter fullscreen mode Exit fullscreen mode

关于海兹纳服务器拍卖的一个小插曲。Hetzner 有一个拍卖，你可以在那里租用旧服务器。你经常可以在这里买到很好的服务器级硬件，所以如果你需要一台好的专用服务器，就去看看吧。尽管过去那里的交易更好，但还是要货比三家。

我每月总共支付了 43 欧元(约 53 美元),包括增值税，用于购买配备服务器级硬件的专用服务器。这在很长一段时间内都很棒，但我只使用了可用性能的一小部分。请记住，我只将此服务器用于简单的辅助项目。他们没有收到很多流量，所以平均服务器负载只有区区 0.2。因为这个原因，我一直在寻找替代品。还有一个问题是，我的服务器中没有大多数云提供商提供的 SSD。

这不是 Hetzner 的第一个产品，因为他们过去就有过 VPS 产品。改变游戏的是他们新的云服务器。它们可能看起来相似，但是有一些重要的区别，例如:

*   **多了**更好的界面。旧的机器人界面既古老又笨重。
*   按小时和按月评级
*   以同样的价格获得更多的动力。新的云服务器拥有最新的硬件和 NVM 驱动器。
*   图像、快照、自动备份等。

[![](../Images/d3179fcb0402f28c1ccb3f4ed7ff2eca.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--9zy93Irk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.mskog.com/images/hetzner_interface%402x.png)

我不得不试一试，因为它的价格只有同样规格的 DigitalOcean 的 25%。

虽然我没有使用我的旧机器的原始性能，但我确实使用了一点内存(Ruby 项目)。总共我需要大约 8gb 左右。新设置包括 2 台第二小的机器，即 2x CX21。这给了我 8gb 的内存总量和 4 个共享 CPU 内核。对我来说，CX21 似乎是最划算的，2 个 CPU 内核，4GB 内存和 40GB 存储，每月大约 5 欧元。

使用改进后的新界面，我在不到一分钟的时间内就启动并运行了机器。这些机器通常在不到 10 秒的时间内启动，这令人印象深刻。

新机器的性能从一开始就给我留下了深刻的印象。他们已经运行了一个月左右，表现非常稳定。这当然可能是因为整个服务是新的，没有吵闹的邻居。到目前为止，这看起来很有希望，这在下面的图片中也很明显:

[![](../Images/5ce15fd8f989401a41ca2e5dd855e1c2.png)T2】](https://browser.geekbench.com/v4/cpu/7077328)

将上述内容与具有可比规格的[数字海洋液滴](https://browser.geekbench.com/geekbench3/8497913)进行比较。

为了展示 Hetzner 提供了什么样的价值，我将他们与其他一些云提供商进行了比较。特别是，我调查了与 CX21(5 欧元一个)规格大致相同的产品的价格。

### [数字海洋](https://m.do.co/c/457e363d283d)

对我来说，DigitalOcean 是优秀 VPS 提供商的基准。价格合理，性能卓越。一台配有两个 cpu 内核、4GB 内存和 80GB 固态硬盘的机器售价 20 美元。这款服务器的存储空间是 Hetzner 服务器的两倍，但价格却是后者的三倍。

数字海洋拥有的是一个由其他服务组成的生态系统。例如，他们提供块存储和负载平衡器。他们还提供了将 CPU 核心换成 RAM 的计划，反之亦然。

### [李诺德](https://www.linode.com)

Linode 是一家知名且稳定的 VPS 提供商。一台配有 2 个 cpu 内核、4gb 内存和 48gb 固态硬盘存储的机器售价 20 美元。同样，价格大约是 Hetzner 机器的 3 倍，与 DigitalOcean 差不多。不过，存储空间更少。与 DigitalOcean 非常相似，它们也提供块存储、负载平衡器等等。

### [OVH](https://www.ovh.ie)

OVH 是法国供应商。一台有 1 个 cpu 内核、4gb 内存和 20gb 存储空间的机器与 Hetzner 机器的价格大致相同。他们为年度账单提供折扣。在这里你可以接触到 OVH 的生态系统。这包括非常实惠的 CDN 解决方案、托管云数据库等。他们还提供其他类型的 VPS，具有更多 RAM 或 CPU，但没有 SSD 存储。

### [车道](https://www.scaleway.com)

Scaleway 既有他们所谓的“裸机 SSD 云服务器”，也有普通的 VPS。他们是独一无二的，因为他们销售裸机专用机器，就好像他们是云机器一样。一台配备 4 个 CPU 内核、4GB ram 和 100GB SSD 的非专用机器价格约为 7.50 美元。这非常便宜，但有一个大问题:Scaleway 对这些机器使用 Atom CPUs。这些 CPU 价格实惠，耗电少，但单核性能差。

[![](../Images/b3e86e9054fdf325771b4f769e72ff6e.png)T2】](https://browser.geekbench.com/geekbench3/5631950)

Scaleway 还以更低的价格销售基于 ARM 的服务器。更好的是，你可以每月花大约 15 美元拥有一台 4 核、8GB ram 和 50GB SSD 的专用机器。请注意，这是一台专用机器，而不是共享的 VPS。他们也有 50GB 的 SSD 块存储，价格约为 1 美元。同样，如果您不需要出色的单核性能，那么可以好好看看 Scaleway 提供的产品。

[![](../Images/a1b1ce6ec16af1e3d70e615d81effc1c.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--1nzaUVDL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.mskog.com/images/scaleway_pricing%402x.png)

### [AWS EC2](https://aws.amazon.com/ec2/)

首先，将 AWS EC2 实例与常规 VPS 进行比较是不公平的。在这里，你有一个非常丰富的弹性服务器生态系统和你背后的整个 AWS。这里你不是为性能买单，你是为生态系统和弹性买单。一个月大约 33 美元，你就可以拥有一个带有 2 个“虚拟内核”和 4GB 内存的 T2 中型实例。除此之外，亚马逊还对磁盘收费，你想要多少就有多少。请注意，这里根本不包括传出流量，您必须为您使用的每 GB 流量付费。您可能已经注意到，与 VPS 相比，AWS EC2 实例根本没有成本竞争力，也不应该有。

### [亚马逊光帆](https://aws.amazon.com/lightsail/)

这是 AWS 的 VPS 产品。与上面的弹性例子不同，这些是“正常的”VPSes，我们可以将它们与其他的进行比较。一台双核机，4GB 内存，60GB 固态硬盘，一个月 40 美元。同样不便宜:在这里你也可以访问 AWS 生态系统的其他部分。

在上述所有报价中，似乎只有 Scaleway 能够提供任何真正的竞争价值。

所以到目前为止，这看起来还不错。Hetzner cloud 比我能找到的大多数 VPS 提供商都便宜，而且性能很好。那么没有问题了吗？嗯，主要有两个:第一:盘量。由于 Hetzner 使用 NVM 固态硬盘，他们获得了不便宜的出色性能。每台服务器的磁盘容量很小，无法扩展。第一个双核机器有 40GB 的空间，这是可以的，但即使适度使用也很容易耗尽。例如，Docker 默认记录到一个 JSON 文件，如果有几个容器在运行，这个文件会增长得很快。尤其是当这些容器进行大量的日志记录时。如果你需要更多的磁盘空间，你唯一的选择就是升级整个服务器。赫茨纳确实出售储物盒，但它们性能不可靠，速度慢。它们用于备份和类似 Dropbox 的功能。因此，在 Hetzner 推出块存储选项之前，这个问题将一直存在。

另一个严重的问题是位置。赫茨纳只存在于德国。这对于像我这样的瑞典人来说是完美的，但是举例来说，你不能在美国得到 Hetzner 服务器。大多数其他云提供商在其他地理区域有几个数据中心。这是海外人士的一个大问题。对你来说，海兹纳可能不是一个现实的选择。

## 总结

对于我的副业项目来说，迁移到 Hetzner Cloud 取得了巨大的成功。我支付的费用不到以前的三分之一，如果我需要更多，我可以花很少的钱再租一台服务器。我会写博客，告诉你有一天我是如何用 Ansible 和 Dokku 设置我的 VPSes 的，这样你就可以马上开始了。当我使用 Hetzner Cloud 一段时间后，我还会在六个月左右写另一篇关于它的评论。