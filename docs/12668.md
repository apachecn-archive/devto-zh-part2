# 100 行 Tcl 代码能完成什么

> 原文:[https://dev . to/dexy gen/what-100-lines-of-TCL-code-can-complete-9fb](https://dev.to/dexygen/what-100-lines-of-tcl-code-can-accomplish-9fb)

在我的编程生涯中，仅仅三年时间，我就已经是一个通晓多种语言的人了，从 [Progress 4GL](https://en.wikipedia.org/wiki/OpenEdge_Advanced_Business_Language) 开始，但是很快就转移到了今天更加知名的技术，包括 Javascript、Perl、Python、ASP 等等。所以当我在一家医院找到一份工作，了解到他们使用一种称为 HL7 的数据格式，可以用 Tcl 编写脚本时，我决定自己学习一点 Tcl。

为此，我进行了学习一门新语言时我最喜欢的第一个练习，这就是将数字转换成罗马数字。虽然仍然很琐碎，但我的解决方案至少包含了循环和算术，比“Hello World”要多得多这是我 2001 年的“食谱”。

我从来没有在那家医院使用过 Tcl，尽管在那十年的剩余时间里，我继续偶尔涉猎它，但我从来没有(至今仍然没有)专业地使用过它。尽管如此，随着下一个十年的开始，我对与 Tcl 相关的技术之一的兴趣将为我带来回报，至少在“自我实现”的层面上。

作为一名 web 开发人员，我被 tclhttpd web 服务器所吸引。虽然很多人会说，而且很可能是正确的，Tcl 最重要的方面之一是它与[跨平台 GUI 工具包 Tk](https://en.wikipedia.org/wiki/Tk_(software)) 的紧密集成，但同样，作为一名 web 开发人员，我显然已经将浏览器作为 UI。

不，我发现 Tcl 特别有趣的是包括以下内容的工具链:

*   tclkits
*   星吻
*   星际背包

tclkit“是一个紧凑的单个可执行文件，包含完整的脚本运行时，包括丰富的脚本语言(Tcl)”等。；参见:[https://equi4.com/tclkit/](https://equi4.com/tclkit/)和紧凑意味着仅仅一兆字节的给予或获取，这取决于是否包括 Tk。

“starkit”是包含 Tcl 脚本、特定于平台的编译代码和应用程序数据的目录层次结构的单文件打包。starkit 利用了 Tcl 的虚拟文件系统....(它们)简化了跨平台应用程序的部署。”参见:[https://wiki.tcl.tk/3661](https://wiki.tcl.tk/3661)

此外:“一个星际套件可以运行...通过 Tclkit:"

`mytclkit mystarkit.kit`

所以这些碎片开始拼凑起来。这已经使得分发一些脚本比许多应用程序有时需要的要简单得多，后者需要(在 Windows 上)安装尚不存在的成熟的 Perl 或 Python，然后运行它们的代码。

但是有一点需要抵制，star packs:“star pack 是一个单独的可执行文件，包含 basekit(包括 tclkit)和 star kit”；参见:[http://wiki.tcl.tk/3663](http://wiki.tcl.tk/3663)

在上个十年接近尾声的时候，我在某个地方签约，实际上我开始使用我自己的 PHP 微框架——这是另一个故事；)但在我工作的过程中，我们需要在网页中嵌入 ftp 客户端，因为需要移动大于 2GB 的文件。我们立即想到了 Java applet，这也是我们确实选定的，但是在这个过程中我听说过 Adobe AIR，所以建议我们至少评估一下它能为我们做什么。

尽管没有使用 AIR，但我对它的可能性很感兴趣，并把它放在了脑后，大约一年后，我突然意识到，使使用 web 技术开发桌面应用程序成为可能的是:

1.  启动本地 web 服务器
2.  将一个精简的浏览器(例如没有地址栏)指向所提供的内容

鉴于到目前为止我所写的一切，当我意识到上述情况时，我在脑海中整理了实现类似功能所需的整个基于 Tcl 的堆栈(web 服务器、语言解释器、创建可执行文件的工具),其中缺少一个元素:web 浏览器。

我找到了！看到[https://wiki.tcl.tk/3134](https://wiki.tcl.tk/3134)但特别是[https://wiki.tcl.tk/17697:](https://wiki.tcl.tk/17697:)hv3

一旦我有了我的整个堆栈，一切都很快到位，我能够在周末的空闲时间拿出一个相当于 Adobe AIR 的粗略原型。实际上，我没有使用 tclhttpd，而是使用了一个由同一个人编写的容易破解的 400 行服务器。然后，在我对它和 hv3 浏览器进行必要的代码修改，然后启动 starkit 的必要代码之间，我只需要接触大约 100 行代码。我努力的结果，我称之为“DeskML”，可以在这里的下载链接中找到:【https://code.google.com/archive/p/deskml/

不过，我从未在这个平台上走得太远。如果我记得在新的 64 位版本的操作系统上运行它有问题。HTML5 也出来了，hv3 不兼容。如今，有其他替代产品已经取代了 Adobe AIR、nwjs (NodeWebkit)，甚至还有 electronic。

尽管如此，在我近 20 年的软件开发生涯中，Deskml 可能是我最引以为豪的一件事。而没有 Tcl 我是做不到的！