# 码流总体规划

> 原文：<https://dev.to/ppezaris/codestream-master-plan-5boh>

我们创立 CodeStream 是因为尽管我们在通信领域工作了 20 多年，为数百万客户建立了联系并促成了对话，见证并参与了个人和商业通信的各种创新，但我们发现有一个受众特别被忽视:软件开发人员。所以我们开始着手解决这个问题。

### 问题

理解代码是软件开发中最难的问题之一，当然排在其他两个问题之后:缓存失效、命名和减 1 错误。

将计算机代码翻译成人们可以理解的东西所需的思维映射是一项非常复杂的活动，它消耗了平均开发人员 75%的时间，这使得为现有代码提供想法和解决方案变得不必要的困难。此外，[不到 20%的开发人员使用内部工具来了解他们被雇佣来工作的代码库](https://insights.stackoverflow.com/survey/2018/#developer-profile-ways-developers-learn-on-their-own)，让开发人员很大程度上依靠自己来找出正确的前进道路。

开发人员总是意识到在源代码内部交流源代码的必要性。一些最早的计算机程序的例子，可以追溯到 1936 年，包括在机器可读代码和人类可读理解之间架起桥梁的代码注释。

然而，尽管发明了成千上万种编程语言，包括可以编写程序的程序，但在第一个代码注释被引入以来的 80 年里，注释代码的过程基本上没有改变。软件开发过程中每一个可以想象的部分都有创新，但是仍然没有一个有效的改进来将软件映射到湿件。

我们希望通过创建一套系统来解决这个问题，这套系统使与其他人讨论源代码变得非常容易，并准确地捕捉关于代码库的所有讨论和活动:与您的代码在一起。

通过让谈论代码变得更容易来让理解代码变得更容易
如果每个开发人员工作中最难的部分是理解他们正在看的代码，那么对他们来说最简单的学习方法就是和代码的作者交谈。如今，使用现有的工具很难做到这一点，这些工具通常分为两类。

首先，你有特定于代码的生命周期工具，比如 GitHub PR comments，这些工具对于它们的预期目的来说很棒，但是在你可以谈论的代码方面是有限的，通常与你的编辑器不相连，缺乏现代的消息传递功能，并且一旦 PR 被合并，它们基本上就消失了。

然后是通用的交流工具，比如 Slack 或微软团队(也很棒)，它们脱离了你的代码库，需要深入的上下文切换才能参与进来。有多深？

想象一下，如果每次你想问一个关于谷歌文档的问题，你必须…

*   复制文档的 URL
*   切换到浏览器中的新标签页，打开 Gmail
*   点击“撰写”
*   在“收件人”栏中键入收件人
*   粘贴文档的 URL
*   描述一下你的问题:“在上面链接的文件中，第三页，第二段，第一个分句后的第三句，你说‘foo bar’是什么意思？”

…然而，如果你用“源代码”代替“Google Doc”，用“Slack”代替“Gmail ”,这基本上是开发人员今天必须克服的困难，每次他们想做一些简单的事情，比如问一个关于他们正在开发的代码库的问题。

因此，我们为工程师列出了一个希望在信息系统中看到的功能列表:

*   提供谈论任何状态、任何分支上的任何代码块的能力，而无需离开您的编辑器，就像“选择代码，键入您的注释”一样简单
*   通过嵌入现代消息传递支持，如同步或异步通信、通道和 DMs、提及、反应、斜线命令和 DND(这对开发人员很重要！)等。，就在编辑器里。
*   创建一种方法，只需编写代码并对其进行评论，就可以轻松共享正在进行的工作。
*   将代码块视为消息流中的一级对象，使它们具有可操作性，这样您就可以轻松地共享未提交的代码以获得反馈，在正式的 git 流程(分支...犯罪...推...拉...)，以及 diff 共享代码块。

这种方法解决了使关于代码的对话更加普遍的最大障碍，即消除使用不是为交流而设计的软件开发工具和不是为软件开发而设计的通用交流工具所固有的摩擦。

一旦我们勾勒出这一切是如何工作的，我们就有了某种顿悟:如果我们知道您在谈论代码，那么如果我们能够以一种以后可以引用的方式将对话线程直接与代码联系起来，会怎么样呢？

—

每个代码库都应该有一个知识库
今天，世界各地的开发团队使用 git 来跟踪他们存储库中每个文件的每一行的每一个变化，一直追溯到项目开始的时候。然而，几乎所有这些团队都在讨论这些代码，这些代码通常解释了所有代码的工作原理，并在不知不觉中将其丢弃在 Slack 或 Gmail 中，或埋在公关评论中，可能永远不会再被看到。

有点疯狂，一旦你认真想想。

我们相信关于你的代码库的每一条信息都应该和你的代码库保存在一起，在任何时候，在查看一个文件或者一个函数的上下文中，对每个开发者都是可见的。令人惊讶的是，这个简单的概念没有被今天广泛使用的任何工具实现。

遗留代码注释(/* like this */)如果使用得当，作为一种文档形式是有效的，原因很简单:注释保留了它们所引用的代码的本地邻近性。我们想出了一个标记系统，它允许任意数据与一个代码块相关联，将讨论和活动连接到代码行。

理想情况下，标记应该:

*   在源代码可见的地方可见，包括在编辑器中。
*   标记一行或一系列代码，提供特定的上下文。
*   当代码发生变化时，根据需要随着它们所引用的代码移动，跨提交和分支，保持与函数和文件的未来版本相关，并且对于团队中的每个开发人员，不管哪个版本被签出。
*   随时创建和更新，独立于 git 提交节奏。
*   启用带有实时消息的评论对话。
*   交叉发布到现有的沟通工具，如 Slack、MS 团队或电子邮件。
*   自动提及他们所指代码的作者。
*   与第三方工具连接，这样 PR、CI、代码审查和崩溃报告工具可以在您的源代码树中创建和更新标记。

通过将团队讨论和系统活动直接与您的源代码联系起来，标记成为一种新的文档形式，它可以对源文件本身进行注释，并创建一个未来开发人员可以学习的知识库。

这样，一个良性循环就诞生了:

*   团队中的新开发人员不必从裸露的代码库学习，而是通过访问为每个功能和每个文件捕获的所有先前的对话和活动来抢占先机。
*   随着这些开发人员学习代码库，他们可以更容易地对它的任何部分提出新的问题，因为编辑器中集成了与版本无关的注释。
*   这些额外的问题将导致对话和答案，与标记相关联，这些标记与代码一起捕获，进一步构建知识库，并给下一个开发人员更大的领先优势。

这就是为什么我们建立了 [CodeStream](https://codestream.com) :类固醇上的评论，连接到你的工具，用你的代码捕获。