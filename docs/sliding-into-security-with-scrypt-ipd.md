# 使用 scrypt 实现安全性

> 原文：<https://dev.to/captainsafia/sliding-into-security-with-scrypt-ipd>

本周早些时候，我试图弄清楚如何将认证数据从 Firebase 导出到另一个数据库。事实证明，Firebase 提供了一个[命令行实用程序](https://firebase.google.com/docs/cli/auth)，允许用户从 Firebase 导出认证数据。当我阅读这个工具的文档时，我看到了 Firebase 用来保护密码的散列算法的描述:scrypt。我认为深入研究这种加密技术的代码库会很有趣。事实证明，虽然它是在 2009 年发明的，但由于它在加密货币中的使用，它最近获得了复兴。

通常，我会直接进入代码库，开始阅读特定开源项目的代码。然而，我从来没有读过与密码学相关的代码库的代码。也就是说，我认为最好是阅读一下 scrypt 的工作原理，这样我就知道在阅读代码库时应该注意什么。

我开始浏览主页,看看我能挑选出什么。当我浏览网页时，我列出了一些我不完全理解的单词，并进一步研究它们，以确定它们的一些好的定义。最后只有两个字。他们来了。

1.  "密钥派生函数"
2.  "硬件暴力攻击"

我从名字上大致了解了什么是“密钥派生函数”。这是一个基于某种内部算法导出密钥的函数。事实证明，这是 KDFs 的一个非常好的定义。我想我的冒名顶替综合症发作了，我觉得我需要知道更多，但我认为这个定义现在已经足够了。

我知道什么是“蛮力攻击”，但什么是“硬件蛮力攻击”事实证明，“硬件暴力攻击”本质上是一种严重依赖高性能硬件的暴力攻击，如 GPU 的功能。GPU 的构建考虑到了并行性，这意味着 GPU 可以在更短的时间内进行更多的计算，这意味着它们可以更有效地执行暴力攻击。

接下来我想看看与 scrypt 同时发布的原始研究论文。这篇论文的题目是“通过顺序记忆硬函数进行更强的密钥推导”哦，男孩。那是一个有趣的。在安全研究论文标题的范围内，它实际上并没有那么糟糕。我想确定的第一件事是“难以记忆”是什么意思。我有一个很好的主意，但我想确定一下。事实证明，我的预感是正确的。硬记忆功能是一种利用大量内存的功能。它们经常被用在密码学中，因为除了需要大量计算才能解决的问题之外，它还需要大量内存，这将使它更有弹性。上面链接的研究论文更详细地描述了记忆硬函数。

> 因此，内存硬算法是这样一种算法，它渐近地使用几乎与它使用的操作一样多的内存位置 5；它也可以被认为是一种算法，对于给定数量的运算，它接近于使用尽可能多的内存…

研究论文重点介绍了 HEKS 密钥派生算法，该算法旨在利用任意大量的内存。在我看来，这篇论文并没有很好地解释算法，所以我去了这个网页阅读了更多关于它的内容[。](http://world.std.com/~reinhold/HEKSproposal.html)

在浏览完研究论文后，我认为写一份“攻击计划”是个好主意，说明我打算如何阅读论文以及我希望从中获得什么。具体来说我想弄清楚。

1.  加密 KDF 所依赖的关键参数。
2.  参数如何影响算法操作。
3.  算法对每个参数做什么。

在下一篇博文中，我会重读这篇研究论文，对 KDF 进行更多的研究，以回答上述问题。