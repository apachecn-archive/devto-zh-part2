# é‡å®šå‘åŠå…¶å¯¹æ€§èƒ½çš„å½±å“ï¼Œæˆ–è€…(çœ‹ä¼¼å¾®å°çš„)ç¬¬ä¸‰æ–¹æ›´æ”¹å¦‚ä½•å½±å“â€¦

> åŸæ–‡ï¼š<https://dev.to/dougsillars/redirects-and-their-effect-on-performance-or-how-a-seemingly-minor-third-party-change-affected-cd>

### é‡å®šå‘ï¼Œä»¥åŠå®ƒä»¬å¯¹æ€§èƒ½çš„å½±å“ï¼Œæˆ–è€…ä¸€ä¸ª(çœ‹ä¼¼å¾®å°çš„)ç¬¬ä¸‰æ–¹å˜åŒ–å¦‚ä½•å½±å“ä¸€ä¸ªæµè¡Œçš„ JavaScript Bundler çš„ç½‘ç«™æ€§èƒ½

å½“æœåŠ¡å™¨é‡å®šå‘è¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨å¿…é¡»å¯¹æ–‡ä»¶è¿›è¡Œç¬¬äºŒæ¬¡è¯·æ±‚ï¼Œå¢åŠ (è‡³å°‘)ä¸€æ¬¡é¢å¤–çš„å¾€è¿”è¡Œç¨‹ï¼Œå¹¶å»¶è¿Ÿå‘æœ€ç»ˆç”¨æˆ·äº¤ä»˜å†…å®¹ã€‚

æœ‰ä¸€å¤©ï¼Œå½“æˆ‘é—²åç€çš„æ—¶å€™ï¼Œæˆ‘æƒ³çŸ¥é“â€œä¸€ä¸ªé¡µé¢ä¸Šé‡å®šå‘çš„æœ€å¤§æ•°é‡æ˜¯å¤šå°‘ï¼Ÿâ€HTTP å­˜æ¡£æ¥æ‹¯æ•‘ã€‚åœ¨ summary_pages è¡¨ä¸­ï¼Œæœ‰ä¸€ä¸ª numRedirects å­—æ®µã€‚åœ¨ BigQuery ä¸­å¿«é€Ÿæœç´¢ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªåŒ…å«è¶…è¿‡ 1100 ä¸ªé‡å®šå‘çš„é¡µé¢:

> åœ¨ WebPageTest ä¸­ï¼Œé»„çº¿è¡¨ç¤ºè¯·æ±‚äº†é‡å®šå‘ã€‚æˆ‘æ•°(å¥½çš„..å¯¹â€œ302â€è¿›è¡Œå…³é”®å­—æœç´¢ï¼Œæ‰¾åˆ°äº† 1ï¼Œ187 ä¸ªé‡å®šå‘ã€‚åœ¨ä¸€é¡µä¸Šâ€¦éƒ½æŒ‡å‘ Gravatar çš„ç©ºç™½å¤´åƒã€‚[*#æ€§èƒ½*](https://twitter.com/hashtag/perfmatters?src=hash&ref_src=twsrc%5Etfw)[*pic.twitter.com/SCqzG6rQEG*](https://t.co/SCqzG6rQEG)
> 
> *â€”é“æ ¼Â·è¥¿æ‹‰æ–¯ğŸ‡§ğŸ‡ª([@é“æ ¼Â·è¥¿æ‹‰æ–¯](https://dev.to/dougsillars))*[*2018 å¹´ 10 æœˆ 23 æ—¥*](https://twitter.com/dougsillars/status/1054761605257486336?ref_src=twsrc%5Etfw)

å½“ç„¶ï¼Œå®ƒæ­£åœ¨å¯¹ Gravatar çš„é»˜è®¤å›¾åƒè¿›è¡Œä¸€äº›å¥‡æ€ªçš„æ‹’ç»æœåŠ¡æ”»å‡»â€”â€”æ‰€æœ‰ 1100 ä¸ªé‡å®šå‘(å¥½å§ï¼Œæˆ‘çœ‹è¿‡çš„æ‰€æœ‰é‡å®šå‘â€”â€”æˆ‘å¾ˆå¿«å°±åŒå€¦äº†)éƒ½æŒ‡å‘ Gravatar éª¨æ¶å›¾åƒï¼Œè¿™æœ‰ç‚¹å¥‡æ€ªã€‚

### ä¸€ä¸ªæ„æƒ³ä¸åˆ°çš„åœ°ç‚¹

å½“æˆ‘ç»§ç»­æœç´¢æœ‰å¤§é‡é‡å®šå‘çš„ç½‘ç«™åˆ—è¡¨æ—¶ï¼Œæˆ‘åœ¨å‰ 10 åä¸­çœ‹åˆ°äº†ä¸€ä¸ªç†Ÿæ‚‰çš„åå­—ã€‚æˆ‘å‘ç° web pack([https://webpack.js.org](https://webpack.js.org/))çš„ä¸»é¡µä¸Šæœ‰è¶…è¿‡ 600 ä¸ªé‡å®šå‘ã€‚

Webpack æ˜¯ JavaScript çš„æ†ç»‘å·¥å…·ï¼Œæœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥å¸®åŠ©ä¼˜åŒ–å†…å®¹çš„äº¤ä»˜(å‚è§ [**ç”¨ webpack è¿›è¡Œ Web æ€§èƒ½ä¼˜åŒ–**](https://developers.google.com/web/fundamentals/performance/webpack/) )ã€‚ç”±äºè¿™ä¸ªåŸå› ï¼Œæˆ‘å¾ˆæƒŠè®¶åœ¨è¿™ä¸ªé¡µé¢ä¸Šçœ‹åˆ°è¿™ä¹ˆå¤šé‡å®šå‘ï¼ä¸å¹¸çš„æ˜¯ï¼Œç”¨ WebPageTest è¿›è¡Œçš„å¿«é€Ÿæµ‹è¯•è¯å®äº†è¿™ä¸€ç‚¹ï¼Œå¹¶ä¸”è¿˜æ˜¾ç¤º 302 é‡å®šå‘æ²¡æœ‰è¢«ç¼“å­˜ï¼Œå›è®¿ä¹Ÿé­å—äº†åŒæ ·çš„ 600+ 302 é‡å®šå‘æƒ©ç½šã€‚

[![](../Images/5f9e4d7b2c07547edd92d0cf930f60c7.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--iagboCXq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/353/0%2AtMud9VjIIxBWTSME)

æˆ‘ä¼šæŠŠå®Œæ•´çš„ç€‘å¸ƒç²˜è´´åˆ°è¿™ä¸ªå¸–å­é‡Œï¼Œä½†æ˜¯ä½ ä¼šä¸€ç›´æ»šåŠ¨ï¼Œè¿‡ä¸€ä¼šå„¿å°±æ”¾å¼ƒæˆ‘è¦è¯´çš„è¯ã€‚å¦‚æœä½ å¾ˆå¥½å¥‡ï¼Œå¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°æµ‹è¯•ç»“æœ:[https://www . web page test . org/result/181023 _ JP _ b 9476 f 132 f 954277 f 10 ab 45938 be 4702/](https://www.webpagetest.org/result/181023_JP_b9476f132f954277f10ab45938be4702/)

### è¯Šæ–­

è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼ŸWebpack å¾ˆå¹¸è¿æœ‰å¾ˆå¤šèµåŠ©å•†ï¼Œä»–ä»¬åœ¨è‡ªå·±çš„ç½‘é¡µä¸Šåˆ—å‡ºäº†å¾ˆå¤šèµåŠ©å•†ã€‚æ¯å¼ å›¾ç‰‡éƒ½ä¼šå¯¼è‡´ä¸€ä¸ªé‡å®šå‘:

æ¯ä¸ªè¯·æ±‚:

[https://opencollective.com/proxy/images/](https://opencollective.com/proxy/images/)ï¼Ÿ

å·²é‡å®šå‘è‡³:

[https://images.opencollective.com/proxy/images/](https://images.opencollective.com/proxy/images/)ï¼Ÿ

> *å¹¶ä¸”é‡å®šå‘æ²¡æœ‰è¢«ç¼“å­˜:*
> 
> *ç¼“å­˜æ§åˆ¶:ç§æœ‰ï¼Œæœ€å¤§å¹´é¾„=0ï¼Œæ— å­˜å‚¨ï¼Œæ— ç¼“å­˜ï¼Œå¿…é¡»é‡æ–°éªŒè¯ï¼Œåæ£€æŸ¥=0ï¼Œé¢„æ£€æŸ¥=0*

è¿™æ„å‘³ç€ç›¸åŒçš„é‡å®šå‘å‘ç”Ÿåœ¨éšåçš„è®¿é—®ä¸­ã€‚webpack é¡µé¢æ˜¯å¼€æºçš„ï¼Œæˆ‘å››å¤„æŒ–æ˜ï¼Œå‘ç°ä¸€ä¸ªå¯¹[https://opencollective.com/api/groups/webpack/backers](https://opencollective.com/api/groups/webpack/backers)çš„ API è°ƒç”¨

è¿™å°†è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰æ”¯æŒè€…çš„(éå¸¸å¤§çš„)JSON æ–‡ä»¶ï¼ŒåŒ…æ‹¬ä»–ä»¬å›¾åƒçš„ URLã€‚è¿™å°±æ˜¯é‡å®šå‘çš„æ¥æºã€‚

å› æ­¤ï¼Œæˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªé¡¶çº§å·¥å…·çš„ç½‘ç«™ï¼Œå…¶ç¬¬ä¸‰æ–¹ API æ·»åŠ äº†æ•°ç™¾ä¸ªé¢å¤–çš„è¯·æ±‚æ¥åŠ è½½ç½‘é¡µã€‚

### è¿›ä¸€æ­¥æŒ–æ˜

æˆ‘ä»¬å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼åœ¨ Opencollective Github repo ä¸­ï¼Œæˆ‘å‘ç°åœ¨ Opencollective ä¸Šçš„ 9/17 commit ä¸­å¯¹å›¾åƒå­åŸŸè¿›è¡Œäº†æ›´æ”¹ã€‚è¿™é‡Œæ²¡æœ‰é‚ªæ¶ï¼Œåªæ˜¯ä¸€ä¸ªç®€å•çš„è¿ç§»ã€‚è¿™å¯èƒ½æ˜¯ç½ªé­ç¥¸é¦–å—ï¼Ÿå¹¸è¿çš„æ˜¯ï¼Œæœ‰äº† HTTP å­˜æ¡£ï¼Œæˆ‘ä»¬å°±æœ‰äº†å†å²æ•°æ®ï¼

[![](../Images/8a793829ec5b665aecb948815a9a2f59.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--AQ8kXpTH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/804/0%2ABuiX5qWQv6KF5Kg-)

æŸ¥çœ‹ 2018 å¹´ 9 æœˆ 1 æ—¥çš„ HTTPArchiveï¼Œwebpack.js.org æœ‰ 0 ä¸ªé‡å®šå‘ï¼Œä½†åœ¨ 2018 å¹´ 9 æœˆ 15 æ—¥çš„ HTTP å­˜æ¡£çˆ¬ç½‘ä¸Šæœ‰ 649 ä¸ªé‡å®šå‘ã€‚

æˆ‘çš„ç›´è§‰æ˜¯ 9/17 æäº¤å¯¼è‡´äº†è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥è¿™è®©æˆ‘æ‹…å¿ƒæˆ‘çš„çŒœæµ‹æ˜¯ä¸æ­£ç¡®çš„ã€‚åœ¨æ¯æ¬¡ HTTP å½’æ¡£è¿è¡Œä¸­æµ‹è¯•äº†è¶…è¿‡ 120 ä¸‡ä¸ªç½‘é¡µï¼Œå®ƒä»¬ä¸å¯èƒ½åœ¨ä¸€å¤©å†…å…¨éƒ¨è¿è¡Œã€‚å¯¹ webpack.js.org çš„æµ‹è¯•åœ¨ UNIX æ—¶é—´ 1537493496 è¿è¡Œï¼Œå³ 2018 å¹´ 9 æœˆ 21 æ—¥ï¼Œå³æ¨é€å 4 å¤©ã€‚å¥½å§ï¼Œæˆ‘å°±è¿™ä¹ˆå®šäº†ã€‚

### å½’æ¡£ç¼ºé™·â€”å’Œè§£å†³æ–¹æ¡ˆ

æˆ‘åœ¨ opencollective GitHub repo ä¸Šæå‡ºäº†ä¸€ä¸ªé—®é¢˜:

[https://github . com/open collective/open collective-images/issues/10](https://github.com/opencollective/opencollective-images/issues/10)

ä¸Šå‘¨å·²ç»è§£å†³äº†ã€‚ç°åœ¨ webpack.js.org ä¸»é¡µåˆæœ‰äº† 0 ä¸ªé‡å®šå‘ï¼Œå…è®¸æ‰€æœ‰è¿™äº›å›¾ç‰‡åœ¨ä¸€ä¸ªè¯·æ±‚ä¸­åŠ è½½ï¼

[https://www . web page test . org/result/181108 _ 98 _ 7f 290d 38486 AC 8 ce 6505 ad 553 C4 a bea 9/](https://www.webpagetest.org/result/181108_98_7f290d38486ac8ce6505ad553c4abea9/)

[![](../Images/feae3deb386489c743c159b24ee58185.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--cEVY2Gb5--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/342/0%2APXKXS4tK72NF5THB)

### ç»“è®º:

é‡å®šå‘å¢åŠ äº†ä¼ é€’å†…å®¹çš„é¢å¤–å¾€è¿”è¡Œç¨‹ï¼Œä»è€Œå»¶è¿Ÿäº†é¡µé¢åŠ è½½å¹¶é™ä½äº†æ€§èƒ½ã€‚æœ‰æ—¶ï¼Œæ‚¨çš„ç½‘ç«™æ‰€ä¾èµ–çš„ç¬¬ä¸‰æ–¹çš„å˜åŒ–ä¼šå¯¼è‡´æ‚¨çš„ç½‘ç«™æ€§èƒ½å‘ç”Ÿç¾éš¾æ€§çš„å˜åŒ–ï¼Œå› æ­¤å®šæœŸæµ‹è¯•å¯¹äºå¿«é€Ÿå‘ç°è¿™äº›é—®é¢˜è‡³å…³é‡è¦ã€‚

åƒ HTTP Archive å’Œ WebPageTest è¿™æ ·çš„å·¥å…·å¯¹äºå¸®åŠ©æŸ¥æ˜é—®é¢˜æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œåº”è¯¥æˆä¸ºæ‚¨çš„å·¥å…·é›†çš„ä¸€éƒ¨åˆ†æ¥è¯†åˆ«é—®é¢˜ã€‚

*åŸè½½äº 2018 å¹´ 11 æœˆ 14 æ—¥*[*ã€dougsillars.comã€‘*](https://dougsillars.com/2018/11/14/redirects-and-their-effect-on-performance-or-how-a-seemingly-minor-third-party-change-affected-the-website-performance-of-a-popular-javascript-bundler/)*ã€‚*

* * *