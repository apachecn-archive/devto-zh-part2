# 弹性搜索是不同的

> 原文:[https://dev.to/chrishunt/elasticsearch-is-different-1 abl](https://dev.to/chrishunt/elasticsearch-is-different--1abl)

## 简介

我现在要警告你，在这篇文章中，我可能听起来像一个弹性搜索销售员，但我可以向你保证，我是完全公正的。

直到六个月前，我还在使用 Elasticsearch 进行简单的文档检索。我几乎憎恨它作为另一种查询“语言”来学习。当我进入一个广泛使用 ES 的职位时，这一切都改变了，我需要快速适应。

我在两周内阅读了《相关搜索》([https://www.manning.com/books/relevant-search](https://www.manning.com/books/relevant-search))这本书。这是一篇精彩的阅读，突出了基本的文档检索和真正的相关搜索之间的区别。我开始看到弹性搜索的真正力量。它激发了我的想象力，让我可以在之前的项目中有效地使用它。

我希望我已经花了一些时间来了解它提供的功能，我相信它对许多开发人员来说是非常有价值的，至少有一个概述，这就是我希望在这里给出的。它可以使你在软件选择上做出更好的决定。

## 显著的特征

### 搜索引擎

好吧，所以它是一个搜索引擎，但你的公司不需要“搜索引擎”。你使用一些数据库查询你的 NoSQL/关系数据库，这做了一件体面的工作？

我也是这么想的，但是这里的关键是**相关性**。它是关于尽可能快和简单地让用户到达他们想要/需要的地方。是的，您可以编写一个数据库查询，将一些数据呈现在用户面前，这些数据大致与他们在搜索框中输入的内容相关。您可以修改查询，但它很快会变得非常复杂且难以维护。

考虑特定用户的搜索结果，根据他们以前的搜索、他们的喜好、他们的年龄、他们的性别进行加权。我不羡慕您必须编写 SQL 查询！

Elasticsearch 将允许您查询您的任何索引字段。您可以过滤您的结果，为您的搜索创建一个上下文。例如，如果您(用户)明确表示他们正在您的多百货商店中搜索一本书，您将像在 SQL 语句的`WHERE`子句中一样进行过滤。

当你开始告诉 Elasticsearch 结果**可能**有某个项或者那个项，但是一个项应该通过某个因子提升到另一个项之上时，好东西就来了。你可能想提高更多的高评级产品，或者你可能有一些股票，你需要移动，可以在结果中提高。

如果你有一个文章库，你可能想把最新的文章放在旧文章上面。如果你的搜索结果是基于位置的，你可以增加与用户的距离。

我希望这能让你了解什么是相关性，以及搜索引擎到底是如何有用的。但这仅仅是开始...

### 自动提示

ES 内置了自动建议功能。当用户在搜索框中输入内容时，你可以抢占他们的请求，并在他们输入时将请求放在他们前面。同样，这可能是您可以用当前数据库做的事情。

不过，专家系统可以“更聪明”。您可以建立您的索引，以便它可以在多个字段中查找单词或短语的任何部分。如果索引做得好，ES 可以非常快地返回结果，并且服务器的开销最小。

### 聚合和刻面

ES 可以在与查询结果相同的结果集中返回聚合结果。这本身就是一个吸引人的特性，但它确实很有意义。当搜索某样东西时，如果用户在返回的结果中找不到他们想要的东西，他们需要一个简单的步骤来进一步过滤他们的结果集。假设我刚刚在亚马逊上搜索了电视，它返回了成千上万的结果，我如何才能更接近我想要的呢？facet filters——这些是 Amazon 显示在桌面页面左侧的属性。它允许我进一步过滤品牌、尺寸、价格范围等。ES 可以很容易地返回这些方面和返回结果集的计数。

聚合遵循您对任何其他数据库的预期，并允许管道真正挖掘您的结果。

### 更像这样

实现起来非常简单，但是非常强大。它确实如它所暗示的那样。它允许您指向一个(或多个)文档，并告诉 ES 您想要与您建议的文档相似的其他结果。这对于用户在你的网站上继续他们的旅程或者在商店里看到类似的替代产品是非常有用的。

### 基巴纳和观想

Kibana 是一个 web UI，允许您轻松地构建数据的可视化。它使用起来相对简单，并真正帮助你深入挖掘你的数据。

它提供了所有标准的图形类型，但也有一些非常有想象力的选择。所有这些都可以放在仪表板中，仪表板可以在其他页面或大屏幕上共享和显示。

## 进一步阅读

我只是对 Elasticsearch 做了一个粗略的概述，但我建议继续做这个更深入的概述-[https://www.elastic.co/blog/found-uses-of-elasticsearch](https://www.elastic.co/blog/found-uses-of-elasticsearch)

## 总结

为了说明这一点，虽然我对数据库做了一些比较，但我并不是建议 Elasticsearch 应该取代你的数据库，然而在很多情况下，我相信它可以补充你的数据库。

它可以为你的产品带来你可能认为不可能的功能。它非常非常快，因此可以真正改善您的用户体验，并可能减少数据库服务器的负载。

即使你不能在你的产品中想到一个用例，它也有可能为你的日志和产品性能分析打开一个全新的世界。凭借在时间序列数据中分析数据并深入挖掘的能力，它真的可以彻底改变你看待产品的方式。