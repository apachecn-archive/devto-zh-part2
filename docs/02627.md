# Vue x Hasura GraphQL

> åŸæ–‡:1230ã€”https://dev . to/malgamves/view-x-hasuragraphql-2 PKIã€•ã€”t1ã€•

[![Header](../Images/f86483aa03d97802df07bbdfd5e451cb.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Cf9IDK85--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/xt8ztldf1r4hqms6jhrs.png)

æœ€è¿‘æœ‰å¾ˆå¤šå…³äº Vue.js å’Œ GraphQL çš„å¤§æƒŠå°æ€ªï¼Œæ‰€ä»¥æˆ‘å†³å®šè·³ä¸Šå®£ä¼ åˆ—è½¦ã€‚

> ![Daniel Madalitso Phiri profile image](../Images/63ff72591655354349d949ae813209c1.png)ä¸¹å°¼å°”Â·é©¬è¾¾é‡Œç´¢Â·è²é‡Œ[@é©¬å°”åŠ å¤«](https://dev.to/malgamves)![twitter logo](../Images/4c8a2313941dda016bf4d78d103264aa.png)å¥½å§ï¼Œé‚£ä½ ä»¬ä¸ºä»€ä¹ˆä¸æ—©ç‚¹å‘Šè¯‰æˆ‘ GraphQL çš„äº‹å‘¢ï¼ŸğŸ¤¦â€â™‚ï¸2018 å¹´ 9 æœˆ 11 æ—¥ä¸Šåˆ 02 ç‚¹[![Twitter reply action](../Images/44d8b042100e231770330321e5b63d65.png)](https://twitter.com/intent/tweet?in_reply_to=1042005828532719621)[![Twitter retweet action](../Images/93d9c70ccc54851d2e8e881b53c21dae.png)](https://twitter.com/intent/retweet?tweet_id=1042005828532719621)[![Twitter like action](../Images/2e93f7775eadefab8bcd34a4542cc5a7.png)](https://twitter.com/intent/like?tweet_id=1042005828532719621)

è¿™ä¸ªæ˜ŸæœŸï¼Œæˆ‘å‘è‡ªå·±æ‰¿è¯ºï¼Œæˆ‘ä¼šæœ‰ä¸€äº›ä¸œè¥¿ï¼Œæ— è®ºå¤šä¹ˆåŸºæœ¬ï¼Œå®ƒåº”è¯¥è‡³å°‘æ¼”ç¤ºè¿™ä¸¤ç§æŠ€æœ¯çš„ä½¿ç”¨ã€‚

æ‰€ä»¥æˆ‘æƒ³å‡ºäº†è¿™ä¸ª Web åº”ç”¨(*åŸè°…æˆ‘å¯æ€•çš„è®¾è®¡*)ã€‚

å½“æˆ‘è¯´æˆ‘å°†æ„å»ºä¸€äº›åŸºæœ¬çš„ä¸œè¥¿æ—¶ï¼Œæˆ‘æ˜¯è®¤çœŸçš„ã€‚æˆ‘ç”¨ Vue.js å®ç°äº†åº”ç”¨ç¨‹åºçš„å‰ç«¯ï¼ŒåŒæ—¶ç”¨ä¸º Postgres æ•°æ®åº“æä¾›å®æ—¶ GraphQL çš„ [Hasura](https://hasura.io/) å®ç°äº†åç«¯ã€‚æˆ‘ä»¬å°†å›é¡¾ä¸€åˆ‡æ˜¯å¦‚ä½•å‘ç”Ÿçš„ã€‚

## [](#the-frontend-bit)å‰ç«¯ä½

å°±åƒæˆ‘ä¸Šé¢è¯´çš„ï¼Œæˆ‘åœ¨ Vue.js ä¸­åšäº†è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨ç»§ç»­ä¹‹å‰å®‰è£…å®ƒï¼Œä¸ºæ­¤æˆ‘ä»¬éœ€è¦åœ¨æˆ‘ä»¬çš„ç³»ç»Ÿä¸Šå®‰è£… [node.js](https://nodejs.org/en/) ã€‚ä¸€æ—¦æˆ‘ä»¬å®‰è£…äº†èŠ‚ç‚¹ï¼Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤æ¥å®‰è£… vue cli `npm i -g @vue/cli`ã€‚ä¸ºäº†å»ºç«‹ä¸€ä¸ªæ–°çš„ Vue é¡¹ç›®ï¼Œæˆ‘ä»¬è¾“å…¥ä¸‹é¢çš„å‘½ä»¤`vue create myapp`ï¼Œç”¨ä½ æƒ³è¦çš„åå­—æ›¿æ¢ *myapp* ï¼Œå½“æç¤ºé€‰æ‹©ä¸€ä¸ªé¢„ç½®æ—¶ç‚¹å‡» **default** ã€‚åˆå§‹åŒ–å®Œæˆåï¼Œä½ çš„æ–‡ä»¶å¤¹ç»“æ„åº”è¯¥å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

[![](../Images/7bc29d021fcf61ebaa61387fd6a44698.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--yb5qOXCm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1250/1%2AHYcFt4gXD23L0ujilE4YmQ.png)

å½“åº”ç”¨ç¨‹åºå®Œæˆåˆå§‹åŒ–åï¼Œ`cd <myapp>`å¹¶è¾“å…¥`npm run serve`è¿è¡Œæ‚¨çš„åº”ç”¨ç¨‹åºã€‚å‘½ä»¤è¡Œå°†æ˜¾ç¤ºæ‚¨çš„åº”ç”¨ç¨‹åºæ‰€åœ¨çš„æœ¬åœ°åœ°å€ï¼Œæ‰“å¼€æµè§ˆå™¨å¹¶è½¬åˆ°è¯¥åœ°å€ã€‚è¿™åº”è¯¥æ˜¯ä½ çœ‹åˆ°çš„ã€‚

[![](../Images/d344d453e100e42baa0bd73217f3148f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--c6MntdYb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2AOVIt-0D3nJCcmahPc2dVKw.png)

å‰ç«¯å°±æ˜¯è¿™æ ·ğŸ‰(æš‚æ—¶çš„)ã€‚

## [](#the-backend-bit)åç«¯ä½

å¯¹äºè¿™ä¸ªå°é¡¹ç›®çš„åç«¯ï¼ŒHasura çœŸçš„æ´¾ä¸Šäº†ç”¨åœºã€‚å‰å¾€[è¯¥é¡µé¢](https://docs.hasura.io/1.0/graphql/manual/getting-started/heroku-simple.html)å¹¶ç‚¹å‡»**éƒ¨ç½²åˆ° Heroku**â€”â€”ä½ å¿…é¡»ç™»å½•ç°æœ‰çš„ Heroku å¸æˆ·æˆ–åˆ›å»ºä¸€ä¸ªæ–°å¸æˆ·æ‰èƒ½ç»§ç»­ã€‚å½“ä½ ç™»å½•åï¼Œä½ å¿…é¡»ç»™ä½ çš„åº”ç”¨ä¸€ä¸ªå”¯ä¸€çš„åå­—ï¼Œç„¶åä½ å¯ä»¥ç‚¹å‡»**éƒ¨ç½²**ã€‚ä¸€æ—¦éƒ¨ç½²å®Œæ¯•ï¼Œè¯·è®¿é—®. herokuapp.com æ¥è®¿é—®æ‚¨çš„ Hasura API Explorerï¼Œå®ƒåº”è¯¥æ˜¯è¿™æ ·çš„ã€‚

[![](../Images/c3bc7562218e8ce42c5658bb92777afe.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--O0Jcw0iP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2AEAcQxWPqIFbGu8mHMCQYeg.png)

ç¨å¾®æ·±å…¥ä¸€ä¸‹ Hasuraï¼Œå®ƒçš„ä½œç”¨æ˜¯è®©æˆ‘ä»¬ä½¿ç”¨ GraphQL å®æ—¶è®¿é—® Postgres æ•°æ®åº“å¹¶å¯¹å…¶æ‰§è¡Œæ“ä½œã€‚ä»–ä»¬åŸºæœ¬ä¸Šç»™äº†æˆ‘ä»¬ä¸€ä¸ª Postgres æ•°æ®åº“å’Œä¸€ä¸ª GraphQL ç«¯ç‚¹ï¼Œé€šè¿‡ä¸€é”® Heroku éƒ¨ç½²æ¥è®¿é—®å®ƒï¼Œ*éå¸¸ç®€æ´ï¼*

API Explorer å…è®¸æˆ‘ä»¬åœ¨æ•°æ®éƒ¨åˆ†ä½¿ç”¨æ•°æ®åº“ï¼Œåœ¨å›¾å½¢éƒ¨åˆ†æµ‹è¯•æŸ¥è¯¢ã€è®¢é˜…å’Œå˜åŒ–ã€‚è®©æˆ‘ä»¬å¯¼èˆªåˆ° API Explorer çš„**æ•°æ®**éƒ¨åˆ†ï¼Œå¹¶å®šä¹‰æˆ‘ä»¬æ•°æ®åº“çš„æ¨¡å¼ã€‚åˆ›å»ºä¸€ä¸ªåä¸º`books`çš„è¡¨ï¼Œç„¶åç”¨è¿™äº›é…ç½®åˆ›å»ºä¸‹é¢çš„åˆ—ã€‚

*   `id`ï¼Œæ•´æ•°(è‡ªåŠ¨é€’å¢)ï¼Œå”¯ä¸€
*   `name`ï¼Œæ­£æ–‡
*   `author`ï¼Œæ­£æ–‡
*   è®¾ç½®`id`ä¸ºä¸»é”®åï¼Œå¯ä»¥ç‚¹å‡»*åˆ›å»º*æ¥åˆ¶ä½œæ•°æ®åº“è¡¨ã€‚

ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ª`books`è¡¨ï¼Œæˆ‘ä»¬å¿…é¡»å‘å…¶ä¸­æ’å…¥æ•°æ®ã€‚åœ¨å±å¹•å·¦ä¾§çš„ tables éƒ¨åˆ†ï¼Œå•å‡» books è¡¨ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°ä¸‹é¢çš„å±å¹•ã€‚

[![](../Images/65626a83280ec13d6c03bbe8dcd05ff1.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ObOrfXzV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2AHwH44MVjReeiBQ4Bo_ScuQ.png)

åœ¨`name`å­—æ®µä¸­ï¼Œè¾“å…¥ä½ æœ€å–œæ¬¢çš„ä¹¦çš„åå­—ï¼ŒåŒæ ·ä¹Ÿè¾“å…¥ä½œè€…ã€‚`id`æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦ç¼–è¾‘å®ƒã€‚è¯·éšæ„è¾“å…¥ä½ å–œæ¬¢çš„ä¹¦ï¼Œå½“ä½ å®Œæˆåï¼Œè¿™å°±æ˜¯æˆ‘ä»¬çš„åç«¯ã€‚

## [](#putting-everything-together)æŠŠä¸€åˆ‡æ”¾åœ¨ä¸€èµ·

ç°åœ¨çš„æƒ…å†µæ˜¯ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª Vue åº”ç”¨ç¨‹åºå’Œ Postgres æ•°æ®åº“ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Hasura çš„å¸®åŠ©ä¸‹ä½¿ç”¨ GraphQL è¿›è¡ŒæŸ¥è¯¢ï¼Œç°åœ¨æˆ‘ä»¬å¿…é¡»å°†å®ƒä»¬æ”¾åœ¨ä¸€èµ·ï¼Œå¹¶åœ¨åº”ç”¨ç¨‹åºä¸­æ˜¾ç¤ºæ‚¨æœ€å–œæ¬¢çš„ä¹¦ç±ã€‚

è¦åœ¨ Vue ä¸­ä½¿ç”¨ GraphQLï¼Œæˆ‘ä»¬éœ€è¦å…ˆå®‰è£…å‡ ä¸ªåŒ…ã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…å®ƒä»¬`npm install --save vue-apollo graphql apollo-client apollo-link apollo-link-http apollo-cache-inmemory graphql-tag`

ä¹‹åï¼Œæˆ‘ä»¬å°†åŒ…æ·»åŠ åˆ°æˆ‘ä»¬çš„ **main.js** ä¸­ï¼Œç°åœ¨çœ‹èµ·æ¥åº”è¯¥æ˜¯è¿™æ ·çš„ã€‚