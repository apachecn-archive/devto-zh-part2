# 如何处理代码质量不好的项目？

> 原文：<https://dev.to/rlxdprogrammer/how-to-handle-projects-with-bad-code-quality-5f12>

今天的文章比前几篇更具技术性。我认为所有的程序员都经历过糟糕的代码质量。“狗屎代码”的第一条规则是，它总是由别人来做，而不是由你自己来做…至少这是我经常听到的。所以我不知道那些写坏代码的人在哪里，但是我很乐意和他们一起喝啤酒。第二条规则是:你正在做的项目的代码质量永远是你见过的最差的代码。

首先，有很多关于如何写好代码的书。这个话题的圣经是罗伯特·C·马丁的《干净的代码》一书。但是它只是提到了如何从头开始编写一个好的代码，而没有提到如何处理已经存在的坏代码。

一个解决方案肯定是重构代码库，在很多情况下实际上意味着重写。但是在大多数项目中，没有时间或预算来做这件事，所以你的经理会说一个明确的“不”。

这意味着你需要和糟糕的代码生活在一起:愚蠢的命名、怪物函数、共享变量、负责成千上万事情的超类和愚蠢的注释。让我们看看如何在这样的环境下生存。

如果你需要理解代码在做什么，最好的方法是先检查代码，然后试着调试它。这既复杂又耗时，但这是在这种情况下你能做的最好的事情了。

但是如何处理代码扩展呢？如果有人需要添加一些小功能或经常改变当前的功能，我会看到下面的解决方案:“这段代码已经很混乱了，所以让我们在现有的函数中添加一些新的行或注释掉其中的一些，我们就完成了”。这是你能做的最坏的事。你只是在增加混乱，代码会越来越糟糕。首先:永远不要注释掉任何一行代码，如果不需要就简单删除。另一方面:如果你需要在这样的代码中添加新的东西，总是尽可能地把它分开添加:试着创建你自己的类或函数，这些类或函数设计得很好，有清晰的接口，清晰的职责和良好的代码质量。现在你唯一需要做的就是从旧代码中调用你的新功能。您没有降低现有代码的质量，并且您的工作质量很好。

如果你更有动力，你也可以在每次添加新功能的时候分离旧代码的一部分。这意味着你不仅把你的新代码和一个新的类分开，而且还把一些代码和调用你的类的类分开。在分离的时候，你也可以做一些小的修改:更好的命名等等。

使用这种方法，有时你需要多写一点代码，多思考一点，但是你的代码总是越来越好，而不是越来越差。

在我看来，处理代码质量是项目生命周期中的事情:从最初的设计计划到最后的 bug 修复。

你们有不同的经历吗？

下周见！

松弛程序