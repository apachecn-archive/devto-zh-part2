# 好的软件架构最重要的几点

> 原文：<https://dev.to/rlxdprogrammer/most-important-points-of-good-software-architecture-15j8>

在我看来，软件架构与建筑物的架构非常相似。你可以建造一个没有精心规划的建筑的小房子，但它永远不会是完美的。没有好的计划，你不可能建造一座大楼。在规划阶段，你需要考虑几个问题:选择正确的墙壁，规划电力、供水系统、所有房间、照明系统、空调和供暖系统等等。所以这是一项复杂、困难但必要的工作。

软件架构也是如此:没有合适的架构，你可以实现小程序，但它们永远不会完美，你也无法构建和维护一个庞大的程序，因为它会变成一个大怪物，有很多未知的代码部分、未知的功能和错误。过了一会儿，在修复了每个错误之后，你又覆盖了另外五个错误。当然，规划正确的软件架构并不容易，你需要考虑几点:主要功能、硬件要求(内存使用等。)，定义主要组件、代码的可重用性、稳定性、时序、内部通信、兼容性、可扩展性、可配置性等。等等。等等。

当你计划你的软件架构时，你实际上在做什么:根据需求，你将整个软件分成组件和子组件，计划它们的职责和接口，计划组件之间的通信方式。

建筑的架构计划和软件架构之间还有一个很大的区别:因为建筑不是经常变化的，软件是变化的:需求经常变化，新的功能不断出现。所以你需要以一种不需要大的改变就可以扩展的方式来计划你的软件。为此，你需要找到一个真正的模块化架构。

对于好的软件架构，我还有一个更喜欢的解释:一个好的模块化软件架构就像宜家的家具一样(不，这里不是广告)。家具是由非常简单的模块(模块化结构和具有单一职责的组件)组成的，这些模块在一些预定义的连接点(清晰的接口)相互连接，并且它们以非常简单和非常清晰的方式被记录(有良好记录的用法)。此外，每种家具都有多种款式，你可以选择玻璃门或木门、3 或 4 个衣柜，还可以添加很多额外的灯或镜子。所以它对扩展是开放的，并且是可配置的。所以我设计软件的目标总是类似的结果。

在这里，我只是试图收集好的软件架构的最重要的点。

*模块化

您的软件需要由定义良好的模块/组件构建而成。如果你的组件仍然太大，你可以把它分成所谓的子组件。在复杂软件的情况下，您可以使用多个级别的子组件。当您使用这种策略时，您将拥有许多可重用的组件。

*明确对组件的责任

你的每个组件都需要有明确的职责。你可以用一句话来描述它的责任，这很好。如果你不能用“或”和“和”来描述它，那么你的组件就太大了，因为它应该被拆分。职责的好例子:“这个组件负责用户数据的存储。”。但是，即使在这个组件内部，也可以引入一些子组件，比如负责与数据库连接的组件。

*清除接口

已定义的组件需要通过清晰的接口相互通信。每个接口都有一个名称、一个返回类型(也可以是 void)和一些可选的参数。区分私有接口和公共接口是一个很好的实践。私有接口只在同一个组件内部可用，公共接口也可用于其他组件。公共接口的数量应该尽可能少。每个公共接口都需要有良好的文档记录。从长远来看，你应该避免改变或删除已经存在的接口。

*记录的行为

您的组件将被其他组件使用，因此可能会被其他程序员使用。因此，应该以非常清晰的方式记录组件在做什么，以及它们的接口的预期行为是什么。你可以随时改变组件的内部行为(它是如何工作的)，但是避免改变外部行为(它正在做什么)。为此，您可以使用 UML 图。

*易于理解

我见过几次建筑设计有很长的衍生链和复杂的组件连接。最后，它们工作得非常完美，但是没有人明白为什么以及如何使用它们。你应该避免这样的解决方案。因为你的组件很可能会被其他开发者使用，所以理解它的行为应该很容易。

*可配置性

您的组件应该是可配置的，以便能够在多种环境中使用。我使我的代码可配置的策略如下:代码中的所有神奇常数(路径、神奇的字符串、神奇的数字等等。)应该移动到存储所有此类信息的配置类中。然后，这些信息应该能够通过配置文件从外部进行修改。

*分层架构

在复杂软件的情况下，不是所有的组件都应该与所有其他组件直接通信。你可以引入一些额外的限制，比如层。你应该把你的组件组织成层，并且只有在同一层或相邻层的组件才能直接相互通信。一个很好的例子是通常用于 GUI 应用程序的 MVP(模型-视图-展示者)体系结构。视图不能直接与模型通信，但是演示者可以与他们两个通信。有了这个解决方案，你的沟通方式将更加清晰，你可以更容易地改变你的组件。

*清晰的通信序列

应该以一种清晰的方式定义组件之间的通信方式。它们之间的信息是如何流动的。哪个在叫哪个。为此，您可以使用 UML 序列图。

*精心设计的错误处理

整个软件的错误处理应该基于一个共同的概念。有几种解决方案:使用特殊返回值、异常或错误标志，但重要的是，您需要在所有组件中使用相同的解决方案。这样更容易理解你的整个系统。

这 9 点并没有涵盖一切，软件架构是一个复杂得多的话题。但是，如果您在规划软件时注意这 9 点，您将已经达到一个好的软件体系结构。