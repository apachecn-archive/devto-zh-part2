# 让我们停止让讨厌 jQuery 变得很酷

> 原文:[https://dev . to/Alex MacArthur/let-s-stop-making-it-cool-to-hate-jquery-11ge](https://dev.to/alexmacarthur/let-s-stop-making-it-cool-to-hate-jquery-11ge)

当我开始 web 开发时，开始一个新项目经常感觉像溺水，然后被要求编写有效的 JavaScript。当时，我需要做的只是执行一些 DOM 操作:让一个元素在一次点击中消失，添加一些类，制作下拉菜单的动画。对于所有这些任务，jQuery 提供了实现简单、跨浏览器可靠的功能，而且当时最重要的是，我很容易理解到底发生了什么。

从那以后，原生 JavaScript API 得到了改进，浏览器加快了游戏速度，教育资源变得更加容易获得。因此，对 jQuery 的依赖已经如预期的那样减少了。但随之而来的是，带着激情和愤怒去憎恨它也变得非常酷。

我永远不会说你不能讨厌 jQuery，但是你确实需要有一个合理的理由来表达，因为给予该库应有的尊重的理由是非常充分的，而且我们应该迅速逃离它，因为”😠😠😠JQUERY😠😠😠“是软弱无力的，是基于一些我认为被大大夸大了的担忧。

### jQuery 帮助创造了今天的网络和你。

由于 jQuery 无可争议，我们甚至不需要花太多时间来讨论它在推出时帮助解决的技术问题——对 JavaScript 特性的不一致的浏览器支持、缺乏或复杂的 JS API 以及其他挑战。jQuery 让开发变得更快更容易，这是毋庸置疑的。为此，它值得尊重，也因为它对语言的演变和采用产生了影响，直到今天。

最重要的是，这很有可能也给你作为开发人员的身份留下了印记。尤其是如果你认为自己是自学成才的，jQuery 的作者帮助你更好地进入这个领域。事实上，如果不是 jQuery 提供了更平滑的学习曲线，一些开发人员可能已经完全放弃了。

当然，我主要是从个人经验来说。当我自己开始的时候，用`$('.class').slideUp()`工作远没有试图先写一个带有缓和过渡的 CSS 类，然后用`document.querySelector('.class').classList.add('my-class')`应用那个类那么可怕。我能够用更少的培训和时间完成要求我做的工作，这通过我的生产力给了我一定程度的满足感，使我对坚持纪律保持兴趣。多亏了该库提供的易于掌握的 API，jQuery(和其他类似的库)不可否认地在我如何有效地沉浸在这个领域中发挥了作用。

_ **“但是如果你要学 JavaScript，那就学 JavaScript 吧！而不是它的一些抽象！”** _ 同意，但请注意我在这里讨论的人的类型。我并不关注那些专门花时间从零开始学习*的人，比如代码训练营或其他结构化学习中的个人。我说的是那些已经在战壕中的人们，在那个越来越常见的位置上，他们被要求在做工作的同时学习所有这些意味着什么。在这些情况下，开发人员不能因为钻研 JavaScript 的基础知识而放慢生产速度，也不能放弃先学习 jQuery，因为 jQuery 通常已经掌握了他们工作的代码库。对于这些人来说，jQuery 允许人们交付要求他们提供的价值，同时作为一种催化剂，让他们沉浸在 web 开发领域，从而推动他们继续学习。*

### 它可能不会伤害任何人。

虽然很多对 jQuery 的否定听起来像是“因为 jQuery”，但更常见的具体反对意见之一是使用或坚持使用该库的性能影响。它通常分为两部分。

***“jQuery 臃肿！”*** 非常担心，但是如果我们像我们应该的那样加载我们的脚本——在页面的底部，在那里他们不阻止页面渲染——这种担心就变得不那么，嗯……重要了。库的大小不是免费的，因为加载、解析和执行 JavaScript 所需的时间确实会影响用户体验，但是因为一个库给应用程序增加了 30kb 的重量就放弃它是不够的。

当你考虑到我们有多愿意不加思索地扔进其他类似文件大小的现代包时,“足够好”的水平会进一步下降。通常，那些想要猛烈攻击 jQuery 的人也是那些为了一个相对较小的特性而将 React 或 Vue 加载到页面上的人。具体看一下 React 的重量就知道了，最好的情况下，它与 jQuery、minified 和 gzipped 的大小差不多，最坏的情况下，它甚至比 jQuery、minified 和 gzipped 还要重。

```
React 16.2.0 + React DOM = ~32KB
jQuery 3.3.1 = ~30KB 
```

Enter fullscreen mode Exit fullscreen mode

但是尽管有这些数字，出于某种原因，因为 React 就是 React，所以“膨胀”在关注列表中的位置要低得多，不管它的使用环境如何。

好吧。那些不太关心文件大小，而更关心库本身性能的人呢？

***“jQuery 是一个不太好的抽象！”*** 这是我最赞同的对 jQuery 的反对意见。我喜欢我的 JavaScript 快速高效地做事，特别是在 DOM 操作方面，其他类似大小的库(如 React 或 Vue)比 jQuery 表现得更好。但是依靠这种比较是行不通的，因为这些库并不是为了以同样的方式竞争而设计的。从一开始，jQuery 主要用于缓解我们对浏览器的不满，并使单一任务变得简单一些。另一方面，React 旨在构建反应性的、声明性的、状态管理的用户界面。由于 React 的设计方式，DOM 操作更快也就不足为奇了，但是我从来没有想过用 React 替换 jQuery 来处理简单、独立的交互。苹果和橘子。

与此相关，经常使用 jQuery 的环境并不能保证这种性能。我不是说这不重要——只是说不值得为了多获得几个性能点而改变你的工作流程。仅仅在这个基础上匆忙剥离 jQuery 的投资回报率非常低，这使得它成为讨厌它的另一个不充分的借口。有时候，它只是一个营销网站，没有人会因为你的弹出模式没有快几毫秒而离开你的网站。

### 但是！您可能不应该在新项目中使用 jQuery。

不要认为我试图证明我们仍然应该倾向于为新项目使用 jQuery。我没有。正如我说过的，浏览器的现代 JavaScript API 的状态是*好*——好到你的时间可能更好地花在学习普通的 JavaScript 而不是抽象上，在所有条件相同的情况下，我们也应该寻求性能更好的 API。&清晰的念道:

如果你正在开始一个新项目，我*不*认为 jQuery 应该在可利用的资源列表中。

但是如果你正在使用一个包含 jQuery 的代码库，那么继续使用它*真的没问题*。你不是坏人，也不是蹩脚的开发者。事实上，如果你可能是一个比较聪明的人，因为你没有疯狂地从一个仍然在设计上做得很好的库跑出来。

所以，不要烦恼。时机成熟时，处置 jQuery。但是当你这么做的时候，要做出明智的决策——当时机成熟，当投资回报显著，当你的项目需要时。没别的了。