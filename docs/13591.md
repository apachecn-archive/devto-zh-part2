# 电子邮件:回归基础

> 原文:[https://dev.to/nylas/email-getting-back-to-the-basics-2mmn](https://dev.to/nylas/email-getting-back-to-the-basics-2mmn)

电子邮件是世界上数十亿人用来建立关系的工具，早于互联网本身，其使用和用户群每天都在增长。

那么，是什么促成了它的无处不在和广泛采用呢？

最简单的形式是，电子邮件是一个全球分布式系统，由许多不同的、可互操作的客户端和服务器实现组成，它们一起允许任何用户向任何其他电子邮件用户发送消息。无论用户从哪个电子邮件服务发送电子邮件，并且不需要每个用户彼此具有预先的关系，这种能力都成立。电子邮件网络的开放性意味着今天世界上有数百万的电子邮件服务器和数十亿的电子邮件用户在运行。

尽管电子邮件在商业世界中无处不在，具有基础性地位，但现代生产力、销售和营销应用程序很难与电子邮件集成。在 Nylas，我们已经建立了一个电子邮件 API，帮助开发人员在他们的应用程序中建立一个通信层超过 4 年，我们很高兴开始与世界分享我们更多的电子邮件专业知识。这篇文章是我们新的“电子邮件专家”系列的第一篇，将涵盖一些使电子邮件生态系统工作的基本技术。

首先，一些基础知识:

### **服务器**

电子邮件*服务器*由*服务提供商*运营，如微软、谷歌、Fastmail 和你当地的 ISP，它们位于公共云中、企业的数据中心，甚至是人们的家中(对于那些想要托管自己的电子邮件的人来说)。它们旨在以永远在线、永远可达的方式运行——如果它们停机，用户的电子邮件将无法使用。

电子邮件服务器是电子邮件网络的主干，有两个用途:

(1)电子邮件服务器存储用户的邮箱并协调对它们的访问

(2)电子邮件服务器接受外发邮件并将消息路由到其他电子邮件服务器

这些任务差异很大，通常由不同的服务器软件来处理——也就是说，邮件提供商将运行一个软件来处理用户邮箱数据的存储和访问，以及一个单独的软件来接受发出的消息并将其路由到正确的位置。

### **客户端**

电子邮件客户端是我们都用来与电子邮件互动的应用程序:我们手机和笔记本电脑上的邮件应用程序，也是需要将电子邮件邮箱与服务器端软件集成在一起的服务器端软件，但不是电子邮件网络本身的一部分。 [Nylas API 平台](https://docs.nylas.com/reference)是一个电子邮件客户端的例子，它不是面向用户的应用程序，因为它是连接到电子邮件服务器的服务器端软件，为那些*构建面向用户的电子邮件应用程序的人提供了一个更简单的界面。*

### **协议**

两个不同的软件相互通信的方式是通过使用一个被称为*协议*的标准化接口。在电子邮件网络中，电子邮件服务器使用一种叫做 SMTP 的协议与 T2 互相通信。所有电子邮件服务器都使用 SMTP 相互通信，因为否则它们就不属于同一个网络。但是电子邮件客户端是不同的。电子邮件客户端和服务器之间的通信有标准的开放协议，如 IMAP，也有专用于某些服务提供商的专有协议。这之所以能够发生，是因为无论用户使用哪种电子邮件客户端，他们都能从电子邮件网络中获益，因为网络互操作性的魔力发生在服务器端。不管电子邮件客户端使用什么协议连接到其服务提供商，该电子邮件用户仍然能够发送和接收来自任何其他电子邮件用户的电子邮件，不管其他电子邮件用户使用哪个客户端或客户端-服务器协议。因此，电子邮件提供商可以自由要求客户使用专有协议来连接他们的服务器，但也要由该提供商为他们希望用户能够连接的平台创建和发布邮件应用程序，这在实践中意味着，只有最大的提供商才会尝试这样的事情，而其他人都坚持开放标准，所以他们不必建立自己的客户端。

实际上，目前存在三种电子邮件服务器，每个客户端开发人员都需要考虑，因为它们支持的客户端通信协议是不同的。

*   为电子邮件、IMAP 和 SMTP 实现开放标准协议的服务器。Dovecot 是一个流行的开源实现。
*   微软的 Exchange 系列服务器(包括 Office365，他们托管的云交换服务)，使用专有的协议系列。
*   谷歌的 G Suite / Gmail。谷歌实现了 IMAP 和 SMTP 的开放标准以实现兼容性，但在其邮箱语义上有一些重大差异，这意味着客户端开发人员必须将大量代码用于与 Gmail 帐户的互操作，而不管通用的底层协议。

在接下来的文章中，我们将更深入地探讨电子邮件客户端和服务器之间通信的开放标准协议:IMAP 和 SMTP。

* * *

这篇文章最初发表在 Nylas 工程博客上。