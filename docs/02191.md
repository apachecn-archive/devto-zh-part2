# React.lazyï¼Œåœ¨ä½ çš„åº”ç”¨ä¸­ä½¿ç”¨ä»€ä¹ˆä»¥åŠå¦‚ä½•ä½¿ç”¨

> åŸæ–‡:[https://dev . to/vig zmv/react lazy-what-and-how-to-use-in-your-app-p9a](https://dev.to/vigzmv/reactlazy-what-and-how-to-use-in-your-app-p9a)

React 16.6 å‘å¸ƒäº†ï¼Œéšä¹‹è€Œæ¥çš„æ˜¯æ–°çš„ [Lazy API](https://reactjs.org/docs/code-splitting.html#reactlazy) ã€‚Rreact.lazy å‡½æ•°å…è®¸æ‚¨å°†åŠ¨æ€å¯¼å…¥ä½œä¸ºå¸¸è§„ç»„ä»¶å‘ˆç°ã€‚

React.lazy é‡‡ç”¨ä¸€ä¸ªå¿…é¡»è°ƒç”¨åŠ¨æ€å¯¼å…¥()çš„å‡½æ•°ã€‚è¿™å¿…é¡»è¿”å›ä¸€ä¸ªæ‰¿è¯ºï¼Œè¯¥æ‰¿è¯ºè§£æä¸ºä¸€ä¸ªåŒ…å« React ç»„ä»¶çš„é»˜è®¤å¯¼å‡ºçš„æ¨¡å—ã€‚

#### ç”¨æ³•:

```
const LazyComponent = React.lazy(() => import('./Component')); 
```

#### æ˜¾ç¤ºæœ‰æ‚¬å¿µçš„é€€è·¯

ç”¨æ‚¬å¿µåŒ…è£…ç»„ä»¶ï¼Œå¹¶ä¼ é€’ä¸€ä¸ªå›é€€ã€‚åœ¨ç­‰å¾…ç»„ä»¶åŠ è½½æ—¶ï¼Œå›é€€å±æ€§æ¥å—æ‚¨æƒ³è¦å‘ˆç°çš„ä»»ä½• React å…ƒç´ ã€‚

```
<Suspense fallback={<div>Loading Component...</div>}>
  <LazyComponent />
</Suspense> 
```

#### æˆ‘ä¸¾äº†ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´æ˜

app æ˜¾ç¤ºä¸€ä¸ª**æŒ‰æˆ‘ï¼ï¼**æŒ‰é’®ï¼Œå½“æŒ‰ä¸‹è¯¥æŒ‰é’®æ—¶ï¼Œä» [randomuser](https://randomuser.me) è·å–ä¸€ä¸ªéšæœºç”¨æˆ·æ•°æ®ï¼Œç„¶ååŠ è½½å¹¶å‘ˆç°ç”¨æˆ·ç»„ä»¶ã€‚

```
const User = React.lazy(() => import('./User'));

....

<React.Suspense fallback={<div>Loading Component...</div>}>
  {user && <User user={user}/>}
  {loading ? (
    <div>Loading User...</div>
  ) : (
    !user && <button onClick={this.loadUser}>Press Me!!</button>
  )}
</React.Suspense> 
```

**Live**:[react-lazy-example](http://vigneshm.com/react-lazy-example/)
T5ã€‘Code:[github](https://github.com/vigzmv/react-lazy-example)

è¿è¡Œåº”ç”¨ç¨‹åºï¼Œåœ¨å¼€å‘æ§åˆ¶å°ä¸­æ‰“å¼€ç½‘ç»œé€‰é¡¹å¡ï¼ŒæŒ‰ä¸‹æŒ‰é’®ï¼Œçœ‹åˆ°å»¶è¿ŸåŠ è½½çš„ javascript å—ã€‚ğŸ‰ğŸ‰