# 名字里有什么(验证)？

> 原文：<https://dev.to/carlymho/whats-in-a-name-validation-4b41>

*这篇文章改编自我在 AlterConf Chicago 2017 上的[演讲，它也被改编成了一个方便的](https://www.youtube.com/watch?v=yuQ5YTNO3I0) [zine 版本](https://carlymho.itch.io/whats-in-a-name-validation)！*

## 验证姓名

先说名字吧！

看到我的名字在这上面了吗？名字通常是我们首先要问的事情之一，也是我们在交谈中作为了解某人的一部分首先要提供的事情之一。

名字也是一件非常私人的事情。出于自己的原因不喜欢自己的名字是一回事，但让别人篡改你的名字可能会从令人讨厌到真正的伤害。因此，在我们努力创造更具包容性的技术时，思考我们如何验证名称是很重要的。

所以名字是非常重要的信息。然而:名字可以有很多种形式，很难把它们都考虑进去。如果我们想在表单中建立验证，我们如何验证名字呢？可以吗？

## 什么是名字？

关于姓名的格式，你见过的表单假设了什么？

一些假设:

*   每个人都有一个名和一个姓。
*   每个人都有一个名和两个姓！
*   名称至少有三个字符。-你会惊讶这个经常出现。有趣的是，他们中的一些人接受了“嗬！”而不是“嗬”
*   名在前，姓在后。
*   名字由字母组成。
*   名字由拉丁字母组成，或者可以无损地翻译成拉丁字母。
*   名字不会变，或者只在很特定的时间点会变。
*   每个人都有一个规范的全名。

这些其实都是错的！事实证明，基本上所有关于名字的假设都是错误的。

## 那么名字究竟是什么呢？

在任何地方，人们想当然地认为是一个“名字”的东西，在其他大多数地方，甚至在他们自己的国家，都是不正确的。

### 在美国，我们仍然经常假设西方的欧洲标准

尽管美国极其多样化，但人们仍然倾向于期望名字符合某种“美国化”的标准

这可以追溯到网络表单出现之前——移民过去和现在都经常采用更多的“美国”名字，希望同化能带来更多的机会。即使在今天，名字听起来不像欧洲人的人经常发现自己被标记为永久外国人，即使他们出生在这里，他们的父母出生在这里，等等。

当扩展到 web 表单时，这两种期望都非常令人讨厌，并且确实会引起问题。今年早些时候，我实际上正在考虑在另一个会议上发表不同的演讲，但结果是他们的表单验证名称至少有三个字符。值得称赞的是，在我让他们知道后，他们非常优雅地解决了问题，但也有可能其他人只是放弃了。(有趣的是，我偶尔会通过添加感叹号来避开这样设置的表单。)

### 人名:指代某人的一种方式。

差不多就是这样。很难定义一个名字，除了这个非常基本，非常模糊的东西，没有任何不正确的前提。

抱歉，没有好的方法来验证它们！

## 那么你能做什么呢？

好吧。名字几乎是不可能确定的，但是你要确保你有有用的数据并且服务于预期的目的。对此你能做些什么？

### 要名字做什么？

因此，当我们通过 web 表单收集名字信息时，验证的目的实际上并不是要弄清楚什么是名字，什么不是；重点实际上是获得我们需要在其他地方使用的信息。有时我们只是希望能够在电子邮件或他们的仪表板上问候用户，有时我们需要它来回复个人通信，有时我们需要知道在包装标签上写什么，等等。

### 需要用名字来标识吗？

你真的需要通过名字来识别用户吗？如果这些信息除了装饰之外没有任何其他用途，并且你有其他方法来唯一地识别用户，比如电子邮件，你也许可以放弃它。

### 名字/姓氏需要分开吗？

如果没有任何理由让您只需要名或姓，或者只需要姓或姓，您可以用单个全名字段替换名/姓。这样，人们就可以用自己觉得合适的方式输入自己的名字。

### 名字只需要一部分吗？

就像，只有名字，还是只有姓？如果是这样，考虑只收集这些数据，并以一种对任何文化背景下的用户都有意义的方式对其进行标记，例如:“我们应该如何称呼您？”"你的正式头衔是什么？"或者类似的东西。

### 让用户帮助你，告诉他们你要用这个名字做什么

如果用户知道你想知道如何在电子邮件中称呼他们，或者给国会议员写请愿书，或者给他们邮寄包裹，这是有用的上下文，可以帮助用户输入对双方都有帮助的信息。

例如，如果您知道您的一些用户有多个名字(例如，一些人在移民时采用“英语”名，或者与说英语的人做生意，但保留不同的法定姓名)，如果您预计到两个名字都需要的情况，您的表单可能需要要求这两个名字。

### 不要假设哪部分是姓/姓

一些人有多个名，多个姓，或者额外的姓名部分，这些部分表示性别、代、婚姻状况或宗教身份等。

关于是先写名还是先写姓，世界也不统一。例如，许多有西班牙名字的人来到美国时会遇到这样的问题:只有他们的第二个姓被读作他们“真正的”姓，而在大多数讲西班牙语的国家，第一个姓通常是被强调的。

### 确保你的用户界面既能容纳长名字又能容纳短名字

比如 Twitter，只允许 16 个字符的显示名，不多！虽然这意味着他们不必调整项目在用户界面中的位置，但这意味着大量的人无法在 Twitter 上输入他们的全名。

## 富有同情心的认可

### 您的系统可能无法处理所有可能的姓名

一些系统是旧的，对其进行修改以适应更大的字符集、空格、标点符号等的能力有限。由于数据的大小或敏感性。这可以理解。例如，我想我们都熟悉航空系统，它顽固地拒绝处理连字符，并倾向于挤出空格。

### 不要把它定位为用户名的问题

如果您不能处理系统中输入的名称，不要将其视为用户名的问题。

John Graham-Cumming 在 2010 年的一篇博客文章中写道:“他们实际上的意思是:我们的网站不接受在你的姓中使用连字符。但是他们这么说吗？不，当然不是。他们决定当着我的面说我的名字有问题。”如果是他们的名字，就不可能是*无效*。

### 在验证中承认系统的局限性+努力改进

你能做的最好的事情是在你的验证信息中承认系统的局限性(例如，Graham-Cumming 建议“我们的系统不能处理包含非字母的姓氏，请用空格替换它们”)，并继续努力做任何你能做的改进，以便更多的名字能被正确处理。

## 进一步阅读

*   [“验证姓名的正则表达式”，](https://stackoverflow.com/questions/888838/regular-expression-for-validating-names-and-surnames) stackoverflow
*   [“您的姓氏包含无效字符，”](http://blog.jgc.org/2010/06/your-last-name-contains-invalid.html)约翰·格雷厄姆·卡明
*   [“代表都柏林核心人物的名字”，](http://dublincore.org/documents/1998/02/03/name-representation/)安德鲁·沃
*   “伍基——是这样吗？”伍基
*   [“程序员相信的关于名字的谎言”，](https://www.kalzumeus.com/2010/06/17/falsehoods-programmers-believe-about-names/)帕特里克·麦肯齐