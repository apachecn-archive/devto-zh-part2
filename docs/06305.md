# 果冻鳍:交易垃圾

> 原文:[https://dev.to/sublimegeek/jelly-fin-transaction-crud-1l7c](https://dev.to/sublimegeek/jelly-fin-transaction-crud-1l7c)

这是我多年来一直想做的一个个人项目系列文章的一部分。我和我的妻子使用电子表格来跟踪我们的财务状况，我想让它更加自动化和移动化。我想把它做成一个应用程序。我觉得我已经达到了前进并最终实现这一目标的技能水平。写下它让我可以将我的想法具体化，同时也可以在我的旅程中获得社区的支持，使之成为现实。

我目前的技术储备:

### [](#backend)后端

*   AWS Lamba
*   AWS API 网关
*   AWS DynamoDB
*   克劳迪亚兹想弄明白这一切
*   我的端点语言的节点

### [](#frontend)前端

*   可能会有本土反应？也许科尔多瓦与 React？需要在 Android 和 iOS 上工作。

你可以在 [#jellyfin](https://dev.to/t/jellyfin) 跟随我的进度

* * *

所以，我决定使用 Claudia.js 而不是无服务器框架，让我告诉你，它的启动和运行要流畅得多。我能够以这种方式快速获得端点。

那么，我们来谈谈交易。这是一个个人财务应用程序，所以它的主要目标是跟踪银行交易。我存储了基本信息，如金额、收款人和日期。

AWS 使所有事务的恢复变得很容易，但这并不是我们经常做的事情(在我们家里使用的电子表格中)。如果有什么不同的话，我们一次看一个月。

这是一个电子表格，所以我使用的术语是`tab`。我创建了一个名为`getTab()`的函数，它有两个参数:年份和月份。使用它，我的目标是获得从月初到月末的一系列交易。

一旦有了这些，我需要对数据进行一些计算，从中获得有用的信息。我们把最低余额作为一个有用的指标，来了解我们是否有透支账户的风险。这是一个极端的情况，但大多数时候，知道你的银行账户在这个月的最低点会有`x`是一件好事。

我发现这段非常有用的代码可以帮助我获得一个对象数组的最小值: [Source](https://codeburst.io/javascript-finding-minimum-and-maximum-values-in-an-array-of-objects-329c5c7e22a2)

```
function getMinY() {
  return data.reduce((min, p) => p.y < min ? p.y : min, data[0].y);
}
function getMaxY() {
  return data.reduce((max, p) => p.y > max ? p.y : max, data[0].y);
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

以上是基于这个数组，但这不是我用的模型。

```
[
  {x: 1, y: 14830},
  {x: 2, y: 85055},
  {x: 3, y: 03485},
  {x: 4, y: 57885},
  // ...
] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

然而，我的挑战并不是从一组交易中获得最小的金额，而是从这些交易中获得最小的*余额*即*计算的*。为此，我需要知道起始余额(我想我会将它存储为一个事务或一个用户帐户中的字段(我还没有创建它)。

我还想在这个`getTab()`函数中传递其他内容。我想知道:

1.  当月所有交易的列表
2.  独特交易类别的金额列表(例如，在 3 次交易中花费 43 美元购买汽油；食品杂货 200 美元)
3.  所有收入的总和
4.  所有费用的总和
5.  3 和 4 的净值
6.  期初余额(输入月份)
7.  期末余额(离开当月)
8.  当月的最小余额

虽然这个*是*一个个人项目，但我正在考虑让它开源，除非我有一些贡献者。没有活跃的贡献者基础的开源是什么？

如果你有兴趣投稿，请告诉我。否则，我会继续努力，写更多的文章。:)