# æˆˆæ²™å°”

> åŸæ–‡:[https://dev.to/webreflection/geo-share-29hd](https://dev.to/webreflection/geo-share-29hd)

[![map demo](../Images/40efee49d8f1177666c10f042bcbc749.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--8czPBZhv--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/m1obqrp7ieb06c725f2k.png)

# æˆ‘é€ äº†ä»€ä¹ˆ

æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æƒ³å’Œä½ çš„æœ‹å‹è§é¢ï¼Œä½†ä½ åœ¨ä¸€ä¸ªå¼€æ”¾çš„ï¼Œä¹Ÿè®¸æ˜¯æ‹¥æŒ¤çš„ç©ºé—´ï¼Œæ‰€ä»¥é™¤äº†åˆ†äº«ä½ è‡ªå·±çš„ä½ç½®ï¼Œä½ è¿˜æƒ³çœ‹çœ‹å…¶ä»–äººåœ¨å“ªé‡Œï¼Œæœ€ç»ˆåœ¨åœ°å›¾ä¸Šæ±‡èšåˆ°ä¸€ä¸ªåœ°æ–¹ï¼Œè€Œä¸éœ€è¦å®‰è£…ä»»ä½•æœ¬åœ°åº”ç”¨ç¨‹åºã€‚

è¿™æ˜¯ Geo Shareï¼Œä¸€ä¸ª PWAï¼Œåœ¨è¿™é‡Œä½ æ—¢å¯ä»¥æ˜¯ä¸»äººï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸ä½ å…±äº«å”¯ä¸€ URL çš„ä»»ä½•å…¶ä»–äººçš„å®¢äººã€‚

## æ¼”ç¤ºé“¾æ¥

åªéœ€è®¿é—® [geoshare.now.sh](https://geoshare.now.sh/) å³å¯æˆä¸ºä¸»æŒäººã€‚

ä¸€æ—¦ä½ åœ¨åœ°å›¾ä¸Šæ‰¾åˆ°è‡ªå·±ï¼Œç‚¹å‡»å³ä¸Šè§’ğŸ‘¥å›¾æ ‡ï¼Œä½ å°†åœ¨ä½ çš„è®¾å¤‡å‰ªè´´æ¿ä¸Šæœ‰ä¸€ä¸ªç‹¬ç‰¹çš„ç½‘å€ï¼Œä½ å¯ä»¥ç²˜è´´åˆ°ä½ çš„æœ‹å‹ã€‚

å°±æ˜¯è¿™æ ·ï¼Œä»»ä½•ä½¿ç”¨è¯¥é“¾æ¥çš„äººéƒ½ä¼šçœ‹åˆ°å…¶ä»–äººçŸ¥é“è¯¥é“¾æ¥ï¼Œå¹¶ä¸”åªè¦ä½ åœ¨ä½¿ç”¨è¯¥åº”ç”¨ç¨‹åºï¼Œè¿˜ä¼šçœ‹åˆ°ä½ æ˜¯è¯¥ç¾¤çš„ä¸»æŒäºº(é»‘è‰²å›¾æ ‡)ã€‚

## é“¾æ¥åˆ°ä»£ç 

[https://github.com/WebReflection/geoshare](https://github.com/WebReflection/geoshare)

# æˆ‘æ˜¯å¦‚ä½•å»ºé€ çš„

*   [Zeit now-CLI](https://zeit.co/now)å®ç°æœ‰å²ä»¥æ¥æœ€ç®€å•çš„éƒ¨ç½²ï¼
*   [ä¼ å•](https://leafletjs.com)åœ°å›¾åº“ä½äº [OpenStreetmap](https://www.openstreetmap.org/) å›¾å—ä¹‹ä¸Š
*   [åœ¨ longpress ä¸Šä½¿ç”¨åç§°](https://nominatim.openstreetmap.org)è¿›è¡Œåå‘åœ°ç†ç¼–ç (å…±äº«æ¥è‡ªä¸»æœºçš„å·¥å…·æç¤º)
*   [æ¨é€é€šé“ API](https://pusher.com/channels?utm_source=dev.to&utm_medium=referral&utm_campaign=Devtocontest) ç”¨äºå®æ—¶æ›´æ–°å’Œé€šä¿¡
*   [NoSleep](https://github.com/richtr/NoSleep.js?utm_source=recordnotfound.com#nosleepjs) å®ç”¨ç¨‹åº(å¸Œæœ›)é˜»æ­¢è®¾å¤‡ç¡çœ 
*   [ç”¨äºå¸ƒå±€æ¸²æŸ“å’Œæ›´æ–°çš„è¶… HTML](https://github.com/WebReflection/hyperHTML#hyperhtml)
*   [lightdown](https://github.com/WebReflection/lightdown#lightdown) ä¸ºæ¯æ¡ä¿¡æ¯å¸¦æ¥å¿«é€Ÿã€å®‰å…¨å’Œæœ‰ç”¨çš„é™ä»·é£æ ¼

# é™„åŠ èµ„æº/ä¿¡æ¯

å‰©ä¸‹çš„ä»£ç æ˜¯æˆ‘å†™çš„ï¼ŒåŸºäº [ES æ¨¡å—](https://hacks.mozilla.org/2018/03/es-modules-a-cartoon-deep-dive/)ï¼Œé€šè¿‡ [asbundle](https://github.com/WebReflection/asbundle#asbundle) æ†ç»‘ï¼Œé€šè¿‡ [Babel](https://babeljs.io) å‡€åŒ–ï¼Œé€šè¿‡ [UglifyJS](https://github.com/mishoo/UglifyJS#uglifyjs--a-javascript-parsercompressorbeautifier) ç¼©å°ã€‚

å¸¸è§çš„ PWA æŠ€æœ¯å¦‚[æœåŠ¡äººå‘˜](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API)å’Œ a `manifest.json`ä¹Ÿå·²åˆ°ä½ã€‚