# Dorm å¼•å…¥å¤šç¼–è¯‘å™¨åŒ…ğŸ„å¯¹äº php

> åŸæ–‡:[https://dev . to/aaahmedaa/dorm-introducing-multi-compiler-package-for-PHP-15 M6](https://dev.to/aaahmedaa/dorm-introducing-multi-compiler-package--for-php-15m6)

Dorm æ˜¯ä¸€ä¸ªå¤šç¼–è¯‘å™¨åŒ…ï¼Œæ—¨åœ¨å¤„ç†é¡¹ç›®ä¸­é php ä»£ç çš„ç¼–è¯‘å’Œè¿è¡Œï¼Œç°åœ¨è¯¥åŒ…æ”¯æŒ cï¼Œc++ï¼Œpython2ï¼Œpython3 å’Œ java çš„ç¼–è¯‘å’Œè¿è¡Œã€‚

## å®‰è£…ç¼–è¯‘å™¨å¹¶è¿›è¡Œè®¾ç½®

#### ç¼–è¯‘å™¨

= = = = = = > GCC ç¼–è¯‘å™¨
c++ = = = = =>g++ç¼–è¯‘å™¨
Java = = = = = =>JDK
Python = = = = =>Python2.7 æˆ– Python 3.4(æ ¹æ®éœ€è¦é…ç½® Python 2 æˆ– Python 3)ã€‚

*   [MinGw](https://nuwen.net/mingw.html) åŒ…å« g++/gcc ç¼–è¯‘å™¨
*   [Java SE å¼€å‘å¥—ä»¶](http://www.oracle.com/technetwork/java/javase/downloads/jdk10-downloads-4416644.html)
*   [Python](https://www.python.org/getit/) ä½ å¯ä»¥ä¸‹è½½ä»»ä½•ç‰ˆæœ¬çš„ python2.7 æˆ–è€… python3.4ã€‚

é»˜è®¤è·¯å¾„æ˜¯:-

```
"cpp" => 'C:/MinGW/bin/g++.exe',
"c" => 'C:/MinGW/bin/gcc.exe',
"java" => 'javac',
"python2" => 'C:/Python27/python2.exe',
"python3" => 'C:/Python34/python3.exe' 
```

å¹¶åœ¨`vendor/aa-ahmed-aa/dorm/src/Config.php`ä¸­ä¸º
é…ç½®å®ƒçš„è·¯å¾„ï¼Œæ¯ä¸ªç¼–è¯‘å™¨éƒ½é»˜è®¤ä¸º

## å®‰è£…å®¿èˆ

ä½¿ç”¨ composer `composer require aa-ahmed-aa/dorm`å®‰è£…è½¯ä»¶åŒ…

## è®©æˆ‘ä»¬ç¼–è¯‘å¹¶è¿è¡Œä¸€äº›ä»£ç 

*   è¿™æ®µä»£ç å°†ç¼–è¯‘å¹¶è¿è¡Œ C++ä»£ç 

```
require ('vendor/autoload.php');
use Ahmedkhd\Dorm\Dorm;

$obj = new Dorm();

//set compilation path
$obj->setCompilationPath( __DIR__ );

$cpp_code = <<<'EOT'
    #include<iostream>
    using namespace std;

    int main()
    {
        cout<<"hello, c plus plus";
        return 0;
                }
EOT; 
$comp = $obj->compile( $cpp_code, "cpp" );
echo "Compilation : " . ( ! is_array($comp) ? "Success" : "Fail" )  . "\n";
    echo "Running is : " . ( ! is_array($comp) ? $obj->run() : "Fail" ) . "\n"; 
```

*   è¿™æ®µä»£ç å°†ç¼–è¯‘å¹¶è¿è¡Œ Java ä»£ç 

```
require ('vendor/autoload.php');
use Ahmedkhd\Dorm\Dorm;

$obj = new Dorm();

//set compilation path
$obj->setCompilationPath( __DIR__ );

//java
$java_code = <<<'EOT'
    public class Main {
    public static void main(String[] args) {
        // Prints "Hello, World" to the terminal window.
        System.out.println("Hello, Java");
    }

}
EOT; 

$comp = $obj->compile( $java_code, "java" );
echo "Compilation : " . ( ! is_array($comp) ? "Success" : "Fail" )  . "\n";
echo "Running is : " . ( ! is_array($comp) ? $obj->run() : "Fail" ) . "\n"; 
```

*   è¿™å°†ç¼–è¯‘å’Œè¿è¡Œ python ä»£ç 

```
require ('vendor/autoload.php');
use Ahmedkhd\Dorm\Dorm;

$obj = new Dorm();

//set compilation path
$obj->setCompilationPath( __DIR__ );

$python_code = <<<'EOT'
print "Hello, Python3.4"
EOT; 
$comp = $obj->compile( $python_code, "python2" );
echo "Running : " . implode( $comp )  . "\n"; 
```

## æ·»åŠ è‡ªå·±çš„ç¼–è¯‘å™¨

å®‰è£…å¥½ä½ è‡ªå·±çš„ç¼–è¯‘å™¨åï¼Œä½ éœ€è¦å»`vendor/aa-ahmed-aa/dorm/src/Config.php`
æŠŠä½ çš„ç¼–è¯‘å™¨æ·»åŠ åˆ°`$compilers`æ•°ç»„ä¸­ã€‚

```
$compilers = [
    "__COMPILER_NAME__"=>[
    "path" => "__COMPILER_PATH__",
    "file_extension" =>'__CODE_FILE_EXTENSION_',
    "compile_func" => __NAME_FOR_YOUR_COMPILER_FUNCTION__,
    "run_func" => __NAME_FOR_YOUR_RUN_FUNCTION__
    ]
]; 
```

path = >æ˜¯ç¼–è¯‘å™¨æˆ–(sys env ä¸­çš„ alias_name)çš„è·¯å¾„ã€‚
file_extension = >è¿™ä¸ªç¼–è¯‘å™¨ä½¿ç”¨çš„æ–‡ä»¶æ‰©å±•åã€‚
compile_func = >ç¼–è¯‘`vendor/aa-ahmed-aa/dorm/src/Core.php`ä¸­çš„å‡½æ•°ã€‚
run_func = >è¿è¡Œ`vendor/aa-ahmed-aa/dorm/src/Core.php`ä¸­çš„å‡½æ•°ã€‚

ç„¶åä½ éœ€è¦å»ä½ çš„`vendor/aa-ahmed-aa/dorm/src/Core.php`å¹¶å®ç°ä½ çš„ç¼–è¯‘å’Œè¿è¡Œä¸ºè¿™ç§ç±»å‹çš„ç¼–è¯‘å™¨ï¼Œç„¶åä½ åªéœ€è¦ä½¿ç”¨ç¼–è¯‘å’Œè¿è¡Œä¸ºä»»ä½•ç±»å‹çš„ç¼–è¯‘å™¨ã€‚

#### æœ‰ç”¨çš„åŠŸèƒ½

*   get ç¼–è¯‘å™¨
*   get ç¼–è¯‘å™¨
*   setCompilationPath
*   getCompilationPath
*   createFolderIfNotExisted
*   cleanCompilationFolder

## æ”¯æŒ

å¦‚æœæ‚¨å‘ç°è¿™ä¸ªåŒ…æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶æå‡ºé—®é¢˜æˆ–é€šè¿‡ Github[ahmedkhaled36@hotmail.com](mailto:ahmedkhaled36@hotmail.com)
è”ç³»æˆ‘ğŸ”¥:[https://github.com/aa-ahmed-aa/Dorm](https://github.com/aa-ahmed-aa/Dorm)