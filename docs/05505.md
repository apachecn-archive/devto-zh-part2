# ä½¿ç”¨æ•°æ®ç§‘å­¦å¯»æ‰¾æœ€é‡è¦çš„å¥å­

> åŸæ–‡:[https://dev . to/brandonskeritt/finding-the-most-important-sentences-using-data-science-1dg 9](https://dev.to/brandonskerritt/finding-the-most-important-sentences-using-data-science-1dg9)

GitHub å›è´­åœ¨è¿™é‡Œæ˜¯:

## ![GitHub logo](../Images/a73f630113876d78cff79f59c2125b24.png) [èœ‚æ•£](https://github.com/bee-san) / [ tldr-News](https://github.com/bee-san/tldr-News)

### ğŸ–ï¸ç”Ÿæˆä¸€ä¸ª TLï¼›ä½¿ç”¨è‡ªç„¶è¯­è¨€å¤„ç†çš„æ–°é—»åšå£«ğŸ–ï¸

<article class="markdown-body entry-content container-lg" itemprop="text">

# TLï¼›é€Ÿåº¦ä¸‰è§’å½¢å®šä½æ³•(dead reckoning)

ä½¿ç”¨ç®—æ³•ç¡®å®šæ–°é—»æ–‡ç« ä¸­æœ€é‡è¦çš„å¥å­ï¼Œå¹¶å°†å…¶æ˜¾ç¤ºåœ¨æ–°é—»æ–‡ç« çš„é¡¶éƒ¨ã€‚ä»…é€‚ç”¨äº BBC æ–°é—»æ–‡ç« ã€‚ä¹Ÿä¸æ˜¯ä¸€ä¸ªåˆé€‚çš„ Firefox æ‰©å±•(å°½ç®¡æ‚¨å¯ä»¥è‡ªç”±åˆ›å»ºä¸€ä¸ª)ã€‚

[![img](../Images/2f9a1581766316a2dfb31507487ea0d3.png)T2ã€‘](https://camo.githubusercontent.com/c9114c76c7f59177d7d7815af12f77e8303bea1070dc4c1b210d0766f60d3d2f/68747470733a2f2f736b6572726974742e626c6f672f636f6e74656e742f696d616765732f323031392f30312f696d6167652d3531322e706e67)

çº¢æ¡†å†…çš„æ‰€æœ‰å†…å®¹éƒ½è¢«ç®—æ³•é€‰ä¸ºæœ€é‡è¦çš„å¥å­ï¼Œä»æœ€é‡è¦åˆ°æœ€ä¸é‡è¦æ’åºã€‚

# ä»€ä¹ˆç®—æ³•ï¼Ÿ

æœ¯è¯­é¢‘ç‡*é€†æ–‡æ¡£é¢‘ç‡

æˆ‘åœ¨ä¸‹é¢çš„åšæ–‡ä¸­è§£é‡Šäº†æ‰€æœ‰çš„ä»£ç å’Œç®—æ³•ã€‚äº«å—

[https://skerritt.blog/tfidf/](https://skerritt.blog/tfidf/)

</article>

[View on GitHub](https://github.com/bee-san/tldr-News)

æˆ‘ä»¬å°†åˆ›å»º BBC æ–°é—»æ–‡ç« çš„æ‘˜è¦ï¼Œå¹¶ä½¿ç”¨ Firefox æ‰©å±•å°†å®ƒä»¬æ”¾åœ¨é¡¶éƒ¨ã€‚æœ¬æ–‡æ˜¯å…³äºæ­£åˆ™ç®—æ³•è¯é¢‘-é€†æ–‡æ¡£é¢‘(TF-IDF)çš„ã€‚æˆ‘ä»¬å°†ä»¥ Firefox æ‰©å±•çš„å½¢å¼åˆ›å»ºä¸€ä¸ªçœŸå®ä¸–ç•Œçš„ç”¨æ³•ã€‚æˆ‘çŸ¥é“ä½ åœ¨æƒ³ä»€ä¹ˆã€‚â€œTF-IDFï¼Ÿè£‚å¼€ğŸ˜´â€œä¸è¿‡è§ç„¶è·Ÿæˆ‘åœ¨ä¸€èµ·ï¼Œå€’æ˜¯æŒºæœ‰æ„æ€çš„ï¼

å½“æˆ‘ä»¬å®Œæˆæ—¶ï¼Œå®ƒä¼šçœ‹èµ·æ¥åƒè¿™æ ·:

<figure>[![](../Images/e3c7fbe959a9dacc3e7968ccf240f35d.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--J1MJVpeH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/666/1%2Ab01QNPpkOMWG1g-GLuab4Q.png) 

<figcaption>æ–°é—»æ–‡ç« æ‰¾åˆ°[è¿™é‡Œ](https://www.bbc.co.uk/news/business-45289432)ã€‚çº¢æ¡†çªå‡ºäº†æœ€é‡è¦çš„å¥å­ã€‚çº¢æ¡†ä¸åœ¨æœ€ç»ˆäº§å“ä¸­ï¼Œä»…ç”¨äºè¯´æ˜ç›®çš„ã€‚</figcaption>

</figure>

æˆ‘å‘ä½ ä¿è¯ï¼Œè¿™å¹¶ä¸åƒç®—æ³•çš„åå­—æ‰€æè¿°çš„é‚£æ ·å›°éš¾/æ— èŠï¼

### æœ¯è¯­é¢‘ç‡*é€†æ–‡æ¡£é¢‘ç‡

åˆ«æ‹…å¿ƒï¼Œç®—æ³•çš„åå­—è®©æˆ‘æ¯æ¬¡å¬åˆ°å®ƒå¤§å£°è¯´å‡ºæ¥éƒ½ä¼šç¡ç€ã€‚è¿™ä¸ªç®—æ³•æ˜¯ä¸¤ä¸ªç®—æ³•ç›¸ä¹˜ã€‚è®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸¤è€…æ˜¯å¦‚ä½•å·¥ä½œçš„:

#### æœ¯è¯­é¢‘ç‡

è¯é¢‘(TF)æ˜¯ä¸€ä¸ªè¯åœ¨æ–‡æ¡£ä¸­å‡ºç°çš„é¢‘ç‡ï¼Œé™¤ä»¥æœ‰å¤šå°‘ä¸ªè¯ã€‚

<figure>[![](../Images/450ccae61ddb70a18472d874686b9635.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--_q8_zNlJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/597/1%2AF4O-l5YkFEMU4WJQZOoBQw.png) 

<figcaption>ä¸€ä¸ªæœ¯è¯­çš„è¯é¢‘(TF)tï¼Œå’Œä¸€ä¸ªæ–‡æ¡£çš„è¯é¢‘ d.</figcaption>

</figure>

å‡è®¾ä½ æ­£åœ¨é˜…è¯»ä¸€ç¯‡å…³äºè‹±å›½é€€å‡ºæ¬§ç›Ÿçš„æ–°é—»ã€‚â€œè‹±å›½é€€å‡ºæ¬§ç›Ÿâ€è¿™ä¸ªè¯ä¼šå‡ºç°å¾ˆå¤šï¼Œæ‰€ä»¥â€œè‹±å›½é€€å‡ºæ¬§ç›Ÿâ€è¿™ä¸ªè¯çš„å‡ºç°é¢‘ç‡å¾ˆé«˜ã€‚

å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨æœ¯è¯­æ—è¾¹å»ºç«‹ä¸€ä¸ªæœ¯è¯­é¢‘ç‡å­—å…¸(hashmap)ã€‚æ¯”å¦‚ *{word:é‚£ä¸ªè¯çš„è¯é¢‘}* ç„¶åè¿­ä»£è¿™ä¸ªå­—å…¸ï¼Œæ‰¾å‡ºå“ªä¸ªè¯å‡ºç°çš„æ¬¡æ•°æœ€å¤šã€‚

ç°åœ¨ï¼Œå¦‚æœæˆ‘å‘Šè¯‰ä½ è¯é¢‘è¯å…¸çœ‹èµ·æ¥æœ‰ç‚¹åƒè¿™æ ·ä¼šæ€ä¹ˆæ ·:

```
{"and": 0.87, "the": 0.73} 
```

Enter fullscreen mode Exit fullscreen mode

ä½ å¯ä»¥çœ‹åˆ°è¿™äº›æ™®é€šçš„è‹±è¯­å•è¯å¯¹æˆ‘ä»¬æ²¡æœ‰ç”¨ã€‚å½“ç„¶ï¼Œå¤§å¤šæ•°è‹±è¯­æ–‡æœ¬ä¸­éƒ½æœ‰è¿™äº›å•è¯ï¼Œä½†æˆ‘ä»¬ç§°è¿™äº›è‹±è¯­å•è¯ä¸º*åœç”¨è¯*ã€‚åœç”¨è¯é€šå¸¸æŒ‡ä¸€ç§è¯­è¨€ä¸­æœ€å¸¸è§çš„è¯ï¼Œå°½ç®¡æ²¡æœ‰å•ä¸€çš„å®šä¹‰ã€‚ä½ å¿…é¡»æ ¹æ®ç”¨æ³•é€‰æ‹©åœç”¨è¯ã€‚ä½ å¿…é¡»å†³å®šç”¨ä»€ä¹ˆè¯ã€‚åœ¨å¤„ç†ä¸€äº›æ–‡æœ¬ä¹‹å‰ï¼Œæ‚¨é€šå¸¸å¸Œæœ›åˆ é™¤åœç”¨è¯ï¼Œä»¥ä¾¿æ›´å¥½åœ°å¤„ç†æ–‡æœ¬ã€‚

æœ‰å¤§å†™å­—æ¯çš„å•è¯å’Œæ²¡æœ‰å¤§å†™å­—æ¯çš„å•è¯æ˜¯ä¸åŒçš„ã€‚åœ¨ç¼–ç¨‹ä¸­ï¼Œâ€œéæ´²â€å’Œâ€œéæ´²â€æ˜¯ä¸¤å›äº‹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¸Œæœ›å°†æ‰€æœ‰å†…å®¹éƒ½è½¬æ¢æˆå°å†™æˆ–å¤§å†™ï¼Œä»¥ä¾¿æ›´å¥½åœ°å¤„ç†æˆ‘ä»¬çš„æ–‡æœ¬ã€‚æˆ‘ä»¬è¦æŠŠæ‰€æœ‰çš„å•è¯éƒ½å˜æˆå°å†™ã€‚

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬æƒ³åˆ é™¤åœç”¨è¯å¹¶å°†å…¶è½¬æ¢æˆå°å†™ã€‚æˆ‘ä»¬çš„æ‰©å±•å°†ç»™æˆ‘ä»¬ä¸€ä¸ª BBC æ–°é—»æ–‡ç« çš„æ‰€æœ‰æ–‡æœ¬çš„å­—ç¬¦ä¸²ã€‚å…ˆä¸è¦æ‹…å¿ƒæˆ‘ä»¬ä»å“ªé‡Œå¾—åˆ°æ–‡æœ¬ï¼Œè¿™å°†åœ¨ç¨åçš„ Firefox æ‰©å±•éƒ¨åˆ†å®Œæˆã€‚ç°åœ¨ï¼Œå‡è®¾æˆ‘ä»¬æœ‰è¿™æ ·çš„æ–‡æœ¬:

```
... These are external links and will open in a new windowA neat feature of many modern laptops is the ability to power them up through the USB port. Unlike the rectangular USB ports of old, the newer type - USB-C - can carry enough power to charge your 
machine.Thatâ€™s great news: it means ... 
```

Enter fullscreen mode Exit fullscreen mode

ä¸ºäº†é˜²æ­¢è¯»è€…ç¡ç€ï¼Œä¸Šé¢çš„æ–‡å­—è¢«ç¼©çŸ­äº†ã€‚

```
function prettify(document){
    // Turns an array of words into lowercase and removes stopwords
    const stopwords = ["a", "share", "linkthese", "about", "above", "after", "again", "against", "all", "am", "an", "and", "any","", "are","aren't","as","at","be","because","been","before","being","below","between","both","but","by","can't","cannot","could","couldn't","did","didn't","do","does","doesn't","doing","don't","down","during","each","few","for","from","further","had","hadn't","has","hasn't","have","haven't","having","he","he'd","he'll","he's","her","here","here's","hers","herself","him","himself","his","how","how's","i","i'd","i'll","i'm","i've","if","in","into","is","isn't","it","it's","its","itself","let's","me","more","most","mustn't","my","myself","no","nor","not","of","off","on","once","only","or","other","ought","our","ours","ourselves","out","over","own","same","shan't","she","she'd","she'll","she's","should","shouldn't","so","some","such","than","that","that's","the","their","theirs","them","themselves","then","there","there's","these","they","they'd","they'll","they're","they've","this","those","through","to","too","under","until","up","very","was","wasn't","we","we'd","we'll","we're","we've","were","weren't","what","what's","when","when's","where","where's","which","while","who","who's","whom","why","why's","with","won't","would","wouldn't","you","you'd","you'll","you're","you've","your","yours","yourself","yourselves", "this"];
    // turn document into lowercase words, remove all stopwords
    var document = document.replace(/[.,]/g, '');
    let document_in_lowercase = document.split("  ").map(function(x){ return x.toLowerCase() });
    return document_in_lowercase.filter( x => !stopwords.includes(x) );
} 
```

Enter fullscreen mode Exit fullscreen mode

è¿™æ˜¯å°†â€œç¾åŒ–â€æˆ‘ä»¬çš„æ–‡æ¡£çš„åŠŸèƒ½ã€‚ç¬¬ 3 è¡Œæ˜¯æˆ‘åœ¨ [StackOverflow](https://stackoverflow.com/questions/5631422/stop-word-removal-in-javascript) ä¸Šæ‰¾åˆ°çš„ä¸€ç»„åœç”¨è¯ã€‚æˆ‘æ·»åŠ äº†â€œ*å…±äº«*å’Œâ€œ*é“¾æ¥è¿™äº›*â€ï¼Œå› ä¸ºè¿™äº›æ˜¯æˆ‘ä»¬ä¸æƒ³è¦çš„æ–°é—»æ–‡ç« ä¸­çš„å¸¸ç”¨è¯ã€‚

ç¬¬ 5 è¡Œæ˜¯[æ­£åˆ™è¡¨è¾¾å¼](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions)ã€‚æ–¹æ‹¬å·è¡¨ç¤ºæˆ–ã€‚[,.]è¡¨ç¤º*â€œåœ¨é€—å·æˆ–å¥å·ä¸Šæ¿€æ´»â€*ã€‚/g è¡¨ç¤ºå…¨å±€ã€‚ä¸€æ—¦ä½ æ‰¾åˆ°ä¸€ä¸ª*ã€*æˆ–*ã€‚â€*ä¸è¦åœï¼Œç»§ç»­æœç´¢å­—ç¬¦ä¸²ã€‚ç©ºå­—ç¬¦ä¸²å°±æ˜¯æˆ‘ä»¬è¦æ›¿æ¢çš„ã€‚å¦‚æœæˆ‘ä»¬å‘ç°ä¸€ä¸ªå¥å·æˆ–ä¸€ä¸ªé€—å·ï¼Œä¸ç”¨ä»»ä½•ä¸œè¥¿ä»£æ›¿å®ƒâ€”â€”åˆ é™¤å®ƒã€‚è¿™æ˜¯å› ä¸ºâ€œéæ´²â€è¿™ä¸ªè¯ã€‚å¦‚æœæ²¡æœ‰è¿™ä¸ªï¼Œâ€œéæ´²â€ä¼šè¢«å½’ç±»ä¸ºä¸¤ä¸ªä¸åŒçš„è¯ã€‚

<figure>[![](../Images/9dab5bb2db115693545e63e06a5d6164.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--PyljUgwk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2AtBAPevEG7SV1GQMXA8OQWg.jpeg) 

<figcaption>æ¥è‡ªæˆ‘çš„ Instagramï¼Œ [@Brandon.codes](https://www.instagram.com/brandon.codes/)</figcaption>

</figure>

ç¬¬ 4 è¡Œå°†æ–‡æ¡£åˆ†å‰²æˆå•ç‹¬çš„å•è¯ã€‚ *map* å‡½æ•°å°†å‡½æ•°åº”ç”¨äºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚ä¸€æ—¦å­—ç¬¦ä¸²è¢«æ‹†åˆ†æˆå•è¯æ•°ç»„ï¼Œæˆ‘ä»¬å°±å¯¹æ¯ä¸ªå…ƒç´ åº”ç”¨ *toLowerCase()* æ–¹æ³•ã€‚å®ƒè®©æ¯ä¸ªå•è¯éƒ½å˜æˆå°å†™ã€‚

<figure>[![](../Images/610486276a6e9a1371c22c70d15918ff.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--NE5nCepp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2A8aM6hM6ewnoY4j-dwC2cWw.png) 

<figcaption>æ¥è‡ªæˆ‘çš„ Instagramï¼Œ [@Brandon.codes](https://www.instagram.com/brandon.codes/) ã€‚ç®­å¤´æ˜¯[ç®­å¤´å‡½æ•°](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions) (Lambda /åŒ¿åå‡½æ•°)ã€‚</figcaption>

</figure>

ä¸€æ—¦æˆ‘ä»¬è¿‡æ»¤æ‰åœç”¨çš„å•è¯ï¼Œæˆ‘ä»¬å°±è¿”å›å°å†™çš„å•è¯ã€‚ *Filter()* åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ä¸­åªåŒ…å«å‡½æ•°è¿”å› True çš„å…ƒç´ ã€‚

å¦‚æœä¸€ä¸ªå•è¯æ˜¯ä¸€ä¸ªåœç”¨è¯ï¼Œå®ƒå°†å¯¼è‡´ Trueï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ªæ–°çš„æ•°ç»„**åªæœ‰**æ–‡æ¡£ä¸­çš„åœç”¨è¯ã€‚æˆ‘ä»¬ä½¿ç”¨å¦å®šè¿ç®—ç¬¦â€œï¼â€å¾—åˆ°ç›¸åçš„ç»“æœï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚è¿”å›æ²¡æœ‰åœç”¨è¯çš„å•è¯åˆ—è¡¨ã€‚

ç°åœ¨æˆ‘ä»¬è¦è®¡ç®—æ¯ä¸ªå•è¯åœ¨æ–‡æ¡£ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚è¿™å¯¹æœ¯è¯­é¢‘ç‡å’Œåå‘æ–‡æ¡£é¢‘ç‡éƒ½å¾ˆæœ‰ç”¨ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å¸Œæœ›ä»ä¸€ä¸ªå•è¯æ•°ç»„ä¸­è·å–æ‰€æœ‰å”¯ä¸€çš„å•è¯ã€‚

```
function uniqueWords(words){
    const unique_words_set = new Set(words);
    return unique_words = Array.from(unique_words_set);
} 
```

Enter fullscreen mode Exit fullscreen mode

æˆ‘ä»¬å°†æ•°ç»„è½¬æ¢æˆé›†åˆï¼Œå› ä¸ºé›†åˆæ²¡æœ‰é‡å¤ã€‚è¿™è®©æˆ‘ä»¬åªèƒ½å¾—åˆ°æ•°ç»„ä¸­å”¯ä¸€çš„**å­—ã€‚é›†åˆä¹Ÿæ²¡æœ‰é¡ºåºï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨æ•°ç»„ç´¢å¼•æ¥è®¿é—®å…ƒç´ ã€‚æˆ‘ä»¬éœ€è¦æŠŠå®ƒç›´æ¥è½¬æ¢å›æ•°ç»„ã€‚å…³äºé›†åˆè®ºçš„æ›´å¤šå†…å®¹ï¼Œè¯·æŸ¥çœ‹æˆ‘å†™çš„[è¿™ç¯‡æ–‡ç« ](https://medium.com/brandons-computer-science-notes/a-primer-on-set-theory-746cd0b13d13)ã€‚**

å¥½äº†ï¼Œç°åœ¨æ¥æ•°ä¸€ä¸ªå•è¯åœ¨å•è¯æ•°ç»„ä¸­å‡ºç°äº†å¤šå°‘æ¬¡ã€‚

```
function countWords(words){
    // returns a dictionary of {WORD: COUNT} where count is
    // how many times that word appears in "words".
    const unique_words = uniqueWords(words);
    let dict = {};
    // for every single unique word
    for (let i = 0; i <= unique_words.length - 1; i++){
        dict[unique_words[i]] = 0
        // see how many times this unique word appears in all words
        for (let x = 0; x <= words_without_stopwords.length -1; x++){
            if (unique_words[i] == words[x]){
                dict[unique_words[i]] = dict[unique_words[i]] + 1;
            }
        }
    }
    return dict;
} 
```

Enter fullscreen mode Exit fullscreen mode

è¿™ä¸ªå‡½æ•°éå†æ¯ä¸€ä¸ªå”¯ä¸€çš„å•è¯ï¼Œå¹¶è®¡ç®—è¿™ä¸ªå•è¯åœ¨å•è¯æ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚é¢‘ç‡å‡½æ•°è¿™ä¸ªè¯æŒºé•¿çš„ï¼Œæˆ‘å°±åˆ†è§£ä¸€ä¸‹ã€‚

```
function termFrequency(document){
    // calculates term frequency of each sentence
    words_without_stopwords = prettify(document);

    // gets rid of trailing spaces
    const sentences = document.split(".").map(item => item.trim());
    sentences[0] = sentences[0].substring(146);

    const TFVals = countWords(words_without_stopwords)
    const unique_words = uniqueWords(words_without_stopwords);

    // actually makes it TF values according to formula
    for (const [key, value] of Object.entries(TFVals)){
        TFVals[key] = TFVals[key] / words_without_stopwords.length;
} 
```

Enter fullscreen mode Exit fullscreen mode

ç¬¬ 6 è¡Œå°†æ–‡æ¡£åˆ†æˆå¥å­ã€‚æœ‰æ—¶å¥å­å‰é¢æœ‰ç©ºæ ¼ã€‚â€œå¸ƒå…°ç™»ã€‚ç‹—ã€‚â€åœ¨â€œç‹—â€ä¹‹å‰æœ‰ç©ºæ ¼æˆ‘ä»¬å°† [trim()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/Trim) æ–¹æ³•åº”ç”¨äºæ¯ä¸€é¡¹ï¼Œä»¥æ¶ˆé™¤è¿™äº›å°¾éšçš„ç©ºç™½ã€‚

å…³äºç¬¬ 7 è¡Œï¼Œç¬¬ä¸€ä¸ªå•è¯çš„å‰ 146 ä¸ªå­—ç¬¦æ˜¯ç¤¾äº¤åª’ä½“é“¾æ¥ã€‚è¿™ä¸ªè¯çš„å…¶ä½™éƒ¨åˆ†æ˜¯æ ‡é¢˜æˆ–å‰¯æ ‡é¢˜ã€‚æ¥ï¼Œçœ‹:

```
Share this withEmailFacebookMessengerMessengerTwitterPinterestWhatsAppLinkedInCopy this linkThese are external links and will open in a new window **Ryanair is tightening the rules on what passengers pay to take luggage onto the plane, in order to "speed up boarding".** 
```

Enter fullscreen mode Exit fullscreen mode

è¿™å¾ˆçƒ¦äººï¼Œå› ä¸ºæ ‡é¢˜æ˜¯æ•…äº‹å¿…ä¸å¯å°‘çš„ä¸€éƒ¨åˆ†ï¼Œéœ€è¦è€ƒè™‘è¿›å»ã€‚æ‰€ä»¥æˆ‘ä»¬å»æ‰ç¬¬ä¸€ä¸ªå•è¯çš„å‰ 146 ä¸ªå­—ç¬¦å¾—åˆ°:

```
Ryanair is tightening the rules on what passengers pay to take luggage onto the plane, in order to "speed up boarding" 
```

Enter fullscreen mode Exit fullscreen mode

è¿˜è®°å¾—è¿™ä¸ªå…¬å¼å—ï¼Ÿ

<figure>[![](../Images/450ccae61ddb70a18472d874686b9635.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--_q8_zNlJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/597/1%2AF4O-l5YkFEMU4WJQZOoBQw.png) 

<figcaption>ä¸€ä¸ªæœ¯è¯­çš„è¯é¢‘(TF)tï¼Œå’Œä¸€ä¸ªæ–‡æ¡£çš„è¯é¢‘ d.</figcaption>

</figure>

å˜é‡â€œ *TFVals* â€æ­£åœ¨è®¡ç®—è¿™ä¸ªå…¬å¼ã€‚å¦‚æœæˆ‘ä»¬è¿è¡Œå¥å­â€œä½ å¥½ï¼Œæˆ‘å«å¸ƒå…°ç™»ã€‚å¸ƒå…°ç™»å¸ƒå…°ç™»ã€‚å¤§è±¡è·³è¿‡æœˆäº®â€œé€šè¿‡é¡¹é¢‘ç‡å‡½æ•°ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ç±»ä¼¼è¿™æ ·çš„ä¸œè¥¿:

<figure>[![](../Images/6e2384e81e16fb78c653e877d4e1315e.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--QinEfqUq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/846/1%2AuTEkBVplTb57czjE2ZiuNw.png) 

<figcaption>TF åªè¿”å› 1 ä¸ªâ€œå¸ƒå…°ç™»â€ï¼Œæ‰€ä»¥ä¸æ˜¯æ¯ä¸ªå¸ƒå…°ç™»éƒ½æœ‰ TF åˆ†å€¼ã€‚å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œè®°ä½ TF åªè¿”å› 1 Brandonï¼Œå› ä¸ºæˆ‘ä»¬æ­£åœ¨è®¡ç®—å•ä¸ªæœ¯è¯­(å•è¯)çš„é¢‘ç‡ã€‚</figcaption>

</figure>

æˆ‘ä»¬æœ‰è¯çš„è¯é¢‘ï¼Œä½†æˆ‘ä»¬æƒ³è®¡ç®—æœ€é‡è¦çš„**å¥**ï¼Œè€Œä¸æ˜¯è¯ã€‚ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬ä»”ç»†æ£€æŸ¥æ¯ä¸€ä¸ªå¥å­ï¼Œçœ‹çœ‹åœ¨é‚£ä¸ªå¥å­ä¸­å‡ºç°äº†å“ªäº›åœ¨ *TFVals* ä¸­çš„å•è¯ã€‚

<figure>[![](../Images/51774a8d2c28730a3d6c80a6e2659221.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--5vGhYM1e--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/854/1%2AGn5T98Vkm3C8hW87x2KpRQ.png) 

<figcaption>è¿˜è®°å¾—ä¹‹å‰æˆ‘è¯´çš„æˆ‘ä»¬ä¸è¦æŠŠ 3 ä¸ªâ€œå¸ƒå…°ç™»â€éƒ½ç®—è¿›å»å—ï¼Ÿæˆ‘ç°åœ¨å·²ç»åšåˆ°äº†ã€‚å¦å¤–ï¼Œè¯·æ³¨æ„ï¼Œæˆ‘ä»¬æŠŠå®ƒåˆ†æˆäº†å‡ ä¸ªå¥å­ã€‚è¿™å¹…å›¾ä¸­æœ‰ä¸‰ä¸ªå¥å­ã€‚</figcaption>

</figure>

æˆ‘ä»¬åªéœ€è¦æŠŠå®ƒä»¬åŠ èµ·æ¥ï¼Œç„¶åé™¤ä»¥æˆ‘ä»¬æœ‰å¤šå°‘å•è¯ã€‚å› ä¸ºæˆ‘ä»¬åªæ˜¯æŠŠéåœç”¨è¯çš„ TF å€¼ç›¸åŠ ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬é™¤ä»¥ä¸€ä¸ªå¥å­ä¸­æœ‰å¤šå°‘ä¸ªéåœç”¨è¯ï¼Œè€Œä¸æ˜¯å¥å­ä¸­æœ‰å¤šå°‘ä¸ªè¯ï¼Œè¿™æ‰æ˜¯å…¬å¹³çš„ã€‚å¦‚æœä¸é™¤ä»¥å•è¯é‡ï¼Œé•¿å¥æ¯”çŸ­å¥æ›´æœ‰ä¼˜åŠ¿ã€‚

<figure>[![](../Images/03a2ff6fa9a4cc038acbde2a35a2b0ab.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--iT8FfxvP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/863/1%2A3L16z-glMZjfjvrAaYTKcg.png)

<figcaption>TF æœ€é«˜çš„å¥å­æ˜¯â€œå¸ƒå…°ç™»å¸ƒå…°ç™»â€</figcaption>

</figure>

è¿™å°±æ˜¯ä¸‹é¢ç¬¬ 20 è¡Œçš„å†…å®¹ã€‚æˆ‘ä»¬éå†æ¯ä¸€ä¸ªå¥å­ï¼Œè®¡ç®—æ¯ä¸ªå¥å­çš„ TF å€¼ï¼Œå°±åƒæˆ‘ä»¬ä¸Šé¢åšçš„ä¸€æ ·ã€‚

```
function termFrequency(document){
    // calculates term frequency of each sentence
    words_without_stopwords = prettify(document);

    // gets rid of trailing spaces
    const sentences = document.split(".").map(item => item.trim());
    sentences[0] = sentences[0].substring(146);

    const TFVals = countWords(words_without_stopwords)
    const unique_words = uniqueWords(words_without_stopwords);

    // actually makes it TF values according to formula
    for (const [key, value] of Object.entries(TFVals)){
        TFVals[key] = TFVals[key] / words_without_stopwords.length;
    }

    // splits it up into sentences now
    var TFSentences = {};
    // for every sentence
    for (let i = 0; i <= sentences.length - 1; i ++){
        // for every word in that sentence
        let sentence_split_words = sentences[i].split("  ");
        // get the assiocated TF values of each word
        // temp.add is the "TF" value of a sentence, we need to divide it at the end
        let temp_add = 0.0;
        let words_no_stop_words_length = prettify(sentences[i]).length;
        for (let x = 0; x <= sentence_split_words.length - 1; x++){
            // get the assiocated TF value and add it to temp_add
            if (sentence_split_words[x].toLowerCase() in TFVals){
                // adds all the TF values up
                temp_add = temp_add + TFVals[sentence_split_words[x].toLowerCase()];
            }
            else{
                // nothing, since it's a stop word.
            }
        }
        // TF sentences divide by X number of items on top
        TFSentences[sentences[i]] = temp_add / words_no_stop_words_length;
    }

    return TFSentences;
} 
```

Enter fullscreen mode Exit fullscreen mode

ä»…æ­¤è€Œå·²ã€‚ä½†æ˜¯æˆ‘ä»¬æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œåªç”¨æœ¯è¯­é¢‘ç‡ã€‚æ­£å¦‚ä½ ä¹‹å‰çœ‹åˆ°çš„ï¼Œâ€œBrandon Brandonâ€æ˜¯æˆ‘ä»¬çœ‹çš„æ‰€æœ‰ä¸‰ä¸ªå¥å­ä¸­å¾—åˆ†æœ€é«˜çš„ TFã€‚

å…‰æœ‰äººæ°”æ˜¯ä¸å¤Ÿçš„ã€‚æˆ‘ä»¬ä¸å¸Œæœ›å¥å­ä¸­åŒ…å«æœ€å¤šçš„å…³é”®å­—ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½æ²¡æœ‰æ„ä¹‰ï¼Œæˆ–è€…å®ƒä»¬å¯èƒ½æ˜¯å½¼æ­¤çš„é‡å¤ã€‚å¦‚â€œå¸ƒå…°ç™»â€ä¸­çš„â€œå¸ƒå…°ç™»â€å¥ã€‚å®ƒçš„ TF å€¼å¾ˆé«˜ï¼Œä½†å†…å®¹ä¸å¤šã€‚

å®ƒåŒ…å«çš„ä¿¡æ¯ä¸å¤šï¼Œä¹Ÿæ²¡ä»€ä¹ˆç”¨ã€‚æˆ‘ä»¬æƒ³è¦ä¸€ä¸ªæ—¢ç½•è§åˆç‹¬ç‰¹çš„å¥å­ï¼Œå¹¶ä¸”åŒ…å«æ–‡ç« ä¸­å¸¸è§çš„å…³é”®è¯ã€‚è¿™å°±æ˜¯é€†æ–‡æ¡£é¢‘ç‡å‡ºç°çš„åŸå› ã€‚

#### é€†æ–‡æ¡£é¢‘ç‡

è¯é¢‘æ˜¯ä¸€ä¸ªè¯æœ‰å¤šå¸¸è§ï¼Œé€†æ–‡æ¡£é¢‘ç‡(IDF)æ˜¯ä¸€ä¸ªè¯æœ‰å¤šç‹¬ç‰¹æˆ–ç½•è§ã€‚IDF çš„å…¬å¼ä¸º:

<figure>[![](../Images/6f57373de19e6950c4c0a93063a6c308.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--U00ZS9Lp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/651/1%2AWD4Z2DxSrAicsKwuQm26wA.png) 

<figcaption>t æ˜¯æœ¯è¯­ï¼Œd æ˜¯å•æ®ã€‚æˆ‘ä»¬æœ‰å¤šä¸ªæ–‡æ¡£ï¼Œæˆ‘ä»¬æŠŠæ¯ä¸ªå¥å­éƒ½å½“ä½œå®ƒè‡ªå·±çš„æ–‡æ¡£ã€‚</figcaption>

</figure>

IDF ä½¿ç”¨äº†è®¸å¤šæ–‡æ¡£ï¼Œè€Œ TF æ˜¯ä¸ºä¸€ä¸ªæ–‡æ¡£è€Œæ„å»ºçš„ã€‚ä½ å¯ä»¥å†³å®šä»€ä¹ˆæ˜¯æ–‡æ¡£ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæ¯ä¸ªå¥å­éƒ½æ˜¯å®ƒè‡ªå·±çš„æ–‡æ¡£ã€‚

IDF çš„å‰å‡ æ­¥å’Œ TF ä¸€æ ·ã€‚æˆ‘ä»¬ç¾åŒ–æ–‡æ¡£ï¼Œç»Ÿè®¡æ–‡æ¡£ä¸­çš„å•è¯ï¼Œå¹¶è·å¾—æ‰€æœ‰å”¯ä¸€çš„å•è¯ã€‚

```
function inverseDocumentFrequency(document){
    // calculates the inverse document frequency of every sentence
    const words_without_stopwords = prettify(document);
    const unique_words_set = uniqueWords(words_without_stopwords);

    const sentences = document.split(".").map(item => item.trim());
    sentences[0] = sentences[0].substring(146);

    const lengthOfDocuments = sentences.length;
    // prettifys each sentence so it doesn't have stopwords

    const wordCountAll = countWords(words_without_stopwords);

    // counts words of each sentence
    // as each sentence is a document
    wordCountSentences = [];
    for (let i = 0; i <= lengthOfDocuments - 1; i ++){
        wordCountSentences.push(countWords(prettify(sentences[i])));
    }

    // calculate TF values of all documents
let IDFVals = {}; 
```

Enter fullscreen mode Exit fullscreen mode

ç¬¬ 1â€“6 è¡Œå¹¶ä¸æ–°é²œã€‚ç¬¬ 17 è¡Œçš„ for å¾ªç¯éå†æ–‡æ¡£ä¸­çš„æ¯ä¸ªå¥å­ã€‚å› ä¸ºæ¯ä¸ªå¥å­éƒ½æ˜¯ä¸€ä¸ªæ–°çš„â€œæ–‡æ¡£â€ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å•ç‹¬è®¡ç®—æ¯ä¸ªå¥å­çš„å­—æ•°ã€‚æˆ‘ä»¬å¿…é¡»ç¾åŒ–å®ƒä»¬ï¼Œå»æ‰åœç”¨è¯ï¼ŒæŠŠå®ƒä»¬å˜æˆä¸€ç»„å•è¯ã€‚æˆ‘ä»¬å°†æ¯ä¸ªæ–°å¥å­çš„å•è¯è®¡æ•°å¯¹è±¡æ¨å…¥*å•è¯è®¡æ•°å¥å­*ã€‚

<figure>[![](../Images/caf83d1f6658d75f3d3e32305f729c52.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--mwgb-IFy--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/559/1%2AO9Lv6-QTG07EEqnLQNZ3xA.png) 

<figcaption>è¿™é‡Œæœ‰ 3 ä¸ªå¥å­ã€‚æˆ‘ä»¬ä¸å…³å¿ƒ Brandon åœ¨æ•´ä¸ªæ–‡æ¡£ä¸­å‡ºç°äº†å¤šå°‘æ¬¡ã€‚æˆ‘è¯•å›¾åœ¨ä¸ä½¿æ•°å­¦å˜å¾—å¤ªå¤§çš„æƒ…å†µä¸‹ï¼Œé€‰æ‹©ä¸€äº›è¯è¯­æ¥ç»™ä½ ä¸€äº›æœ‰è¶£çš„ä¸œè¥¿ï¼Œä½†åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘å˜å¾—è‡ªæ‹äº†ã€‚</figcaption>

</figure>

æˆ‘ä»¬ç°åœ¨å°†æ£€æŸ¥æ¯ä¸ªå•è¯ï¼Œå¹¶è®¡ç®—è¯¥å•è¯åœ¨æ¯ä¸ªå¥å­ä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åä½¿ç”¨ä¸‹é¢çš„å…¬å¼è®¡ç®— IDF å¾—åˆ†ã€‚

<figure>[![](../Images/a0e69c6874f2667d026c4421b97ae3a4.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--iKMda3CZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/658/1%2AkO4fXaJdu9QhbwICxbvc1w.png) 

<figcaption>æˆ‘åœ¨è¿™é‡Œç”¨ log 10ã€‚æ³¨æ„:æ‰€æœ‰çš„å¯¹æ•°éƒ½æ˜¯å›ºå®šçš„[æ¯”ä¾‹](https://www.khanacademy.org/math/algebra2/exponential-and-logarithmic-functions/logarithmic-scale/v/logarithmic-scale)ï¼Œæ‰€ä»¥ä½ ç”¨ä»€ä¹ˆå¯¹æ•°æ²¡å¤šå¤§å…³ç³»ã€‚</figcaption>

</figure>

<figure>[![](../Images/c5eee3a2bba324a1c5917e1c748af663.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--JMES2ddL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/472/1%2A8pJZji2F5uy6E6zAxKL06Q.png)

<figcaption>IDF å¦‚ä½•ä½¿ç”¨çš„ä¸€ä¸ªå°ä¾‹å­ã€‚</figcaption>

</figure>

ç°åœ¨æˆ‘ä»¬å¯¹æ¯ä¸ªä¸åœçš„å•è¯éƒ½è¿™æ ·åšã€‚

[![](../Images/9e968b3ad3a8f869d8fd440907b23d5b.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Oj0s8BOm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/602/1%2AomR9oAN2-yDYfOcIv7bPEw.png)

è¿™ä¸ªçš„ä»£ç æ˜¯:

```
function inverseDocumentFrequency(document){
    // calculates the inverse document frequency of every sentence
    const words_without_stopwords = prettify(document);
    const unique_words_set = uniqueWords(words_without_stopwords);

    const sentences = document.split(".").map(item => item.trim());
    sentences[0] = sentences[0].substring(146);

    const lengthOfDocuments = sentences.length;
    // prettifys each sentence so it doesn't have stopwords

    const wordCountAll = countWords(words_without_stopwords);

    // counts words of each sentence
    // as each sentence is a document
    wordCountSentences = [];
    for (let i = 0; i <= lengthOfDocuments - 1; i ++){
        wordCountSentences.push(countWords(prettify(sentences[i])));
    }

    // calculate TF values of all documents
    let IDFVals = {};

    // how many times that word appears in all sentences (documents)
    wordCountSentencesLength = wordCountSentences.length;
    // for every unique word
    for (let i = 0; i <= unique_words_set.length - 1; i++){
        let temp_add = 0;
        // count how many times unique word appears in all sentences
        for (let x = 0; x <= wordCountSentencesLength - 1; x++){
            if (unique_words_set[i] in wordCountSentences[x]){
                temp_add =+ 1;
            }
        }
        IDFVals[unique_words_set[i]] = Math.log10(wordCountAll[unique_words_set[i]] / temp_add);
} 
```

Enter fullscreen mode Exit fullscreen mode

ç°åœ¨æˆ‘ä»¬æƒ³å¾—åˆ°æ‰€æœ‰å¥å­çš„ IDF å€¼ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨æ¥è‡ª TF çš„ç›¸åŒä»£ç ï¼Œä½†æ˜¯æ›¿æ¢äº†ä¸€äº›ä¸œè¥¿æ¥ä½¿å®ƒå·¥ä½œã€‚

å¦‚æœæˆ‘å®è¯å®è¯´ï¼Œæˆ‘åšäº†ä¸€ä¸ªç®€å•çš„â€œæŸ¥æ‰¾å’Œæ›¿æ¢â€å˜é‡ã€‚æˆ‘æŠŠè¯„è®ºé‡Œçš„â€œTFâ€æ¢æˆäº† IDFã€‚æˆ‘æŠŠâ€œ *TFVals* â€æ¢æˆäº†â€œ *IDFVals* â€ã€‚è¿™é‡Œæ²¡æœ‰å‘ç”Ÿä»€ä¹ˆé‡è¦çš„äº‹æƒ…ï¼Œæ‰€ä»¥å¯ä»¥è·³è¿‡è¿™ä¸€éƒ¨åˆ†ã€‚

```
function inverseDocumentFrequency(document){
    // calculates the inverse document frequency of every sentence
    const words_without_stopwords = prettify(document);
    const unique_words_set = uniqueWords(words_without_stopwords);

    const sentences = document.split(".").map(item => item.trim());
    sentences[0] = sentences[0].substring(146);

    const lengthOfDocuments = sentences.length;
    // prettifys each sentence so it doesn't have stopwords

    const wordCountAll = countWords(words_without_stopwords);

    // counts words of each sentence
    // as each sentence is a document
    wordCountSentences = [];
    for (let i = 0; i <= lengthOfDocuments - 1; i ++){
        wordCountSentences.push(countWords(prettify(sentences[i])));
    }

    // calculate TF values of all documents
    let IDFVals = {};

    // how many times that word appears in all sentences (documents)
    wordCountSentencesLength = wordCountSentences.length;
    // for every unique word
    for (let i = 0; i <= unique_words_set.length - 1; i++){
        let temp_add = 0;
        // count how many times unique word appears in all sentences
        for (let x = 0; x <= wordCountSentencesLength - 1; x++){
            if (unique_words_set[i] in wordCountSentences[x]){
                temp_add =+ 1;
            }
        }
        IDFVals[unique_words_set[i]] = Math.log10(wordCountAll[unique_words_set[i]] / temp_add);
    }

    let IDFSentences = {};
    // for every sentence
    for (let i = 0; i <= lengthOfDocuments - 1; i ++){
        // for every word in that sentence
        let sentence_split_words = sentences[i].split("  ");
        // get the assiocated IDF values of each word
        // temp.add is the "IDF" value of a sentence, we need to divide it at the end
        let temp_add = 0.0;
        let words_no_stop_words_length = prettify(sentences[i]).length;
        for (let x = 0; x <= sentence_split_words.length - 1; x++){
            // if the word is not a stopword, get the assiocated IDF value and add it to temp_add
            if (sentence_split_words[x].toLowerCase() in IDFVals){
                // adds all the IDF values up
                temp_add = temp_add + IDFVals[sentence_split_words[x].toLowerCase()];
            }
            else{
                // nothing, since it's a stop word.
            }
        }
        IDFSentences[sentences[i]] = temp_add / words_no_stop_words_length;
    }
    return IDFSentences;
} 
```

Enter fullscreen mode Exit fullscreen mode

<figure>[![](../Images/a23d46603dc4957f765600048a489a66.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--Ic839E6J--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/638/1%2Akxm0bf_KleZ31r1GszSw8g.png) 

<figcaption>æ—¢ç„¶æˆ‘ä»¬å·²ç»ç¼–å†™äº†ä»£ç æ¥è®¡ç®—è¯­å¥çš„ IDF å€¼ï¼›æˆ‘ä»¬å·²ç»å®Œæˆäº†å‰é¢çš„å…¬å¼ã€‚ã€Šæ˜¯ç‹—ã€‹IDF å€¼æœ€é«˜ã€‚</figcaption>

</figure>

æˆ‘ä»¬ç°åœ¨çŸ¥é“ä¸€ä¸ªå¥å­æ˜¯å¤šä¹ˆç‹¬ç‰¹æˆ–ç½•è§ã€‚è¿™æ²¡ä»€ä¹ˆç”¨ï¼Œå› ä¸ºæˆ‘ä»¬ä¹Ÿæƒ³è®©å¥å­åŒ…å«ä¸°å¯Œçš„ä¿¡æ¯ã€‚æˆ‘ä»¬å¸Œæœ›æœ‰æŸç§æ–¹å¼å°† TF çš„å—æ¬¢è¿ç¨‹åº¦ä¸ IDF çš„ç‹¬ç‰¹æ€§ç»“åˆèµ·æ¥ã€‚è¿™å°†å¼•å¯¼æˆ‘ä»¬è¿›å…¥ä¸‹ä¸€éƒ¨åˆ†â€¦

### TF-IDF é‡è®¿

æˆ‘ä»¬ç°åœ¨å·²ç»å®ç°äº† TF å’Œ IDF åŠŸèƒ½ã€‚å‰©ä¸‹å”¯ä¸€è¦åšçš„å°±æ˜¯å°†å®ƒä»¬ç›¸ä¹˜ã€‚

```
function TFIDF(documents){
    // calculates TF*IDF
    const TFVals = termFrequency(documents);
    const IDFVals = inverseDocumentFrequency(documents);

    let TFidfDict = {};

    for (const [key, value] of Object.entries(TFVals)){
        if (key in IDFVals){
            TFidfDict[key] = TFVals[key] * IDFVals[key];
        }
} 
```

Enter fullscreen mode Exit fullscreen mode

å¯¹è±¡ TF å’Œ IDF éƒ½æ¥è‡ªç›¸åŒçš„æ•°æ®ï¼Œæ‰€ä»¥ TF ä¸ä¼šåŒ…å« IDF ä¸­æ²¡æœ‰çš„å†…å®¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥éå†ä¸€ä¸ªå¯¹è±¡å¹¶ä½¿ç”¨åŒä¸€ä¸ªé”®ã€‚æˆ‘ä»¬å°† TFVals ä¸­çš„å€¼ä¹˜ä»¥ IDFVals ä¸­çš„å€¼ã€‚

æˆ‘ä»¬çš„ä¸‹ä¸€æ­¥æ˜¯è®¡ç®— TF-IDF å¯¹è±¡ä¸­æœ€é‡è¦çš„ 3 ä¸ªå¥å­ã€‚ç”¨å‡ ä¸ª if è¯­å¥è¿­ä»£å¯¹è±¡çš„*ã€keyï¼Œvalueã€‘*å¯ä»¥å¾ˆå¥½åœ°å·¥ä½œã€‚

```
function TFIDF(documents){
    // calculates TF*IDF
    const TFVals = termFrequency(documents);
    const IDFVals = inverseDocumentFrequency(documents);

    let TFidfDict = {};

    for (const [key, value] of Object.entries(TFVals)){
        if (key in IDFVals){
            TFidfDict[key] = TFVals[key] * IDFVals[key];
        }
    }

    let max = 0.0;
    let max2 = 0.0;
    let max3 = 0.0;

    let max_sentence = "";
    let max2Sent = "";
    let max3Sent = "";

    // finds the top 3 sentences in TFidfDict
    for (const [key, value] of Object.entries(TFidfDict)){
        if (TFidfDict[key] > max){
            max = TFidfDict[key];
            max_sentence = key;
        }
        else if (TFidfDict[key] > max2 && TFidfDict[key] < max){
            max2 = TFidfDict[key];
            max2Sent = key;
        }
        else if (TFidfDict[key] > max3 && TFidfDict[key] < max2 && TFidfDict[key] < max){
            max3 = TFidfDict[key];
            max3Sent = key;
        }
    }
    return ("<br>" + "â€¢" + max_sentence + "<br><br>" + "â€¢" + max2Sent + "<br><br>" + "â€¢" + max3Sent);
} 
```

Enter fullscreen mode Exit fullscreen mode

ä½ ä¼šåœ¨åº•éƒ¨çœ‹åˆ°æˆ‘ä»¬è¿”å›æ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬æŠŠå®ƒæ ¼å¼åŒ–ï¼Œè¿™æ ·å½“æˆ‘ä»¬æŠŠå®ƒæ’å…¥ç½‘é¡µæ—¶ï¼Œå®ƒçœ‹èµ·æ¥å¾ˆæ¼‚äº®ã€‚æ¯ä¸ª
æ˜¯ä¸€ä¸ª[æ¢è¡Œç¬¦ï¼Œ](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/br)æ˜¯æ–‡æœ¬ä¸­çš„ä¸€ä¸ªç©ºæ ¼ã€‚é»‘ç‚¹æ˜¯é¡¹ç›®ç¬¦å·ã€‚æˆ‘ä»¬ç°åœ¨è¦åœ¨ Firefox æ‰©å±•ä¸­å®ç°è¿™ä¸ªç®—æ³•ã€‚ğŸ”¥ğŸ¦Š

### è·å–&æ›´æ”¹ BBC æ–°é—»æ–‡ç« ä¸­çš„æ–‡æœ¬

è½¬åˆ°ä»»æ„ä¸€ç¯‡ [BBC](https://www.bbc.co.uk/news) æ–°é—»æ–‡ç« ï¼Œå³é”®ç‚¹å‡»å¹¶æŒ‰ä¸‹â€œinspect elementâ€ã€‚ä½ ä¼šåœ¨å±å¹•åº•éƒ¨çœ‹åˆ°ä¸€ä¸ªæ¼‚äº®çš„æ–¹æ¡†ã€‚ä½¿ç”¨å·¦ä¸Šè§’çš„å…ƒç´ é€‰æ‹©å™¨å·¥å…·ï¼Œå°†é¼ æ ‡æ‚¬åœåœ¨æ–‡ç« ä¸Šã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ•´ç¯‡æ–‡ç« éƒ½åŒ…å«åœ¨ä¸€ä¸ª CSS ç±»â€œstory-bodyâ€ä¸­ã€‚

[![](../Images/d18b7b789a0a1768b1470847befb4c99.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--g-g5Cov2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/0%2AgtYohYjQ76R6kjcU.png)

å¦‚æœæˆ‘ä»¬è¿›ä¸€æ­¥æ·±å…¥ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ–‡ç« ä¸­çš„æ‰€æœ‰å®é™…æ–‡æœ¬éƒ½åŒ…å«åœ¨è¿™ä¸ª CSS ç±»ä¸­çš„æ®µè½æ ‡è®°ä¸­ã€‚

[![](../Images/680511f0ed4a6351713ec9d2d4817932.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--jep_gphb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/0%2A5nY1VQtLqXTiPMHt.png)

æˆ‘ä»¬å°†ä½¿ç”¨ [JQuery](https://jquery.com/) æ¥é€‰æ‹©æ–‡æœ¬ã€‚

```
// get all text from .story-body within p tags on a BBC news web article
let $article = $('.story-body').find('p').text(); 
```

Enter fullscreen mode Exit fullscreen mode

è¿™ä¸€è¡Œé€‰æ‹© story-body ç±»ä¸­çš„æ‰€æœ‰ [< p >](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/p) æ ‡ç­¾ã€‚ç°åœ¨æˆ‘ä»¬æƒ³è¦å¾—åˆ°æ–‡æœ¬ï¼Œæˆ‘ä»¬é€šè¿‡åº”ç”¨*æ–¹æ³•æ¥å®ç°ã€‚æ­£æ–‡()*ã€‚

æˆ‘ä»¬æƒ³æŠŠæˆ‘ä»¬çš„æ–‡å­—æ·»åŠ åˆ°æ–‡ç« çš„é¡¶éƒ¨ã€‚JQuery æœ‰ä¸€ä¸ªåä¸º prepend çš„æ–¹æ³•ï¼Œå®ƒå…è®¸æˆ‘ä»¬å°†æ•°æ®æ·»åŠ åˆ°å¯¹è±¡çš„é¡¶éƒ¨ã€‚

```
// get all text from .story-body within p tags on a BBC news web article
let $article = $('.story-body').find('p').text();
// insert text into body of document
let insert = $('.story-body').prepend(TFIDF($article)); 
```

Enter fullscreen mode Exit fullscreen mode

æˆ‘ä»¬å®Œäº‹äº†ã€‚æˆ‘ä»¬ç°åœ¨å¯ä»¥è¯†åˆ« BBC æ–°é—»æ–‡ç« ä¸­æœ€é‡è¦çš„å¥å­ï¼Œå¹¶æ˜¾ç¤ºåœ¨é¡¶éƒ¨ã€‚åªæ˜¯æ—¶é—´æŠŠå®ƒå˜æˆä¸€ä¸ªå»¶ä¼¸ã€‚

### ç«ç‹æ‰©å±•åŸºç¡€çŸ¥è¯†

Firefox æ‰©å±•æœ‰ä¸¤ä¸ªä¸»è¦éƒ¨åˆ†ã€‚ä½ å†™çš„ Javascript å’Œ *manifest.json* æ–‡ä»¶å‘Šè¯‰ Mozilla ä½ çš„æ‰©å±•æ˜¯åšä»€ä¹ˆçš„ã€‚æˆ‘ä»¬ç°åœ¨æ­£åœ¨æ£€æŸ¥*æ¸…å•ã€‚* 

```
{  "manifest_version":  2,  "name":  "TL;DR - Summary of BBC news articles",  "version":  "1.0",  "description":  "This extension creates a summary of BBC news articles using TF*IDF",  "content_scripts":  [  {  "matches":  ["*://www.bbc.co.uk/news/*"],  "js":  ["jquery.js",  "tldr.js"]  }  ]  } 
```

Enter fullscreen mode Exit fullscreen mode

å‘Šè¯‰ Firefox ä½ æ­£åœ¨ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„æ¸…å•ã€‚ *Name* å‘Šè¯‰ Firefox ä½ çš„æ‰©å±•åæ˜¯ä»€ä¹ˆã€‚*ç‰ˆæœ¬*å‘Šè¯‰ç«ç‹ä½ çš„æ‰©å±•æ˜¯ä»€ä¹ˆç‰ˆæœ¬å·ã€‚è¿™ä¸‰ä¸ªæ˜¯å¿…é¡»çš„ã€‚

*æè¿°*å‘Šè¯‰ Firefox ä½ çš„æ‰©å±•æ˜¯åšä»€ä¹ˆçš„ã€‚

content_scripts å‘Šè¯‰ Firefox å½“ URL ä¸æ‚¨è¾“å…¥çš„å†…å®¹åŒ¹é…æ—¶åŠ è½½ä»€ä¹ˆè„šæœ¬ã€‚ä¸ºäº†è¿è¡Œæ‚¨æŒ‡å®šçš„è„šæœ¬ï¼Œå½“å‰ URL å¿…é¡»è‡³å°‘ä¸æ‚¨æŒ‡å®šçš„ä¸€ä¸ª URL åŒ¹é…ã€‚æ‚¨å¯ä»¥åœ¨è¿™é‡Œä½¿ç”¨ä¸¤ä¸ªç‰¹æ®Šå­—ç¬¦:

1.  " ***** "åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä¸çŸ¥é“ç”¨æˆ·å°†åŠ è½½ HTTP è¿˜æ˜¯ HTTPSï¼Œæ‰€ä»¥æˆ‘è®©å®ƒä¸€æ­¥åŠ è½½ä¸¤è€…ã€‚æˆ‘ä¹Ÿä¸çŸ¥é“ç”¨æˆ·ä¼šçœ‹å“ªç¯‡æ–‡ç« ï¼Œæ‰€ä»¥æˆ‘æŠŠå®ƒè®¾ç½®ä¸ºåœ¨ä»»ä½•æ–‡ç« ä¸Šæ¿€æ´»ã€‚

2.  **ï¼Ÿ**"æ°å¥½åŒ¹é…ä¸€ä¸ªå­—ç¬¦ã€‚

Mozilla å¼€å‘è€…ç½‘ç»œå¯¹è¿™äº›æœ‰ä¸€ä¸ªå¾ˆå¥½çš„è§£é‡Š:

æ¯”å¦‚:â€œ*naï¼Ÿæˆ‘â€ä¼šåŒ¹é…â€œå…‰æ˜ä¼šâ€å’Œâ€œå®‰é²é‚£åŸºâ€ï¼Œä½†ä¸ä¼šåŒ¹é…â€œè¨æ ¼é‚£åˆ©â€ã€‚

å› ä¸ºæˆ‘ä»¬å°†ä½¿ç”¨ jQueryï¼Œæ‰€ä»¥åœ¨è„šæœ¬æ‰§è¡Œä¹‹å‰ï¼Œæˆ‘ä»¬ä¹Ÿå°† jQuery JS æ–‡ä»¶å¯¼å…¥åˆ°ç½‘ç«™ä¸­ã€‚ä½ å¯ä»¥ä»[è¿™é‡Œ](https://code.jquery.com/jquery-3.3.1.slim.js)æŠ“å– jQuery æ–‡ä»¶ã€‚å¤åˆ¶ç²˜è´´åˆ°ä¸€ä¸ªåä¸º*â€œjquery . jsâ€*çš„æ–‡ä»¶ä¸­ã€‚

åœ¨æ‚¨çš„ Firefox URL ä¸­è¾“å…¥â€œ *about:debugging* â€æ¥åŠ è½½è¯¥é¡µé¢:

[![](../Images/8b6fd146f4a38b21f47b6cf35a6bb35a.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--j8m-BqrR--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/0%2AG8AooP4-C9x4vjHK.png)

ä»è¿™é‡Œï¼Œç‚¹å‡»*â€œåŠ è½½ä¸´æ—¶é™„ä»¶â€¦â€¦â€*ï¼Œç„¶åç‚¹å‡»æ‰©å±•ä¸­çš„ä»»ä½•æ–‡ä»¶ã€‚ä¸€æ—¦ä½ è¿™æ ·åšäº†ï¼Œä½ åº”è¯¥çœ‹åˆ°è¿™ä¸ª:

[![](../Images/c3b5830b8ad5860c199a228dbfe3316c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--klbb_5po--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/0%2AL0rVhBpG2bOjkxt9.png)

Mozilla æœ‰ä¸€ç¯‡å…³äºç«ç‹æ‰©å±•åŸºç¡€çš„å¥½æ–‡ç« ã€‚

ç°åœ¨åŠ è½½ä»»æ„ä¸€ç¯‡ BBC æ–°é—»æ–‡ç« æ¥ç©å§ï¼

### ç»“è®º

æ‚¨ç°åœ¨å·²ç»çœ‹åˆ°äº† TF-IDF çš„å¼ºå¤§åŠŸèƒ½ä»¥åŠå®ƒçš„å®é™…åº”ç”¨ã€‚æˆ‘æœ‰è¿™ä¸ªæƒ³æ³•æ˜¯å› ä¸ºæˆ‘æœ‰ç”µå­é‚®ä»¶ç„¦è™‘ç—‡ã€‚æˆ‘å¯¹é˜…è¯»ç”µå­é‚®ä»¶æ„Ÿåˆ°éå¸¸ç´§å¼ ï¼Œæ‰€ä»¥æˆ‘æƒ³è¦ä¸€ä¸ªå¿«é€Ÿçš„æ‘˜è¦æ¥å¹³é™æˆ‘çš„æ€ç»ªã€‚å”‰ï¼Œè¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å†™ Javascriptã€‚æˆ‘å¼€å§‹åšä¸€äº›æ¯”è¾ƒå®¹æ˜“çš„ä¸œè¥¿ï¼Œæ¯”å¦‚ BBC æ–°é—»æ–‡ç« ã€‚

å¦‚æœä½ æ„¿æ„çš„è¯ï¼Œä¸‹é¢æ˜¯ä¸€äº›æ”¹è¿›è¿™äº›ä»£ç çš„æ–¹æ³•:

*   åŠ¨æ€é€‰æ‹©ä½ æƒ³è¦çš„æ‘˜è¦ä¸­çš„å¥å­æ•°é‡ã€‚æ‚¨å¯ä»¥åœ¨æ•´ç¯‡æ–‡ç« ä¸­æ‰¾åˆ°å¹³å‡ TF*IDF å€¼ï¼Œä»¥åŠå¯ä»¥åŒ…å«åœ¨æ‘˜è¦ä¸­çš„ä»»ä½•è¶…è¿‡ X çš„å€¼ã€‚è¿™ä½¿å¾—é•¿æ–‡ç« å’ŒçŸ­æ–‡ç« è¢«åŒç­‰å¯¹å¾…ã€‚
*   æ‰©å±•è¿™ä¸€å·¥ä½œåœ¨ä»»ä½•å…¶ä»–ç½‘ç«™ä¸Šä½ æƒ³ã€‚

**æƒ³æˆä¸ºæ›´å¥½çš„å¼€å‘è€…ï¼Ÿæ³¨å†Œæˆ‘çš„ç”µå­é‚®ä»¶åˆ—è¡¨ã€‚[ç‚¹å‡»æ­¤å¤„äº†è§£æ›´å¤šä¿¡æ¯ã€‚](https://pages.convertkit.com/2ffbe6834c/8444e0640e)ä½ ä¼šæ”¶åˆ° 7 ç¯‡æ¯æ—¥ä¸€ç¯‡çš„æˆ‘çš„æœ€ä½³å†…å®¹ã€‚æ²¡æœ‰åƒåœ¾é‚®ä»¶ã€‚æ²¡æœ‰æ‰¿è¯ºã€‚éšæ—¶é€€è®¢ã€‚**

* * *