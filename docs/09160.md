# åœ¨ PHP ä¸­ä» STDIN è¯»å–å¯†ç 

> åŸæ–‡:[https://dev . to/mykeels/reading-passwords-from-stdin-in-PHP-1np 9](https://dev.to/mykeels/reading-passwords-from-stdin-in-php-1np9)

å¤§å®¶å¥½ï¼Œ

æœ€è¿‘ï¼Œæˆ‘ä¸å¾—ä¸åˆ›å»ºä¸€ä¸ªä»£è¡¨ç”¨æˆ·æäº¤ä¸€äº›æ•°æ®çš„ [artisan å‘½ä»¤](https://laravel.com/docs/5.6/artisan)ã€‚

æˆ‘éœ€è¦å®ƒè·å¾—ç”¨æˆ·çš„å¯†ç æ‰èƒ½åšåˆ°è¿™ä¸€ç‚¹ã€‚

æˆ‘é¦–å…ˆæƒ³åˆ°çš„æ˜¯å°†å¯†ç å­˜å‚¨åœ¨ä¸€ä¸ªç¯å¢ƒå˜é‡ä¸­ã€‚æˆ‘çœŸçš„ä¸æƒ³è¿™ä¹ˆåšï¼Œæˆ‘æ›´å–œæ¬¢è®©è„šæœ¬çš„ç”¨æˆ·åœ¨æ¯æ¬¡éœ€è¦çš„æ—¶å€™è¾“å…¥å¯†ç ã€‚

[![](../Images/66badea3a8405ef504844d29ca14456e.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--qjqpxjtZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/http://cdn.osxdaily.com/wp-content/uploads/2015/02/typing-password-into-terminal.jpg)

<center><small><u>[Secure Password Prompt](http://osxdaily.com/2015/02/04/terminal-wont-show-password-when-typed)</u><small></small></small></center>

 <small>## [](#how-it-was-done)è¿™æ˜¯æ€ä¹ˆåšåˆ°çš„

ç¡®ä¿å®‰å…¨åœ°è¾“å…¥å¯†ç æ˜¯å¾ˆé‡è¦çš„(ä¹Ÿæ˜¯ä¸å¯è§çš„)ï¼Œæ‰€ä»¥æˆ‘ç ”ç©¶äº†å¦‚ä½•è¾“å…¥ï¼Œä¸‹é¢æ˜¯æˆ‘æƒ³åˆ°çš„ã€‚

```
private function getPassword($prompt = "Enter Password:") {
    echo $prompt;

    system('stty -echo');

    $password = trim(fgets(STDIN));

    system('stty echo');

    return $password;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#how-i-understand-it)æˆ‘æ˜¯æ€ä¹ˆç†è§£çš„

æˆ‘ç°åœ¨ç†è§£çš„`stty`å‘½ä»¤[è®¾ç½®ç»ˆç«¯å±æ€§](https://www.thinkage.ca/gcos/expl/stty.html)ã€‚

*   `stty -echo`å°†`echo`å±æ€§è®¾ç½®ä¸º falseï¼Œè¿™æ ·ç»ˆç«¯å°±ä¸ä¼šå°†æ¥æ”¶åˆ°çš„è¾“å…¥å›æ˜¾åˆ°å±å¹•ä¸Šï¼Œä»è€Œä½¿å¯†ç ä¸å¯è§

*   `fgets(...)`ä»æµæ¥å£(STDIN)è·å–è¾“å…¥ã€‚

*   `STDIN`æ˜¯`fgets`ä»ä¸­è¯»å–è¾“å…¥çš„[è¾“å…¥æµ](https://en.wikipedia.org/wiki/Standard_streams#Standard_input_(stdin))

*   `stty echo`å°†`echo`å±æ€§æ¢å¤ä¸º trueï¼Œå› æ­¤æˆ‘ä»¬ç°åœ¨å¯ä»¥å†æ¬¡åœ¨å±å¹•ä¸Šçœ‹åˆ°è¾“å‡º

æˆ‘å¸Œæœ›ä½ å’Œæˆ‘ä¸€æ ·ï¼Œä»è¿™ä»¶äº‹ä¸­å­¦åˆ°äº†ä¸€äº›ä¸œè¥¿ã€‚å¿«ä¹ç¼–ç ã€‚ğŸ˜</small>