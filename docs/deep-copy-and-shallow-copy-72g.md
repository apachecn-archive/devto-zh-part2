# 深层拷贝和浅层拷贝

> 原文：<https://dev.to/itscoderslife/deep-copy-and-shallow-copy-72g>

这是计算机科学的一个重要概念。你可能在日常工作中很少听到这个词，但是你的工作会直接或间接地涉及到内存管理的主要概念之一。让我们深入研究一下。

> 这是一个场景——假设你有一个 5 人团队。您在 Google Drive 上创建了一个文档，并与您的团队成员共享了该文档的链接。

现在如何使用/消费文档取决于成员。主要有两种方式:

1.  一种是:直接使用在线版本来阅读/更新，或者如果有人更新，你可以直接获得最新的更新。人们可以现场看到这些变化。
2.  另一种方法是:下载一份拷贝到你的本地系统，按照你的意愿使用它，操纵它，更新它，而不改变云中的原始拷贝。

就是这样。如果你知道上面两者的区别，你就有了概念！第一个是文档的**浅拷贝**，第二个是文档的**深拷贝**。

现在，让我用这个类比来解释 Objective-C 和 Swift 的内存管理概念。

*   **strong** :将 doc 添加到自己驱动器的成员。即使原件被删除，单据也不会被删除。引用链接仍然指向文档
*   **弱**:删除单据时会通知对单据有访问权限的成员。现在引用链接将无效。它将指向零。
*   **分配**:删除单据时，**不会**通知有权访问单据的成员。现在引用链接将无效。如果链接被访问，应用程序崩溃。
*   **副本**:成员将文档副本下载到自己的系统中。如果它们中的任何一个被修改或删除，都不会产生影响。占用额外的内存，不像上面 3 个引用相同的内存位置。**可变副本**是指文件下载时具有读写权限。

以上 4 条陈述可能适用于 Google drive，也可能不适用于 Google drive，只是用来解释这个概念。

## **优点&缺点:**

#### 浅抄

*   存储在云中的文档链接
*   所有者和管理员是强有力的参考
*   非管理员将具有弱引用
*   文件的更改将通知每个成员

#### 深度复制

*   下载到本地系统的文档
*   消耗额外的存储
*   如果云中的一些变化不影响您的本地系统
*   无论您在本地做了什么更改，都不会影响云版本

我做了这个类比，因为我发现将这两个概念联系起来更容易理解。让我知道，如果你觉得这很难或失踪。请在下面分享你的评论。

*happy coding()；*

 [![Dam's DEV Profile](../Images/864c8cf24c0550953b8fad29c1ebfb59.png)

T6】](https://dev.to/itscoderslife)