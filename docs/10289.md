# åœ¨ Javascript ä¸­è®¡ç®— UTF-8 å­—ç¬¦çš„å¿«é€Ÿç®€å•çš„æ–¹æ³•

> åŸæ–‡:[https://dev . to/cool goose/quick-and-easy-way-of-counting-utf-8-characters-in-JavaScript-23ce](https://dev.to/coolgoose/quick-and-easy-way-of-counting-utf-8-characters-in-javascript-23ce)

é˜…è¯»ä¸‹é¢å…³äºæ˜¾ç¤ºæ–‡æœ¬åŒºå­—ç¬¦æ•°çš„ VueJS ç»„ä»¶çš„æ•™ç¨‹è®©æˆ‘æ€è€ƒäº†ä¸€ä¸‹ã€‚

ä½ çœ‹ï¼Œé—®é¢˜æ˜¯å½“ Javascript æœ€åˆè¢«åˆ›å»ºæ—¶ï¼Œå®ƒæ²¡æœ‰é€‚å½“çš„ UTF-8 æ”¯æŒã€‚Javascript çš„å†…éƒ¨ç¼–ç æ˜¯ UCS-2 æˆ– UTF-16ï¼Œè¿™å–å†³äºæ‚¨åœ¨äº’è”ç½‘ä¸Šæ‰¾åˆ°çš„æ–‡ç« ã€‚(å®é™…ä¸Šï¼Œ2012 å¹´æœ‰ä¸€ç¯‡å¾ˆæ£’çš„[æ–‡ç« è¯¦ç»†è§£é‡Šäº†è¿™ä¸€ç‚¹)ã€‚](https://mathiasbynens.be/notes/javascript-encoding)

ä½ è¯´çš„æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿè¿™å¾ˆç®€å•ï¼Œå¦‚æœä½ è¯•å›¾è·å–ä¸€ä¸ªåŒ…å« UTF 83/4 å­—èŠ‚(ç¿»è¯‘æˆ UTF-16 ä»£ç†å¯¹å­—ç¬¦)çš„å­—ç¬¦ä¸²çš„*é•¿åº¦*å±æ€§ï¼Œä½ çš„é•¿åº¦å°†ä¸ºæ¯ä¸ªå­—ç¬¦è¿”å› **2** ã€‚

> è¿™é€šå¸¸å¯èƒ½ä¸æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œä½†æ˜¯å¦‚æœæ‚¨çš„å¯†ç ç­–ç•¥æœ‰ 8 ä¸ªå­—ç¬¦ï¼Œå¯ä»¥ç”¨ 4â€æ¥å¡«å……ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªå¤§é—®é¢˜ğŸ˜¹ğŸ¶ğŸ˜¹ğŸ¶â€(å¥½å§ï¼Œä¸æ˜¯æœ€å¥½çš„ä¾‹å­ï¼Œä½†æ˜¯å¤§å®¶éƒ½å–œæ¬¢çŒ«å’Œç‹—)

```
let lengthTest = "ğŸ˜¹ğŸ¶ğŸ˜¹ğŸ¶";
console.log(lengthTest.length);
// will display 8 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ï¼Œç”¨ç°ä»£ Javascript è§£å†³è¿™ä¸ªé—®é¢˜ç›¸å½“å®¹æ˜“ï¼Œå› ä¸ºå®ƒåœ¨æ•°ç»„ä¸­æ­£ç¡®åœ°æ”¯æŒä»£ç†ï¼Œå¹¶ä¸”ä½¿ç”¨[æ•°ç»„ææ„](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment)ä½¿å®ƒæˆä¸ºä¸€ä¸ªå¿«é€Ÿç®€å•çš„ä¸€è¡Œã€‚

```
let lengthTest = "ğŸ˜¹ğŸ¶ğŸ˜¹ğŸ¶";
console.log([...lengthTest].length);
// will display 4 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘å¾ˆæƒ³çŸ¥é“ä½ å¯¹ UTF-8 æœ‰æ²¡æœ‰ä»€ä¹ˆå¥‡æ€ª/æœ‰è¶£çš„ç»å†

PS:ä½¿ç”¨[è¿™ä¸ªé“¾æ¥](http://unicodebook.readthedocs.io/unicode_encodings.html)å¯¹ Unicode ç¼–ç è¿›è¡Œç®€å•çš„è§£é‡Š