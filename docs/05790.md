# å…·æœ‰æ¸²æŸ“é“å…·çš„å¯æ‚¬æµ®ç»„ä»¶

> åŸæ–‡:[https://dev . to/ruiclarateixeira/hoverable-component-with-render-props-327 a](https://dev.to/ruiclarateixeira/hoverable-component-with-render-props-327a)

è¿™ä¸ªæ˜ŸæœŸï¼Œæˆ‘ä¸å¾—ä¸ä¸ºä¸€ä¸ªç»„ä»¶å®ç°ä¸€äº› onHover è¡Œä¸ºï¼Œä½†æ˜¯æˆ‘æƒ³è®©å®ƒå¯é‡ç”¨ï¼Œå¹¶ä¸”ä¸æŠŠå®ƒä½œä¸ºæˆ‘çš„ç»„ä»¶çŠ¶æ€çš„ä¸€éƒ¨åˆ†ã€‚

åœ¨è¿‡å»çš„ 6 ä¸ªæœˆé‡Œï¼Œæˆ‘ä¸€ç›´åœ¨å…¨èŒå¼€å‘ Reactï¼Œæ‰€ä»¥ä¸€ç›´åœ¨åŠªåŠ›æƒ³å‡ºä¸€ä¸ªå¹²å‡€çš„æ–¹æ³•æ¥åšè¿™ä»¶äº‹ã€‚

å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä¹Ÿå¼€å§‹çœ‹ [@kentcdodds](https://dev.to/kentcdodds) çš„[é«˜çº§ååº”æ¨¡å¼](https://blog.kentcdodds.com/updated-advanced-react-component-patterns-51c34b44b1df)ï¼Œä»–è§£é‡Šäº†å¦‚ä½•ä½¿ç”¨æ¸²æŸ“é“å…·æ¥å®ç°è¿™ä¸€ç‚¹ã€‚

æ‰€ä»¥æˆ‘ç”¨ä¸€ä¸ªæ¸²æŸ“é“å…·(children)å®ç°äº†`Hoverable`ã€‚ç„¶åï¼Œæˆ‘å¯ä»¥å°†æˆ‘çš„ç°æœ‰ç»„ä»¶ä¼ é€’ç»™å®ƒï¼Œå®ƒæ¥å—ä¸€ä¸ªå±æ€§`hovered`ï¼Œæˆ‘å¯ä»¥è½»æ¾åœ°å°†å®ƒé‡æ–°ç”¨äºå…¶ä»–ç»„ä»¶ã€‚

[![Demo of usage in CodeSandbox](../Images/d48040c57b3c55196d0fb4b9219819e4.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Q_hW4wkT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/duco99rsp98pm2931t5i.gif)

ä¸‹é¢æ˜¯æˆ‘å¦‚ä½•å®ç°çš„ä¸€ä¸ªä¾‹å­ã€‚æ‚¨ä¹Ÿå¯ä»¥åœ¨è¿™ä¸ª[ä»£ç æ²™ç®±](https://codesandbox.io/s/428k7zr2m9)ä¸­æ‰¾åˆ°å®ƒ

ä½¿ç”¨ Typescriptï¼Œæˆ‘ä¸èƒ½ä½¿ç”¨`children`ä½œä¸ºé“å…·ï¼Œæ‰€ä»¥æˆ‘ä½¿ç”¨äº†`render`é“å…·...å­—é¢æ„æ€ï¼ä½ å¯ä»¥çœ‹åˆ°åœ¨è¿™ä¸ª[ä»£ç æ²™ç›’](https://codesandbox.io/s/wr07w001k)

```
import React from "react";
import ReactDOM from "react-dom";

import "./styles.css";

class Hoverable extends React.Component {
    state = { hovered: false };
    render() {
        return (
            <div
                onMouseEnter={() => this.setState({ hovered: true })}
                onMouseLeave={() => this.setState({ hovered: false })}
            >
                {this.props.children(this.state.hovered)}
            </div>
        );
    }
}

function App() {
    return (
        <Hoverable>
            {hovered => <div>{hovered ?  "ğŸ”¥" : "ğŸ¦„"}</div>}
        </Hoverable>
    );
}

const rootElement = document.getElementById("root");
ReactDOM.render(<App />, rootElement); 
```

Enter fullscreen mode Exit fullscreen mode