# 服务工作者终于登陆 iOS 了！现在怎么办？

> 原文:[https://dev . to/on inross/service-workers-has-finally-landed-in-IOs-now-what-110 o](https://dev.to/oninross/service-workers-has-finally-landed-in-ios--now-what-110o)

## iOS 11.3 到底有什么重要的？

给用户带来了很多更新。其中大多数都为用户带来了更好的体验，如新的 AR 体验、Animoji 和 11.2 版本中一直困扰 iPhone 用户的电池修复。然而，有一个让前端开发人员兴奋不已的功能却没有在苹果新闻和博客中提及——服务人员的到来。

2017 年 12 月 20 日，WebKit 在推特上发布了 Safari 技术预览版的发行说明，服务人员被默认启用。

这是什么意思？渐进式网络应用(PWA)即将登陆 iOS 设备！服务人员是每个公共福利协会的核心。几个月来，开发人员耐心地等待服务人员正式进入 iOS 设备。我们都希望在 3 月的活动中发布，但甚至没有被提及。

## 无声的释放

当 Twitter-verse 仍在抱怨电池问题，并大声疾呼苹果公司已经放弃更新时，我放弃了希望。几天后，他们确实在没有任何重大新闻的情况下放弃了更新。我拿了一部更新的 iPhone 看看有什么功能，然后访问 [whatwebcando.today](https://whatwebcando.today/) 查看这些功能，这是我看到的:

[![WhatWebCanDoToday Feature Table](../Images/d8c0d1ab5bac35c915f6ed1c02c520f7.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--meLr_54s--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/http://adelphi.digital/articles/service-workers-on-ios/whatwebcandotoday.png)

*   脱机存储
*   ✔️离线模式
*   ❌本地通知
*   ❌推送消息
*   ❌主屏幕安装

这些是可以为 Android 和 iOS 提供无缝体验的最重要的功能。这些功能在 Android 中已经默认启用，以提供“类似应用程序”的体验。我们现在只是在等 iOS 来玩追赶。

## 为什么这些特性对 PWA 很重要？

PWA 的核心支柱是可靠、快速和吸引人。这些支柱增强了移动和桌面网站的用户体验。

可靠意味着当它从用户的主屏幕启动时，无论网络状态如何，它都会立即加载。没有“停机时间”,也永远看不到下一代。PWAs 将安装在用户的主屏幕(主屏幕安装)和缓存(离线存储/模式)上，这是无需在应用商店的应用海洋中搜索即可带来最佳体验的必要资产。

引人入胜意味着 PWAs 在设备上感觉像一个自然的应用程序，可以安装在用户的主屏幕上(主屏幕安装),而不需要应用程序商店。最重要的是，推送通知(本地通知和推送消息)有助于用户重新参与网站。这些推送通知曾经只属于应用程序，现在它已经来到了移动网络。

## 那么，一个 PWA 在 iOS 中能做什么，不能做什么呢？

目前你能做的只有 iOS 的离线缓存。我设法修补了我在 iOS 上开发的一些 pwa。以下是我的发现:

### ✔️离线缓存

万岁！一个 PWA 的第一步已经登陆 iOS。借助这一功能，服务人员将缓存必要的资产以供离线使用或在网络不可靠时使用。这将比平时更快地启动 PWA(一旦安装),让用户保持参与，而不是放弃。这有助于任何静态或小册子类型的应用程序，其中网络连接可能是蹩脚的。安装后，用户可以浏览应用程序，而不需要太依赖网络。

### ❌Home 屏幕安装

这一个对我来说是一个交易破坏者。我喜欢 PWA 的一个特点是让用户知道他们可以在主屏幕上点击一个按钮来“安装”PWA。这还没有在 iOS 设备上实现，希望我们能在未来看到这一点。解决方法是为 iOS 设备创建“添加到主屏幕横幅”。它将给出如何将 PWA 添加到主屏幕的简单说明。

### ✔️/❌Offline 模式

一旦用户将 PWA 添加到主屏幕上，设备就会启动 PWA 的另一个实例。这意味着，如果用户在离线或在糟糕的网络中从主屏幕启动了 PWA，它将从头开始再次加载 PWA 并再次缓存它。不仅麻烦——对 iOS 用户来说也不是什么好的用户体验。

### ❌Local 通知/推送消息

如果这一功能成功登陆 iOS 设备，这可能是原生应用的死亡。这使用户能够在移动设备上接收通知，而无需安装应用程序，并让用户快速参与。

## 苹果需要奋起直追

自从 iPhone 3Gs 推出以来，我们一直对苹果抱有很高的期望。随着苹果在网络技术上的落后，他们必须赶上最新的趋势。我们开发人员将不得不在等待更多的服务人员特性方面多一点耐心。它会到达那里，我们实际上没有想到服务人员会登陆 iOS，因为这可能是他们的应用程序商店死亡的原因。

这是一个开始。其余的最终会跟上