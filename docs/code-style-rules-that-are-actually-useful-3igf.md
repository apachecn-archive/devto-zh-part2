# 实际有用的代码风格规则

> 原文：<https://dev.to/vonheikemen/code-style-rules-that-are-actually-useful-3igf>

警告:下面只是一个长篇大论，关于我所做的帮助我写出像样的代码的事情(至少在我的机器上)。

让我们从一些我认为没用的规则开始，但是它们有一些隐藏的价值，一些人可能会欣赏。

### 最大行长度为 80 个字符

在 javascript 生态系统中，有一个很棒的工具叫做 prettle，它会对你的代码施一些魔法，让你的代码看起来很漂亮。Prettier 将每行的最大长度设置为 80 个字符，起初我并没有考虑太多。有一天，我决定在一个附带项目中添加一些单元测试，我发现自己希望终端总是在视线范围内，这样我就可以在观看模式下执行这些测试时看到它们的结果，美妙的事情发生了，突然我可以有一个体面的附带终端窗口，与崇高的文本并排打开，我可以看到一个功能的完整代码，而不用担心水平滚动。那一刻太神奇了。

### 编写具有三个或更少参数的函数

一个不带任何参数的函数，通常意味着它有副作用。我尽量避免这些。如果它有一个参数，那么它可能会返回一些东西，如果它有两个参数，那么这意味着它是可配置的，这很酷，但是关于这个函数还有一点需要记住。当你在函数中加入第三个参数时，事情就变得棘手了，这时候我必须小心，因为这可能意味着函数试图做很多事情。如果第三个参数只在一些奇怪的边缘情况下使用，那么我只是添加了一个好的默认值，并让它保持不变。

但是当我有一个需要三个参数并且经常使用的函数时会发生什么呢？在这种情况下，我停下来，再看一下那个函数，试着在那个函数中寻找一段代码，我可以突出显示，并快速想出一个名字，如果我能做到，那么这一部分就进入一个单独的函数。

在不可避免的情况下，我需要四个或更多的参数，然后我返回到一个参数，使它和对象称为“选项”或“数据”，并继续写，直到我完成核心功能。如果可能的话，我会编写一些 helper 函数，这些函数有一些“选项”对象的预定义组合，以避免调用带有长参数列表的函数的痛苦。

### 编写简短函数

有多短？25 行。为什么是 25 行？没有特别的原因，只是一个任意的数字。这个规则的要点是有办法知道什么时候停下来想一想我写的东西。大多数时候，我意识到我试图在一个函数中做太多的事情。

为了避免长函数，我做了前面提到的事情，尝试寻找一段代码并给它命名。

拥有一堆小函数的一个奇妙的结果是，我可以通过以给定的顺序调用这些小函数来组成复杂的函数。如果我真的做对了，那么我可以在应用程序的另一个上下文中重用这些小函数中的一个，或者更好，在另一个项目中重用。

### 结论

有些规则是好的。而且，我终于写了一篇博文。呜哇！

回到正题。如果你不喜欢这个规则，没关系。制定你自己的规则，至少你会在编写代码时获得一致性，其他人或你未来的自己会为此感谢你。

### 后记/后记

哇！你已经走到这一步了。感谢您阅读本文。我不经常用英语写临时博客，所以如果你发现什么不对，请告诉我。