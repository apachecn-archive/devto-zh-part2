# å®ç”¨ç±»å‹:ä»€ä¹ˆæ˜¯ç±»å‹ï¼Ÿ

> åŸæ–‡:[https://dev . to/stereo booster/practical-types-what-is-types-45jn](https://dev.to/stereobooster/pragmatic-types-what-are-types-45jn)

è¿™ç¯‡æ–‡ç« çš„ç›®çš„æ˜¯ç»™ä½ ä¸€ä¸ªæ¨ç†ç±»å‹çš„æ¡†æ¶(åœ¨ç¼–ç¨‹ä¸­)ï¼Œæˆ‘ä¸ä¼šè¯•å›¾ç»™å‡ºä¸€ä¸ªè¯¦å°½çš„ã€æ•°å­¦ä¸Šå®Œå…¨æ­£ç¡®çš„ç±»å‹å®šä¹‰ã€‚

å¦å¤–ï¼Œä¸€äº›æ•°å­¦å®¶è®¤ä¸ºç±»å‹æ²¡æœ‰å•ä¸€çš„å®šä¹‰ï¼Œè¿™å¾ˆå¥½ã€‚

## [](#definition)å®šä¹‰

ç±»å‹æ˜¯é¡¹ç›®çš„é›†åˆï¼Œé€šå¸¸å…·æœ‰è¯¥ç±»å‹å…è®¸çš„ä¸€äº›å…¬å…±å±æ€§ã€ç»“æ„å’Œæ“ä½œã€‚

æˆ‘æ•…æ„ç”¨â€œé›†åˆâ€è¿™ä¸ªè¯æ¥ä»£æ›¿â€œé›†åˆâ€ï¼Œå› ä¸ºé›†åˆåœ¨æ•°å­¦ä¸­æœ‰ç¡®åˆ‡çš„å«ä¹‰ã€‚

ä¾‹å¦‚

```
Cars: ğŸš™, ğŸšŒ, ğŸšœ.
Fruits: ğŸ‹, ğŸ, ğŸ“. 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºè¿™äº›ç±»å‹å®šä¹‰æ“ä½œ

```
To drive <a car>
To eat <a fruit> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·åš

```
To drive ğŸš™
To eat ğŸ‹ 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½†æ˜¯å¦‚æœæˆ‘ä»¬æ··æ·†äº‹ç‰©ä¼šå‘ç”Ÿä»€ä¹ˆ

```
To drive ğŸ‹ 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

é©±æœæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿè¿™ä¸ªæ“ä½œçš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ

```
TypeError: you can not drive fruits. Duh! 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç»“æœå°±æ˜¯æ‰¯æ·¡ã€‚åŒæ ·ï¼Œä½ å¯ä»¥è¯´è¿™æ˜¯ä¸€ä¸ªæœªå®šä¹‰çš„å€¼ï¼Œå°±åƒè¢«é›¶é™¤çš„ç»“æœåœ¨æ•°å­¦ä¸Šæ˜¯æœªå®šä¹‰çš„ä¸€æ ·ã€‚äººç±»ä¸çŸ¥é“ç­”æ¡ˆã€‚

å¦‚ä½ æ‰€è§ï¼Œç±»å‹å’Œç±»å‹é”™è¯¯ä¸æ˜¯è®¡ç®—æœºç‰¹æœ‰çš„ã€‚ç±»å‹å› ä¸ºäººç±»è€Œå­˜åœ¨ã€‚äººç±»å–œæ¬¢å‘ç°æ¨¡å¼ï¼Œæ ¹æ®å±æ€§å¯¹å¯¹è±¡è¿›è¡Œåˆ†ç»„ï¼Œç„¶åå¯¹æ•´ä¸ªç»„åšå‡ºç»“è®ºã€‚

ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬å…³äºç±»å‹çš„æƒ³æ³•åœ¨è®¡ç®—æœºä¸–ç•Œä¸­æ˜¯å¦æˆç«‹ã€‚

```
Cars: ğŸš™, ğŸšŒ, ğŸšœ.     â†’ Number
Fruits: ğŸ‹, ğŸ, ğŸ“.   â†’ String

To drive ğŸš™            â†’ To multiply numbers
To eat ğŸ‹              â†’ To concatenate strings 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[æµ](https://flow.org/try/#0EQQ2AICpwRiA)

```
"a" * 1
Cannot perform arithmetic operation because string [1] is not a number. 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[æ‰“å­—ç¨¿](http://www.typescriptlang.org/play/#src=%22a%22%20*%201)

```
"a" * 1
The left-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type. 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[åŸå› ](https://reasonml.github.io/en/try.html?reason=EQQ2AICpwRiA)

```
"a" * 1
Line 1, 8: This expression has type string but an expression was expected of type int 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

JavaScript

```
"a" * 1
NaN 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

NaN ä»£è¡¨çš„ä¸æ˜¯ä¸€ä¸ªæ•°å­—ã€‚ã€IEEE(ç”µæ°”å’Œç”µå­å·¥ç¨‹å¸ˆåä¼š)å°±æ˜¯è¿™æ ·ç§°å‘¼ç®—æœ¯è¿ç®—çš„æ— æ„ä¹‰å€¼çš„ã€‚

## [](#nan-and-how-to-handle-errors)æ¥ åˆå¦‚ä½•å¤„ç†é”™è¯¯

ä»æœºå™¨çš„è§’åº¦æ¥çœ‹ï¼Œæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥å¤„ç†é”™è¯¯:

1.  å¼•å‘å¼‚å¸¸ã€‚CPU å°†åœæ­¢å½“å‰æŒ‡ä»¤çš„æ‰§è¡Œï¼Œå¹¶è·³è½¬åˆ°é”™è¯¯å¤„ç†åŠŸèƒ½

2.  è¿”å›è¡¨ç¤ºé”™è¯¯çš„ç‰¹æ®Šå€¼ã€‚CPU å°†ç»§ç»­æ‰§è¡Œå½“å‰æŒ‡ä»¤

è¿™ä¸ªç‰¹æ®Šçš„æ— æ„ä¹‰å€¼å¾ˆæ£˜æ‰‹ï¼Œå› ä¸ºä½ ä¸èƒ½ç”¨å®ƒåšä»»ä½•äº‹æƒ…

```
nonsense + 1 = ? (nonsense)
nonsense * 1 = ? (nonsense)
nonsense / 1 = ? (nonsense) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸€æ—¦ä½ åœ¨è®¡ç®—è¿‡ç¨‹ä¸­å¾—åˆ°ä¸€ä¸ªå€¼ï¼Œå®ƒå°±ä¼šåœ¨è®¡ç®—ç»“æŸæ—¶æ˜¾ç°å‡ºæ¥ã€‚è¿™ä¹Ÿå«åšæœ‰æ¯’ä»·å€¼ğŸ’€ã€‚ä¸€æ—¦å®ƒè¿›å…¥ç³»ç»Ÿï¼Œä¸€åˆ‡éƒ½ä¼šä¸­æ¯’ã€‚

è¿™äº›å€¼å¾ˆéš¾è°ƒè¯•ï¼Œå› ä¸ºé”™è¯¯çš„ç»“æœå¯ä»¥åœ¨è¿œç¦»é”™è¯¯å‘ç”Ÿçš„åœ°æ–¹å‘ç°ï¼Œå¹¶ä¸”æ²¡æœ‰ç•™ä¸‹ä»»ä½•ç—•è¿¹ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå®ƒæ˜¯éå¸¸ä¸é¼“åŠ±ä½¿ç”¨å®ƒã€‚

## [](#what-is-type-checking)ä»€ä¹ˆæ˜¯ç±»å‹æ£€æŸ¥ï¼Ÿ

ç­”æ¡ˆå¾ˆç®€å•â€”â€”è¿™æ˜¯å½“ä½ æ£€æŸ¥ç»™å®šçš„ä¸œè¥¿æ˜¯å¦æ˜¯é›†åˆçš„æˆå‘˜æ—¶ï¼Œä¸ºäº†é˜²æ­¢æ— æ„ä¹‰çš„é”™è¯¯ï¼Œæ¯”å¦‚å¯¹é”™è¯¯çš„ç±»å‹å€¼åº”ç”¨æ“ä½œã€‚

### [](#type-checking-performed-by-a-system)ç±»å‹æ£€æŸ¥"ç”±ç³»ç»Ÿæ‰§è¡Œ"

```
undefined()
VM180:1 Uncaught TypeError: undefined is not a function
    at <anonymous>:1:1 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#type-checking-performed-by-a-developer)ç±»å‹æ£€æŸ¥"ç”±å¼€å‘äººå‘˜æ‰§è¡Œ"

```
if (typeof x === "undefined") {} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#dynamic-type-checking-or-type-checking-at-runtime)åŠ¨æ€ç±»å‹æ£€æŸ¥æˆ–è¿è¡Œæ—¶ç±»å‹æ£€æŸ¥

```
undefined()
VM180:1 Uncaught TypeError: undefined is not a function
    at <anonymous>:1:1 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#static-type-checking-or-type-checking-before-runtime)é™æ€ç±»å‹æ£€æŸ¥æˆ–è¿è¡Œå‰ç±»å‹æ£€æŸ¥

```
// @flow
undefined()
   ^ Cannot call `undefined` because undefined [1] is not a function. 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[è¿™ç¯‡æ–‡ç« æ˜¯](https://dev.to/t/pragmatictypes)ç³»åˆ—æ–‡ç« çš„ä¸€éƒ¨åˆ†ã€‚åœ¨[æ¨ç‰¹](https://twitter.com/stereobooster)å’Œ [github](https://github.com/stereobooster) ä¸Šå…³æ³¨æˆ‘ã€‚