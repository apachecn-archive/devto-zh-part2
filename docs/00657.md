# æ„å»ºå‰ç«¯åˆ°åç«¯çš„ web åº”ç”¨ç¨‹åº(Windows 95 é£æ ¼)

> åŸæ–‡:[https://dev . to/ann Lin/build-a-frontend-to-back end-web-application-windows-95-style-41gb](https://dev.to/annlin/build-a-frontend-to-backend-web-application-windows-95-style-41gb)

[https://www.youtube.com/embed/IDYRlkEoK4s](https://www.youtube.com/embed/IDYRlkEoK4s)

# çœ‹ï¼Œé©¬ï¼Œæˆ‘æ˜¯æ»¡æ ˆã€‚

ä»Šå¤©æˆ‘å¼€å§‹ç©æ•°æ®åº“ã€‚æˆ‘åœ¨[https://dev.to/aspittel/objection-knex-æ— ç—›-PostgreSQL-in-your-node-app-6n 6](https://dev.to/aspittel/objection--knex--painless-postgresql-in-your-node-app--6n6)æ‰¾åˆ°äº†ä¸€å—å®çŸ³ã€‚@AliSpittel ä½ æ˜¯ dah MVPã€‚ä½ åº”è¯¥å…ˆå»çœ‹ä¸€ä¸‹[æ•™ç¨‹](https://dev.to/aspittel/objection--knex--painless-postgresql-in-your-node-app--6n6)ï¼Œå®ƒå¾ˆå¥½åœ°æ¶µç›–äº† objection.js + knexã€‚

## objection . js+Express = Web App

### å…è´£å£°æ˜

è¿™æ˜¯åˆå­¦è€…å¼€å§‹ fullstack çš„å°è¯•ã€‚æˆ‘æƒ³ä¿æŒç®€å•ã€‚æ²¡æœ‰ç½‘ç»œåŒ…ï¼Œæ²¡æœ‰å·´åˆ«å¡”ï¼Œä»€ä¹ˆéƒ½æ²¡æœ‰ã€‚è¶Šé¦™è‰è¶Šå¥½ã€‚

æˆ‘ä¸ºæˆ‘çš„æ•°æ®åº“é€‰æ‹©äº†`Postgres/Knex/Objection`ï¼Œä¸ºåç«¯é€‰æ‹©äº†`Express`ï¼Œä¸ºå‰ç«¯é€‰æ‹©äº†æ™®é€šçš„`HTML`ã€`CSS`å’Œ`JavaScript`ã€‚æˆ‘æ˜¯ä¸€ä¸ªç®€å•çš„å¥³å­©ã€‚

è¿™ä¸ªé¡¹ç›®å°±åƒä¸€ä¸ªéšæœºæ¶‚é¸¦çš„è¿‡ç¨‹ã€‚é¢„è®¡ä»£ç ä¸­ä¼šå‡ºç°æ··ä¹±ã€‚

# åœ¨æˆ‘ä»¬å¼€å§‹ä¹‹å‰ï¼Œ

ä¸‹é¢æ˜¯[æ¼”ç¤º](https://live-a-life-you-will-remember.herokuapp.com/)å’Œ[ä»£ç ](https://github.com/linxea/life)ã€‚

## ç”¨æˆ·éœ€æ±‚

ä½œä¸ºä¸€ä¸ªäººï¼Œæˆ‘éœ€è¦ä¸€ä¸ªåœ°æ–¹è®°ä¸‹æˆ‘æ¯å¤©åšçš„äº‹æƒ…ï¼Œä»¥æé†’è‡ªå·±é™¤äº†ç¡è§‰ï¼Œæˆ‘å·²ç»æµªè´¹äº†å¤šå°‘æ—¶é—´ã€‚

å“¦ï¼Œå¦ˆçš„ï¼Œæˆ‘å¤ªå–œæ¬¢å†™åºŸè¯äº†ã€‚]

# 1ã€‚è®¾è®¡

è¿™æ¬¡æˆ‘ä¸æƒ³å…³å¿ƒå‰ç«¯ã€‚æˆ‘åœ¨å¯»æ‰¾ä¸€ä¸ª MVPï¼Œä¸€ä¸ªæœ€å°å¯è¡Œçš„äº§å“ã€‚

ä½†æ˜¯æˆ‘ä»¬éœ€è¦è®¾è®¡æ•°æ®åº“æ¨¡å¼ã€‚å› ä¸ºæˆ‘ä»¬å¸Œæœ›å°†æ¯å¤©ä½œä¸ºä¸€ä¸ªå®ä½“æ¥è®°å½•ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåä¸º`Day`çš„æ¨¡å‹ï¼Œå…¶å­—æ®µå¦‚ä¸‹:

```
{
    "id": 1,
    "exercise": false,
    "achievement": "I started dev.to ğŸ¤—.",
    "demo_link": "http://dev.to/linxea",
    "mood": "Good vibes",
    "woke_up_at": null,
    "slept_at": null,
    "created_at": "2018-05-28T16:00:00.000Z"
} 
```

# 2ã€‚å‘å±•

### è®¾ç½®

åœ¨è¿™é‡Œä¸‹è½½[ç¤ºä¾‹ä»£ç ã€‚](https://github.com/linxea/life)ã€‚

å°†è¿™äº›å®‰è£…åœ¨ç»ˆç«¯:

```
brew install psql
brew install knex 
```

### æ•°æ®åº“

é€šè¿‡è¿è¡Œå‘½ä»¤:
åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªåä¸º`life`çš„æ•°æ®åº“

```
createdb life 
```

åˆ›é€ ã€‚env in folder é€šè¿‡è¿è¡Œå‘½ä»¤:

```
npm run create:env 
```

æ‰“å¼€`.env`æ–‡ä»¶ï¼Œç”¨è‡ªå·±çš„ç”¨æˆ·å/å¯†ç /æ•°æ®åº“åæ›´æ–°`DATABASE_URL`å˜é‡ã€‚å®ƒåº”è¯¥æ˜¯è¿™æ ·çš„:

```
PORT=8000
APP_ENV=local
DATABASE_URL=postgres://username:password@localhost:5432/life-database 
```

æ–¹æ¡ˆåœ¨è¿ç§»æ–‡ä»¶å¤¹ä¸­çš„ knex ç”Ÿæˆæ–‡ä»¶ä¸­å®šä¹‰ï¼Œè¯¥æ–‡ä»¶ç”±å‘½ä»¤`knex migrate:make create_days`åˆ›å»ºã€‚æˆ‘å·²ç»åœ¨`/deploy/db/migrations`ä¸­åˆ›å»ºäº†ä¸€ä¸ªåä¸º TIMESTAMP_create_days çš„ã€‚é€šè¿‡è¿è¡Œå‘½ä»¤:
è¿ç§»è¿ç§»æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰å†…å®¹

```
knex migrate:latest 
```

è¦ä»`/deploy/db/seeds`å‘æ•°æ®åº“æä¾›é»˜è®¤ä¿¡æ¯ï¼Œè¿è¡Œå‘½ä»¤:

```
knex seed:run 
```

### æœåŠ¡å™¨/å®¢æˆ·ç«¯

å®‰è£…ä¾èµ–é¡¹:

```
npm install 
```

è¿è¡Œè¯¥æ­»çš„åº”ç”¨:

```
npm run start 
```

æ˜¯çš„ï¼Œæˆ‘å¤åˆ¶äº†æˆ‘çš„[è‡ªè¿°æ–‡ä»¶](https://github.com/linxea/life)ä¸­çš„å†…å®¹ã€‚

## Optional

å¦‚æœæ‚¨çš„æ•°æ®åº“å‡ºé”™ï¼Œæˆ–è€…å¦‚æœæ‚¨æƒ³è¦é‡ç½®æ•°æ®åº“å†…å®¹ï¼Œæ‚¨å¯ä»¥åˆ é™¤æ•°æ®åº“ï¼Œå¹¶é€šè¿‡è¿è¡Œå‘½ä»¤:
é‡æ–°æ‰§è¡Œæ‰€æœ‰æ“ä½œ

```
dropdb life
createdb new-life
// Remember to update the `database_name` in .env file
knex seed:run 
```

# 3ã€‚éƒ¨ç½²

æ‚¨éœ€è¦ä¸ºæ­¤ web åº”ç”¨è¿è¡ŒæœåŠ¡å™¨ã€‚Heroku æä¾›äº†ä¸€ç§å…è´¹ä¸”ç®€å•çš„æ–¹å¼æ¥æ‰˜ç®¡èŠ‚ç‚¹åº”ç”¨ã€‚(ä½†æ„¿ firebase ä¸»æœºä¹Ÿèƒ½åšåˆ°ã€‚T.T)ä½†æ˜¯ï¼Œå…è´¹è´¦å·æ„å‘³ç€æœåŠ¡å™¨åœ¨ 30 åˆ†é’Ÿä¸æ´»åŠ¨åä¼šè¿›å…¥ç¡çœ çŠ¶æ€ã€‚æ‰€ä»¥å¹¸è¿çš„ç¬¬ä¸€ä¸ªäººçš„ç¬¬ä¸€æ¬¡åŠ è½½æ—¶é—´æ€»æ˜¯å¾ˆé•¿ã€‚ä¸æ˜¯æˆ‘çš„åº”ç”¨ç¨‹åºæ€§èƒ½å¾ˆå·®ã€‚

æ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªå…è´¹çš„ AWS å¸æˆ·ï¼Œåœ¨ [RDS](https://aws.amazon.com/rds/) åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ã€‚(æˆ‘å…¶å®åœ¨æˆ‘çš„è§†é¢‘ï¼ŒREADMEï¼Œæ‰€æœ‰çš„ä¸œè¥¿é‡Œæ¼æ‰äº†è¿™ä¸€éƒ¨åˆ†ã€‚opps)æˆ‘æ˜¯ RDS çš„æ–°æ‰‹ï¼Œè¿æ¥åˆ°æ•°æ®åº“çš„å“åº”æ—¶é—´éœ€è¦ä¸€æ®µæ—¶é—´ã€‚æœ‰æ—¶ï¼Œç”±äºå“åº”æ—¶é—´é•¿ï¼Œæˆ‘ä¹Ÿæ— æ³•è®¿é—®æ•°æ®åº“ã€‚:<

### éƒ¨ç½²åˆ° Heroku

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨è¿™äº›å‘½ä»¤è½»æ¾åœ°éƒ¨ç½²åˆ° Heroku(Heroku å¤ªæ£’äº†ï¼):

```
brew install heroku
heroku login
heroku create you-can-name-anything-you-want-here
git push heroku origin
heroku open 
```

è·Ÿéšæˆ‘åœ¨[https://twitter.com/linxea_](https://twitter.com/linxea_)
æˆ‘æ‰“ç®—åšä¸€ä¸ªè§†é¢‘åƒå‡¯è¥¿ Neistat å’Œ Nas Daily ä¸€å¤©ï¼Œä½†æˆ‘èŠ±äº†å¤ªé•¿æ—¶é—´åœ¨ä¸€ä¸ªè§†é¢‘ä¸Šï¼Œwaaaaaaaay å¤ªé•¿äº†ã€‚æ—¶é—´