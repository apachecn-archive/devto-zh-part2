# ğŸ¤¯ç”¨ CSS çš„é›¶çº¿åˆ›å»ºä¸€ä¸ªæ¨¡æ€ğŸ¤¯

> åŸæ–‡:[æˆ´](https://dev.to/mornir/-create-a-modal-with-zero-line-of-css--dai)

## ç®€ä»‹

HTML 5.2 ç»™æˆ‘ä»¬å¸¦æ¥äº†`dialog`å…ƒç´ ï¼ğŸ™Œ

ç›®å‰ï¼Œåªæœ‰ Chrome å®ç°äº†å®ƒï¼Œä½†å¦‚æœå…¶ä»–æµè§ˆå™¨ä¾›åº”å•†æƒ³å®Œå…¨å…¼å®¹ HTMLï¼Œä»–ä»¬è‚¯å®šä¼šæ•ˆä»¿ã€‚(åœ¨ Firefox ä¸­ï¼Œå®ƒå·²ç»åœ¨ä¸€é¢æ——å¸œåé¢äº†ã€‚)å®ƒè¿˜æœ‰ä¸€ä¸ª [polyfill](https://github.com/GoogleChrome/dialog-polyfill) ã€‚

ç°åœ¨è®©æˆ‘ä»¬æ¥ç ”ç©¶ä¸€ä¸‹è¿™ä¸ªç›¸å¯¹è¾ƒæ–°ä¸”é—ªäº®çš„ HTML å…ƒç´ ã€‚ğŸ”¬

## æ¼”ç¤º

åœ¨ä¸‹é¢çš„ codepen ä¸­ï¼Œæˆ‘æ²¡æœ‰å†™ä¸€è¡Œ CSS å°±åˆ›å»ºäº†ä¸€ä¸ªå…¨åŠŸèƒ½çš„ modalã€‚ğŸ¤“

[https://codepen.io/mornir0/embed/xaNGma?height=600&default-tab=result&embed-version=2](https://codepen.io/mornir0/embed/xaNGma?height=600&default-tab=result&embed-version=2)

é‚£ä¹ˆï¼Œè¿™ä¸€åˆ‡æ˜¯å¦‚ä½•è¿ä½œçš„å‘¢ï¼Ÿ

å—¯ï¼Œå…¶å®å¾ˆç®€å•ã€‚æˆ‘ä»¬åªéœ€è¦ä½¿ç”¨`dialog`å…ƒç´ å¹¶æ·»åŠ `open`å±æ€§æ¥æ˜¾ç¤ºå®ƒ(é»˜è®¤æƒ…å†µä¸‹å®ƒæ˜¯éšè—çš„)ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ HTMLDialogElement ä¸Šæä¾›çš„`showModal`æ–¹æ³•æ¥æ‰“å¼€è¯¥å±æ€§ã€‚æˆ‘ä»¬è°ƒç”¨`close`æ–¹æ³•æ¥å…³é—­å®ƒã€‚

```
const modal = document.querySelector('#modal')
modal.showModal() // opens the modal
modal.close() // closes the modal 
```

Enter fullscreen mode Exit fullscreen mode

æ‚¨å¯ä»¥æ³¨æ„åˆ°`dialog`å…ƒç´ è‡ªåŠ¨ä¸ºæˆ‘ä»¬åšäº†ä¸€äº›ç®€å•çš„äº‹æƒ…:

*   å¯¹è¯æ¡†ä½äºå±å¹•ä¸­å¤®ã€‚
*   èƒŒæ™¯å˜æš—ï¼Œæ¨¡å¼åé¢çš„å…ƒç´ æ— æ³•äº¤äº’ã€‚
*   è¿™ä¸ªå¯¹è¯æ¡†å·²ç»æœ‰äº†åŸºæœ¬çš„æ ·å¼(å¾ˆéš¾çœ‹ï¼Œä½†æ˜¯ç¨åä¼šæœ‰æ›´å¤šçš„ä»‹ç»)ã€‚
*   `escape`é”®å…³é—­æ¨¡æ€ã€‚

é€šè¿‡å‘è¡¨å•æ ‡ç­¾æ·»åŠ `method="dialog"`:

*   ç¬¬ä¸€ä¸ªäº¤äº’å…ƒç´ (æŒ‰ DOM é¡ºåº)æ˜¯ç„¦ç‚¹ã€‚
*   è¡¨å•æäº¤åï¼Œå¯¹è¯æ¡†å…³é—­ï¼Œè§¦å‘æäº¤äº‹ä»¶çš„å…ƒç´ çš„å€¼ä¿å­˜åœ¨ HTMLDialogElement çš„`returnValue`å±æ€§ä¸­ã€‚

åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œä¸¤ä¸ªæŒ‰é’®éƒ½è§¦å‘äº†æ¨¡æ€çš„å…³é—­ã€‚å½“æ¨¡æ€å…³é—­æ—¶ï¼Œå®ƒå‘å‡ºä¸€ä¸ª`close`äº‹ä»¶ã€‚åœ¨æˆ‘ä»¬çš„æ¼”ç¤ºä¸­ï¼Œmodal.returnValue å°†åŒ…å«' yes 'æˆ–' no '(å¦‚æœç”¨æˆ·æŒ‰ä¸‹[escape]ï¼Œåˆ™ä¸ºç©ºå­—ç¬¦ä¸²)ã€‚

```
modal.addEventListener('close', () => {
    console.log(modal.returnValue) // In our case: 'yes', 'no' or ''
}) 
```

Enter fullscreen mode Exit fullscreen mode

## å®šåˆ¶

å¯¹è¯æ¡†å…ƒç´ å¸¦æœ‰é»˜è®¤çš„ç”¨æˆ·ä»£ç†æ ·å¼è¡¨ï¼Œä½†æ˜¯å¯ä»¥å®Œå…¨å®šåˆ¶ã€‚ä½ ç”šè‡³å¯ä»¥è¿™æ ·æ”¹å˜æ¨¡å¼èƒŒæ™¯:

```
#modal::backdrop {
    background-color: rgba(0, 0, 0, 0.4)
} 
```

Enter fullscreen mode Exit fullscreen mode

### ä½¿ç”¨[é¡ºé£ CSS](https://tailwindcss.com/) å®šåˆ¶çš„ä¾‹å­

[https://codepen.io/mornir0/embed/GXLGQK?height=600&default-tab=result&embed-version=2](https://codepen.io/mornir0/embed/GXLGQK?height=600&default-tab=result&embed-version=2)

## èµ„æº

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘åªè®¨è®ºå¯¹è¯æ¡†å…ƒç´ çš„ä¸€äº›æ–¹é¢ã€‚å…³äºè¿™ä¸ªè¯é¢˜çš„è¯¦ç»†ä¿¡æ¯ï¼Œæˆ‘æ¨èä»¥ä¸‹é“¾æ¥:
[https://alligator.io/html/dialog-element/](https://alligator.io/html/dialog-element/)
[https://developer . Mozilla . org/en-US/docs/Web/HTML/Element/dialog](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog)
[https://demo.agektmr.com/dialog/](https://demo.agektmr.com/dialog/)