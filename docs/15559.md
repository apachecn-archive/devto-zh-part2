# C#åˆ›å»ºæ–°çš„ T()

> åŸæ–‡ https://dev.to/rickystam/c-create-new-t-55hn

å¾ˆé•¿ä¸€æ®µæ—¶é—´ä»¥æ¥ï¼Œæ¯å½“æˆ‘å¿…é¡»åˆ›å»ºä¸€ä¸ªæ³›å‹ç±»å‹å‚æ•°çš„æ–°å®ä¾‹æ—¶ï¼Œæˆ‘éƒ½ä½¿ç”¨ Activatorã€‚åˆ›å»ºå®ä¾‹(ç±»å‹)æ–¹æ³•
[https://msdn.microsoft.com/en-us/library/wccyzw83.aspx](https://msdn.microsoft.com/en-us/library/wccyzw83.aspx)

ç¤ºä¾‹:

```
public class Dog : ISound
{
    public string Sound { get; set; } = "woof woof";
}

public class Animal<T> where T : ISound
{
    public ISound GetInstance()
    {
        return (ISound)Activator.CreateInstance(typeof(T));
    }
} 
```

Enter fullscreen mode Exit fullscreen mode

æœ€è¿‘ï¼Œæˆ‘åœ¨ MS æ–‡æ¡£ä¸­å¶ç„¶å‘ç°äº†**æ–°çš„çº¦æŸå…³é”®å­—**(ä¸çŸ¥ä½•æ•…ï¼Œæˆ‘é”™è¿‡äº†å®ƒğŸ˜)
[https://docs . Microsoft . com/en-us/dot net/cs harp/language-reference/keywords/new-constraint](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/new-constraint)
è€Œä¸Šé¢ Animal çš„æ³›å‹ç±»å¯ä»¥æ”¹å†™å¦‚ä¸‹:

```
public class Animal<T> where T : ISound, new()
{
    public T GetInstance()
    {
        return new T();
    }
} 
```

Enter fullscreen mode Exit fullscreen mode

å¹¶ä¸”å¯ä»¥ä½¿ç”¨:

```
var animal = new Animal<Dog>();
var dog = animal.GetInstance();
var sound = dog.Sound; //woof woof 
```

Enter fullscreen mode Exit fullscreen mode

**é‡è¦**:å½“ä½ å°†`new()`çº¦æŸä¸å…¶ä»–çº¦æŸä¸€èµ·ä½¿ç”¨æ—¶ï¼Œå¿…é¡»æœ€åæŒ‡å®šã€‚

è¿™ç¯‡æ–‡ç« æ˜¯ç”±çˆ±â¤ï¸å†™çš„