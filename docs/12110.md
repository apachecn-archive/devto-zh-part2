# JavaScript ä¸­çš„æ•°æ®ç»“æ„:æ•°ç»„ã€å“ˆå¸Œè¡¨å’Œåˆ—è¡¨

> åŸæ–‡:[https://dev . to/amejiarosario/data-structures-for-åˆå­¦è€…-arrays-hashmap-and-lists-5645](https://dev.to/amejiarosario/data-structures-for-beginners-arrays-hashmaps-and-lists-5645)

å½“æˆ‘ä»¬å¼€å‘è½¯ä»¶æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»å°†æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚ç„¶è€Œï¼Œæœ‰è®¸å¤šç±»å‹çš„æ•°æ®ç»“æ„ï¼Œå¦‚æ•°ç»„ã€æ˜ å°„ã€é›†åˆã€åˆ—è¡¨ã€æ ‘ã€å›¾å½¢ç­‰ã€‚ä¸ºè¿™é¡¹ä»»åŠ¡é€‰æ‹©æ­£ç¡®çš„æ–¹æ³•å¯èƒ½ä¼šå¾ˆæ£˜æ‰‹ã€‚æ‰€ä»¥ï¼Œè¿™ä¸€ç³»åˆ—çš„æ–‡ç« å°†å¸®åŠ©ä½ çŸ¥é“å–èˆï¼Œè¿™æ ·ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨æ­£ç¡®çš„å·¥å…·äº†ï¼

åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å…³æ³¨çº¿æ€§æ•°æ®ç»“æ„:æ•°ç»„ã€åˆ—è¡¨ã€é›†åˆã€å †æ ˆå’Œé˜Ÿåˆ—ã€‚

æ‚¨å¯ä»¥åœ¨ Github repo:
ä¸­æ‰¾åˆ°æ‰€æœ‰è¿™äº›å®ç°ä»¥åŠæ›´å¤šå†…å®¹

## ![GitHub logo](../Images/a73f630113876d78cff79f59c2125b24.png) [é˜¿æ¢…åŠ ç½—è¨é‡Œå¥¥](https://github.com/amejiarosario)/[DSA . js-æ•°æ®-ç»“æ„-ç®—æ³•-javascript](https://github.com/amejiarosario/dsa.js-data-structures-algorithms-javascript)

### ğŸ¥JavaScript + eBook ä¸­è§£é‡Šå’Œå®ç°çš„æ•°æ®ç»“æ„å’Œç®—æ³•

<article class="markdown-body entry-content container-lg" itemprop="text">

[![image](../Images/56b5d4dbac1233ee93c5155b15079c68.png)T2ã€‘](https://user-images.githubusercontent.com/418605/59557258-10742880-8fa3-11e9-84fb-4d66a9d89faa.png)

# JavaScript ä¸­çš„æ•°æ®ç»“æ„å’Œç®—æ³•

[![CircleCI](../Images/d5922fc0cbf322196a6f5e893fcfcf37.png)](https://app.circleci.com/pipelines/github/amejiarosario/dsa.js-data-structures-algorithms-javascript)[![NPM version](../Images/2c26fb04f41469582f423d88af92342e.png)](https://badge.fury.io/js/dsa.js)[![chat](../Images/e028ff0be0803e8e9dbdd25d5a8c6ca4.png)](https://dsajs-slackin.herokuapp.com)

> è¿™æ˜¯ DSA.js book çš„ç¼–ç å®ç°å’Œ NPM åŒ…çš„å›è´­ã€‚

> åœ¨è¿™ä¸ªåº“ä¸­ï¼Œæ‚¨å¯ä»¥æ‰¾åˆ° JavaScript ä¸­ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å®ç°ã€‚è¿™äº›ææ–™å¯ä»¥ä½œä¸ºå¼€å‘äººå‘˜çš„å‚è€ƒæ‰‹å†Œï¼Œæˆ–è€…æ‚¨å¯ä»¥åœ¨é¢è¯•å‰åˆ·æ–°ç‰¹å®šä¸»é¢˜ã€‚è¿˜æœ‰ï¼Œä½ å¯ä»¥æ‰¾åˆ°æ›´é«˜æ•ˆè§£å†³é—®é¢˜çš„æ€è·¯ã€‚

[![Interactive Data Structures](../Images/8f63557fae7adb265acdf574fa489c65.png)T2ã€‘](https://user-images.githubusercontent.com/418605/46118890-ba721180-c1d6-11e8-82bc-6a671428b422.png)

## ç›®å½•

*   [å®‰è£…](https://raw.githubusercontent.com/amejiarosario/dsa.js-data-structures-algorithms-javascript/master/#installation)
*   [ç‰¹æ€§](https://raw.githubusercontent.com/amejiarosario/dsa.js-data-structures-algorithms-javascript/master/#features)
*   [é‡Œé¢æœ‰ä»€ä¹ˆ](https://raw.githubusercontent.com/amejiarosario/dsa.js-data-structures-algorithms-javascript/master/#whats-inside)
    *   [<g-emoji class="g-emoji" alias="chart_with_upwards_trend" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4c8.png">ğŸ“ˆ</g-emoji>ç®—æ³•åˆ†æ](https://raw.githubusercontent.com/amejiarosario/dsa.js-data-structures-algorithms-javascript/master/#-algorithms-analysis)
    *   [<g-emoji class="g-emoji" alias="pancakes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f95e.png">ğŸ¥</g-emoji>çº¿æ€§æ•°æ®ç»“æ„](https://raw.githubusercontent.com/amejiarosario/dsa.js-data-structures-algorithms-javascript/master/#-linear-data-structures)
    *   [<g-emoji class="g-emoji" alias="evergreen_tree" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f332.png">ğŸŒ²</g-emoji>éçº¿æ€§æ•°æ®ç»“æ„](https://raw.githubusercontent.com/amejiarosario/dsa.js-data-structures-algorithms-javascript/master/#-non-linear-data-structures)
    *   [<g-emoji class="g-emoji" alias="hammer_and_pick" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2692.png">âš’</g-emoji> ç®—æ³•æŠ€å·§](https://raw.githubusercontent.com/amejiarosario/dsa.js-data-structures-algorithms-javascript/master/#%E2%9A%92-algorithms-techniques)
*   [é¢„å®š](https://raw.githubusercontent.com/amejiarosario/dsa.js-data-structures-algorithms-javascript/master/#book)
*   [å¸¸è§é—®é¢˜è§£ç­”](https://raw.githubusercontent.com/amejiarosario/dsa.js-data-structures-algorithms-javascript/master/#faq)
*   [æ”¯æŒ](https://raw.githubusercontent.com/amejiarosario/dsa.js-data-structures-algorithms-javascript/master/#support)
*   [æ‰§ç…§](https://raw.githubusercontent.com/amejiarosario/dsa.js-data-structures-algorithms-javascript/master/#license)

## è£…ç½®

æ‚¨å¯ä»¥å…‹éš†å›è´­åè®®æˆ–å®‰è£…æ¥è‡ª NPM çš„ä»£ç :

```
npm install dsa.js
```

Enter fullscreen mode Exit fullscreen mode

ç„¶åæ‚¨å¯ä»¥å°†å®ƒå¯¼å…¥åˆ°æ‚¨çš„ç¨‹åºæˆ– CLI ä¸­

```
const { LinkedList, Queue, Stack } = require('dsa.js');
```

Enter fullscreen mode Exit fullscreen mode

æ‰€æœ‰å…¬å¼€çš„æ•°æ®ç»“æ„å’Œç®—æ³•çš„å®Œæ•´åˆ—è¡¨[è§](https://raw.githubusercontent.com/amejiarosario/dsa.js-data-structures-algorithms-javascript/master/src/index.js)ã€‚

## ç‰¹å¾

ç®—æ³•æ˜¯ä¸€ç§â€¦

</article>

[View on GitHub](https://github.com/amejiarosario/dsa.js-data-structures-algorithms-javascript)

# æ•°æ®ç»“æ„å¤§æ ·å›¾

ä¸‹è¡¨æ€»ç»“äº†æˆ‘ä»¬å°†åœ¨æ­¤è®¨è®ºçš„æ‰€æœ‰å†…å®¹ã€‚

> æŠŠå®ƒåŠ å…¥ä¹¦ç­¾ï¼Œåˆ«åœ¨ä¸Šé¢æˆ–è€…åˆ†äº«ï¼Œè¿™æ ·å½“ä½ éœ€è¦å®ƒçš„æ—¶å€™ï¼Œå®ƒå°±åœ¨ä½ çš„æ‰‹è¾¹ã€‚

*ç‚¹å‡»* *åç§°* *è¿›å…¥è¯¥éƒ¨åˆ†æˆ–ç‚¹å‡»**è¿è¡Œæ—¶**è¿›å…¥å®æ–½*

`*` =æ‘Šé”€è¿è¡Œæ—¶é—´

| åå­— | æ’å…¥ | æ¥è¿‘ | æœç´¢ | åˆ é™¤ | è¯„è®º |
| --- | --- | --- | --- | --- | --- |
| [æ•°ç»„](#array) | [O(n)](#insert-element-on-an-array) | [O(1)](#access-an-element-in-an-array) | [O(n)](#search-an-element-in-an-array) | [O(n)](#deleting-elements-from-an-array) | æ’å…¥åˆ°åº•æ˜¯`O(1)`ã€‚[è¯¦æƒ…åœ¨æ­¤ã€‚](#array-operations-time-complexity) |
| [HashMap](#hashmaps) | [O(1)](#insert-element-on-a-hashmap-runtime) | [O(1)](#search-access-an-element-on-a-hashmap-runtime) | [O(1)](#search-access-an-element-on-a-hashmap-runtime) | [O(1)](#edit-delete-element-on-a-hashmap-runtime) | é‡æ–°æ•£åˆ—å¯èƒ½ä¼šå½±å“æ’å…¥æ—¶é—´ã€‚[è¯¦æƒ…åœ¨æ­¤ã€‚](#hashmap-operations-time-complexity) |
| åœ°å›¾(ä½¿ç”¨äºŒå‰æŸ¥æ‰¾æ ‘) | O(log(n)) | - | O(log(n)) | O(log(n)) | ä½¿ç”¨äºŒå‰æŸ¥æ‰¾æ ‘å®ç° |
| [Set(ä½¿ç”¨ HashMap)](#sets) | [O(1)](#set-implementation) | - | [O(1)](#set-implementation) | [O(1)](#set-implementation) | ä½¿ç”¨ HashMap å®ç°è®¾ç½®ã€‚[è¯¦æƒ…åœ¨æ­¤ã€‚](#set-Operations-runtime) |
| è®¾ç½®(ä½¿ç”¨åˆ—è¡¨) | [O(n)](https://www.ecma-international.org/ecma-262/6.0/#sec-set.prototype.add) | - | [O(n)](https://www.ecma-international.org/ecma-262/6.0/#sec-set.prototype.has) | [O(n)](https://www.ecma-international.org/ecma-262/6.0/#sec-set.prototype.delete) | ä½¿ç”¨äºŒå‰æŸ¥æ‰¾æ ‘å®ç° |
| è®¾ç½®(ä½¿ç”¨äºŒå‰æŸ¥æ‰¾æ ‘) | O(log(n)) | - | O(log(n)) | O(log(n)) | ä½¿ç”¨äºŒå‰æŸ¥æ‰¾æ ‘å®ç° |
| [é“¾è¡¨(å•ä¸ª)](#singly-linked-lists) | [O(n)](//#SinglyLinkedList.addLast) | - | [O(n)](//#LinkedList.contains) | [O(n)](//#LinkedList.remove) | æ·»åŠ /åˆ é™¤åˆ—è¡¨çš„å¼€å§‹æ˜¯`O(1)`ã€‚[è¯¦æƒ…åœ¨æ­¤](#Singly-Linked-Lists-time-complexity)ã€‚ |
| [é“¾è¡¨(åŒå€)](#Doubly-Linked-Lists) | [O(n)](//#DoublyLinkedList.add) | - | [O(n)](//#LinkedList.contains) | [O(n)](//#LinkedList.remove) | ä»å¼€å§‹/ç»“æŸæ·»åŠ /åˆ é™¤æ˜¯`O(1)`ã€‚ä½†æ˜¯ï¼Œä¸­é—´åˆ é™¤/æ·»åŠ çš„æ˜¯`O(n)`ã€‚[è¯¦æƒ…åœ¨æ­¤](#doubly-linked-lists-time-complexity) |
| [å †æ ˆ(æ•°ç»„å®ç°)](#Stacks) | [O(1)](#Stacks) | - | - | [O(1)](#Stacks) | æ’å…¥/åˆ é™¤æ˜¯åè¿›å…ˆå‡º(LIFO) |
| [é˜Ÿåˆ—(æœ´ç´ æ•°ç»„ implã€‚)](#QueueNaiveImpl) | [O(n)](#QueueNaiveImpl) | - | - | [O(1)](#QueueNaiveImpl) | æ’å…¥(`Array.shift`)æ˜¯ O(n) |
| [é˜Ÿåˆ—(æ•°ç»„å®ç°)](#QueueArrayImpl) | [O(1)](#QueueArrayImpl) | - | - | [O(1)](#QueueArrayImpl) | æœ€å·®æ—¶é—´æ’å…¥æ˜¯ O(n)ã€‚ç„¶è€Œæ‘Šé”€æ˜¯ O(1) |
| [æ’é˜Ÿ(åˆ—è¡¨å®ç°)](#QueueListImpl) | [O(1)](#QueueListImpl) | - | - | [O(1)](#QueueListImpl) | å¼•ç”¨æœ€åä¸€ä¸ªå…ƒç´ ä½¿ç”¨åŒå‘é“¾è¡¨ã€‚ |

æ³¨æ„:**äºŒåˆ†æœç´¢æ³•æ ‘**å’Œä¸€èˆ¬æ„ä¹‰ä¸Šçš„æ ‘ï¼Œå°†åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­è®¨è®ºã€‚åŒæ ·ï¼Œå›¾å½¢æ•°æ®ç»“æ„ã€‚

# åŸå§‹æ•°æ®ç±»å‹

åŸå§‹æ•°æ®ç±»å‹æ˜¯æœ€åŸºæœ¬çš„å…ƒç´ ï¼Œæ‰€æœ‰å…¶ä»–æ•°æ®ç»“æ„éƒ½å»ºç«‹åœ¨è¿™äº›å…ƒç´ ä¹‹ä¸Šã€‚ä¸€äº›åŸè¯­æ˜¯:

*   æ•´æ•°ã€‚ä¾‹å¦‚`1`ã€`2`ã€`3`ã€...
*   äººç‰©ã€‚ä¾‹å¦‚`a`ã€`b`ã€`"1"`ã€`"*"`
*   å¸ƒå°”äººã€‚ä¾‹å¦‚`true`æˆ–`false`ã€‚
*   Float(æµ®ç‚¹)æˆ– doublesã€‚å¦‚`3.14159`ã€`1483e-2`ã€‚
*   ç©ºå€¼ã€‚ä¾‹å¦‚`null`

ç‰¹å®šäº JavaScript çš„åŸè¯­:

*   ä¸æ˜ç¡®çš„
*   æ ‡å¿—
*   æ•°å­—

æ³¨æ„:å¯¹è±¡ä¸æ˜¯åŸè¯­ï¼Œå› ä¸ºå®ƒæ˜¯é›¶ä¸ªæˆ–å¤šä¸ªåŸè¯­å’Œå…¶ä»–å¯¹è±¡çš„é›†åˆã€‚

## é˜µåˆ—

æ•°ç»„æ˜¯é›¶ä¸ªæˆ–å¤šä¸ªå…ƒç´ çš„é›†åˆã€‚æ•°ç»„æ˜¯æœ€å¸¸ç”¨çš„æ•°æ®ç»“æ„ä¹‹ä¸€ï¼Œå› ä¸ºå®ƒçš„ç®€å•æ€§å’Œå¿«é€Ÿæ£€ç´¢ä¿¡æ¯çš„æ–¹å¼ã€‚

ä½ å¯ä»¥æŠŠä¸€ä¸ªæ•°ç»„æƒ³è±¡æˆä¸€ä¸ªæŠ½å±‰ï¼Œä½ å¯ä»¥åœ¨é‡Œé¢çš„ç®±å­ä¸Šå­˜æ”¾ä¸œè¥¿ã€‚

**Array å°±åƒä¸€ä¸ªæŠ½å±‰ï¼ŒæŠŠä¸œè¥¿å­˜æ”¾åœ¨ç®±å­ä¸Š**

[![](../Images/f45a47e4cf651fc1f26b8c52ec582157.png "Array is like a drawer that stores things on bins")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--uMaBX6pb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://adrianmejia.com/images/array-drawer.jpg)

å½“ä½ æƒ³æ‰¾ä¸œè¥¿çš„æ—¶å€™ï¼Œä½ å¯ä»¥ç›´æ¥å»æ‰¾ç®±å­å·ç ã€‚é‚£æ˜¯ä¸€ä¸ªæ’å®šæ—¶é—´æ“ä½œ( *`O(1)`* )ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨å¿˜è®°äº†æŸœå­é‡Œæœ‰ä»€ä¹ˆï¼Œé‚£ä¹ˆæ‚¨å°†ä¸å¾—ä¸é€ä¸ªæ‰“å¼€( *`O(n)`* )æ¥éªŒè¯å®ƒçš„å†…å®¹ï¼Œç›´åˆ°æ‚¨æ‰¾åˆ°æ‚¨è¦æ‰¾çš„ä¸œè¥¿ã€‚æ•°ç»„ä¹Ÿæ˜¯å¦‚æ­¤ã€‚

æ ¹æ®ç¼–ç¨‹è¯­è¨€çš„ä¸åŒï¼Œæ•°ç»„ä¹Ÿæœ‰ä¸€äº›ä¸åŒã€‚å¯¹äºä¸€äº›åŠ¨æ€è¯­è¨€ï¼Œå¦‚ JavaScript å’Œ Rubyï¼Œæ•°ç»„å¯ä»¥åŒ…å«ä¸åŒçš„æ•°æ®ç±»å‹:æ•°å­—ã€å­—ç¬¦ä¸²ã€å•è¯ã€å¯¹è±¡ï¼Œç”šè‡³å‡½æ•°ã€‚åœ¨ Java/C/C++è¿™æ ·çš„ç±»å‹åŒ–è¯­è¨€ä¸­ï¼Œæ‚¨å¿…é¡»é¢„å…ˆå®šä¹‰æ•°ç»„çš„å¤§å°å’Œæ•°æ®ç±»å‹ã€‚åœ¨ JavaScript ä¸­ï¼Œå®ƒä¼šåœ¨éœ€è¦æ—¶è‡ªåŠ¨å¢åŠ æ•°ç»„çš„å¤§å°ã€‚

### æ•°ç»„å†…ç½®è¿ç®—

æ ¹æ®ç¼–ç¨‹è¯­è¨€çš„ä¸åŒï¼Œå®ç°ä¼šç•¥æœ‰ä¸åŒã€‚

ä¾‹å¦‚ï¼Œåœ¨ JavaScript ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨`push`å®Œæˆæ·»åŠ åˆ°ç»“å°¾ï¼Œç”¨`unshift`å®Œæˆæ·»åŠ åˆ°å¼€å¤´ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¹Ÿè¦ä»æ•°ç»„ä¸­ç§»é™¤`pop`å’Œ`shift`ã€‚è®©æˆ‘ä»¬é€šè¿‡è¿™ç¯‡æ–‡ç« æ¥æè¿°ä¸€äº›æˆ‘ä»¬å°†è¦ä½¿ç”¨çš„å¸¸è§æ“ä½œçš„è¿è¡Œæ—¶ã€‚

**å¸¸è§çš„ JS æ•°ç»„å†…ç½®å‡½æ•°**

| åŠŸèƒ½ | è¿è¡Œæ—¶é—´ | æè¿° |
| --- | --- | --- |
| [array.push](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push) | O(1) | å°†å…ƒç´ æ’å…¥æ•°ç»„çš„æœ«å°¾ |
| [array.pop](http://devdocs.io/javascript/global_objects/array/pop) | O(1) | ç§»é™¤æ•°ç»„æœ«å°¾çš„å…ƒç´  |
| [array.shift](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/shift) | O(n) | ç§»é™¤æ•°ç»„å¼€å¤´çš„å…ƒç´  |
| [array.unshift](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift) | O(n) | å°†å…ƒç´ æ’å…¥æ•°ç»„çš„å¼€å¤´ |
| [array.slice](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice) | O(n) | ä»`beginning`åˆ°`end`è¿”å›æ•°ç»„çš„å‰¯æœ¬ã€‚ |
| [array.splice](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice) | O(n) | æ›´æ”¹(æ·»åŠ /åˆ é™¤)é˜µåˆ— |

### åœ¨æ•°ç»„ä¸Šæ’å…¥å…ƒç´ 

æœ‰å¤šç§æ–¹æ³•å¯ä»¥å°†å…ƒç´ æ’å…¥æ•°ç»„ã€‚æ‚¨å¯ä»¥å°†æ–°æ•°æ®è¿½åŠ åˆ°é›†åˆçš„æœ«å°¾ï¼Œä¹Ÿå¯ä»¥å°†å…¶æ·»åŠ åˆ°é›†åˆçš„å¼€å¤´ã€‚

è®©æˆ‘ä»¬ä»è¿½åŠ åˆ°å°¾éƒ¨å¼€å§‹:

```
function insertToTail(array, element) {
  array.push(element);
  return array;
}

const array = [1, 2, 3];
console.log(insertToTail(array, 4)); // => [ 1, 2, 3, 4 ] 
```

Enter fullscreen mode Exit fullscreen mode

åŸºäº[è¯­è¨€è§„èŒƒ](https://tc39.github.io/ecma262/#sec-array.prototype.push)ï¼Œpush åªéœ€åœ¨æ•°ç»„æœ«å°¾è®¾ç½®æ–°å€¼ã€‚å› æ­¤ï¼Œ

> `Array.push`è¿è¡Œæ—¶æ˜¯ä¸€ä¸ª *O(1)*

ç°åœ¨è®©æˆ‘ä»¬å°è¯•æ·»åŠ åˆ° head:

```
function insertToHead(array, element) {
  array.unshift(element);
  return array;
}

const array = [1, 2, 3];
console.log(insertToHead(array, 0)); // => [ 0, 1, 2, 3 ] 
```

Enter fullscreen mode Exit fullscreen mode

ä½ è®¤ä¸º`insertToHead`å‡½æ•°çš„è¿è¡Œæ—¶æ˜¯æ€æ ·çš„ï¼Ÿçœ‹èµ·æ¥å’Œä¹‹å‰çš„ä¸€æ ·ï¼Œé™¤äº†æˆ‘ä»¬ç”¨äº†`unshift`è€Œä¸æ˜¯`push`ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸€ä¸ªæ¡ä»¶ï¼ [unshift ç®—æ³•](https://tc39.github.io/ecma262/#sec-array.prototype.unshift)é€šè¿‡å°†æ‰€æœ‰ç°æœ‰å…ƒç´ ç§»åŠ¨åˆ°æ•°ç»„ä¸­çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œä¸ºæ–°å…ƒç´ è…¾å‡ºç©ºé—´ã€‚å› æ­¤ï¼Œå®ƒå°†éå†æ‰€æœ‰é¡¹ç›®å¹¶ç§»åŠ¨å®ƒä»¬ã€‚

> `Array.unshift`è¿è¡Œæ—¶æ˜¯ä¸€ä¸ª *O(n)*

### è®¿é—®æ•°ç»„ä¸­çš„ä¸€ä¸ªå…ƒç´ 

å¦‚æœæ‚¨çŸ¥é“è¦æŸ¥æ‰¾çš„å…ƒç´ çš„ç´¢å¼•ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥åƒè¿™æ ·ç›´æ¥è®¿é—®è¯¥å…ƒç´ :

```
function access(array, index) {
  return array[index];
}

const array = [1, 'word', 3.14, {a: 1}];
access(array, 0); // => 1
access(array, 3); // => {a: 1} 
```

Enter fullscreen mode Exit fullscreen mode

æ­£å¦‚æ‚¨åœ¨ä¸Šé¢çš„ä»£ç ä¸­çœ‹åˆ°çš„ï¼Œè®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ æœ‰ä¸€ä¸ªå›ºå®šçš„æ—¶é—´:

> æ•°ç»„è®¿é—®è¿è¡Œæ—¶æ˜¯ *O(1)*

*æ³¨æ„:ä½ ä¹Ÿå¯ä»¥åœ¨å¸¸æ•°æ—¶é—´å†…æ”¹å˜ç»™å®šç´¢å¼•çš„ä»»ä½•å€¼ã€‚*

### æœç´¢æ•°ç»„ä¸­çš„ä¸€ä¸ªå…ƒç´ 

å¦‚æœæ‚¨ä¸çŸ¥é“æƒ³è¦ä»æ•°ç»„ä¸­å¾—åˆ°çš„æ•°æ®çš„ç´¢å¼•ï¼Œé‚£ä¹ˆæ‚¨å¿…é¡»éå†é›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œç›´åˆ°æˆ‘ä»¬æ‰¾åˆ°æˆ‘ä»¬æƒ³è¦çš„ã€‚

```
function search(array, element) {
  for (let index = 0; index < array.length; index++) {
    if(element === array[index]) {
      return index;
    }
  }
}

const array = [1, 'word', 3.14, {a: 1}];
console.log(search(array, 'word')); // => 1
console.log(search(array, 3.14)); // => 2 
```

Enter fullscreen mode Exit fullscreen mode

ç»™å®š for å¾ªç¯ï¼Œæˆ‘ä»¬æœ‰:

> æ•°ç»„æœç´¢è¿è¡Œæ—¶æ˜¯ *O(n)*

### ä»æ•°ç»„ä¸­åˆ é™¤å…ƒç´ 

ä½ è®¤ä¸ºä»æ•°ç»„ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ çš„è¿è¡Œæ—¶é—´æ˜¯å¤šå°‘ï¼Ÿ

å¥½å§ï¼Œè®©æˆ‘ä»¬æƒ³æƒ³ä¸åŒçš„æƒ…å†µ:

1.  ä½ å¯ä»¥ä»æ•°ç»„çš„æœ«å°¾åˆ é™¤ï¼Œè¿™å¯èƒ½æ˜¯å¸¸æ•°æ—¶é—´ã€‚ *O(1)*
2.  ä½†æ˜¯ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä»é›†åˆçš„å¼€å¤´æˆ–ä¸­é—´ç§»é™¤ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¿…é¡»ç§»åŠ¨ä»¥ä¸‹æ‰€æœ‰å…ƒç´ æ¥ç¼©å°å·®è·ã€‚ *O(n)*

ç©ºè°ˆä¸å€¼é’±ï¼Œè¿˜æ˜¯åšä»£ç å§ï¼

```
function remove(array, element) {
  const index = search(array, element);
  array.splice(index, 1);
  return array;
}

const array1 = [0, 1, 2, 3];
console.log(remove(array1, 1)); // => [ 0, 2, 3 ] 
```

Enter fullscreen mode Exit fullscreen mode

æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨æˆ‘ä»¬çš„`search`å‡½æ•°æ¥å¯»æ‰¾å…ƒç´ çš„ç´¢å¼• *O(n)* ã€‚ç„¶åæˆ‘ä»¬ä½¿ç”¨ [JS å†…ç½®çš„`splice`](https://tc39.github.io/ecma262/#sec-array.prototype.splice) å‡½æ•°ï¼Œå…¶è¿è¡Œæ—¶é—´ä¸º *O(n)* ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†éå†åˆ—è¡¨ä¸¤æ¬¡ï¼Œä½†ä¸æ˜¯è¯´ *O(2n)* ï¼Œå¯¹äºå¤§ O ç¬¦å·ï¼Œå®ƒä»ç„¶æ˜¯ *O(n)* ã€‚è¯·è®°ä½ï¼Œä»æˆ‘ä»¬çš„ç¬¬ä¸€ç¯‡æ–‡ç« [æ¥çœ‹ï¼Œå¸¸æ•°å¹¶ä¸é‡è¦ã€‚](https://dev.to/amejiarosario/how-you-can-change-the-world-by-learning-algorithms-549c#asymptotic-analysis)

æˆ‘ä»¬å‡è®¾æœ€åçš„æƒ…å†µ:

> ä»æ•°ç»„ä¸­åˆ é™¤ä¸€ä¸ªé¡¹æ˜¯ *O(n)* ã€‚

### é˜µåˆ—è¿ç®—æ—¶é—´å¤æ‚åº¦

æˆ‘ä»¬å¯ä»¥å°†é˜µåˆ—çš„æ—¶é—´å¤æ‚åº¦æ€»ç»“å¦‚ä¸‹:

**æ•°ç»„æ—¶é—´å¤æ‚åº¦**

| æ“ä½œ | æœ€å·®çš„ |
| --- | --- |
| è®¿é—®(`Array.[]`) | *T2`O(1)`* |
| æ’å…¥å¤´éƒ¨(`Array.unshift`) | *T2`O(n)`* |
| æ’å…¥å°¾éƒ¨(`Array.push`) | *T2`O(1)`* |
| æœç´¢(å€¼) | *T2`O(n)`* |
| åˆ é™¤(`Array.splice`) | *T2`O(n)`* |

# æ•£åˆ—è¡¨

HashMap æœ‰å¾ˆå¤šåå­—ï¼Œæ¯”å¦‚ HashTableã€HashMapã€Mapã€Dictionaryã€Associative Arrays ç­‰ç­‰ã€‚æ¦‚å¿µæ˜¯ç›¸åŒçš„ï¼Œä½†å®ç°å¯èƒ½ç•¥æœ‰ä¸åŒã€‚

> å“ˆå¸Œè¡¨æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒå°†é”®æ˜ å°„åˆ°å€¼

å›åˆ°æŠ½å±‰ç±»æ¯”ï¼Œåƒåœ¾ç®±æœ‰ä¸€ä¸ªæ ‡ç­¾ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå·ç ã€‚

HashMap å°±åƒä¸€ä¸ªæŠ½å±‰ï¼ŒæŠŠä¸œè¥¿æ”¾åœ¨ç®±å­ä¸Šï¼Œå¹¶è´´ä¸Šæ ‡ç­¾

[![](../Images/97f4d18e5a4207264336196b9437db80.png "HashMap is like a drawer that stores things on bins and labels them")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ZPcJMpFo--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://adrianmejia.com/images/hashmap-drawer.jpg)

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœä½ æ­£åœ¨å¯»æ‰¾ [DSA.js ä¹¦](https://gum.co/dsajs)ï¼Œä½ ä¸å¿…æ‰“å¼€ç®±å­ 1ã€2 å’Œ 3 æ¥æŸ¥çœ‹é‡Œé¢æœ‰ä»€ä¹ˆã€‚ä½ ç›´æ¥è¿›å…¥æ ‡æœ‰â€œä¹¦ç±â€çš„å®¹å™¨ã€‚è¿™æ˜¯ä¸€ä¸ªå·¨å¤§çš„æ”¶è·ï¼æœç´¢æ—¶é—´ä» *O(n)* åˆ° *O(1)* ã€‚

åœ¨æ•°ç»„ä¸­ï¼Œä½¿ç”¨æ•°å­—ç´¢å¼•(ç›¸å¯¹äºä½ç½®)å¼•ç”¨æ•°æ®ã€‚ç„¶è€Œï¼ŒHashMaps ä½¿ç”¨çš„æ ‡ç­¾å¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€æ•°å­—ã€å¯¹è±¡æˆ–ä»»ä½•ä¸œè¥¿ã€‚åœ¨å†…éƒ¨ï¼ŒHashMap ä½¿ç”¨ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ª*æ•£åˆ—å‡½æ•°*å°†æ ‡ç­¾æ˜ å°„åˆ°æ•°ç»„ç´¢å¼•ã€‚

è‡³å°‘æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥å®ç°æ˜ å°„:

1.  **æ•°ç»„**:ä½¿ç”¨æ•£åˆ—å‡½æ•°å°†ä¸€ä¸ªé”®æ˜ å°„åˆ°æ•°ç»„ç´¢å¼•å€¼ã€‚åˆå`HashMap`ã€‚æœ€å·®:`O(n)`ï¼Œä¸€èˆ¬:`O(1)`
2.  **äºŒå‰æŸ¥æ‰¾æ ‘**:ç”¨ä¸€ä¸ªè‡ªæˆ‘å¹³è¡¡çš„äºŒå‰æŸ¥æ‰¾æ ‘æ¥å¯»æ‰¾ä»·å€¼(ç¨åä¼šè¯¦ç»†ä»‹ç»)ã€‚åˆå`TreeMap`ã€‚æœ€å·®: *`O(log n)`* ï¼Œä¸€èˆ¬: *`O(log n)`* ã€‚

æˆ‘ä»¬å°†è¦†ç›–æ ‘æœ¨&äºŒåˆ†æœç´¢æ³•æ ‘ï¼Œæ‰€ä»¥ç°åœ¨ä¸è¦æ‹…å¿ƒå®ƒã€‚åœ°å›¾æœ€å¸¸è§çš„å®ç°æ˜¯ä½¿ç”¨ä¸€ä¸ª**æ•°ç»„**å’Œ`hash`å‡½æ•°ã€‚æ‰€ä»¥ï¼Œè¿™æ˜¯æˆ‘ä»¬è¦å…³æ³¨çš„ä¸€ä¸ªé—®é¢˜ã€‚

**ç”¨æ•°ç»„å®ç° HashMapã€‘**

[![](../Images/a6434b057856744f0b3e959757158c29.png "HashMap: hash function translates keys into bucket (array) indexes")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--RMiN08Co--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://adrianmejia.com/images/hash-map.jpg)

æ­£å¦‚æ‚¨åœ¨å›¾ä¸­çœ‹åˆ°çš„ï¼Œæ¯ä¸ªå¯†é’¥éƒ½è¢«ç¿»è¯‘æˆä¸€ä¸ª**æ•£åˆ—ç **ã€‚ç”±äºæ•°ç»„å¤§å°æœ‰é™(ä¾‹å¦‚ 10)ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨æ¨¡æ•°å‡½æ•°éå†å¯ç”¨çš„å­˜å‚¨æ¡¶ã€‚åœ¨æ¡¶ä¸­ï¼Œæˆ‘ä»¬å­˜å‚¨é”®/å€¼å¯¹ï¼Œå¦‚æœä¸æ­¢ä¸€ä¸ªï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªé›†åˆæ¥ä¿å­˜å®ƒä»¬ã€‚

ç°åœ¨ï¼Œä½ è®¤ä¸ºè¯¦ç»†ä»‹ç»æ¯ä¸ª HashMap ç»„ä»¶æ€ä¹ˆæ ·ï¼Ÿè®©æˆ‘ä»¬ä»**å“ˆå¸Œå‡½æ•°**å¼€å§‹ã€‚

### æ•£åˆ—è¡¨ä¸æ•°ç»„

ä½ å¯èƒ½ä¼šé—®ï¼Œä¸ºä»€ä¹ˆè¦æŠŠé”®è½¬æ¢æˆç´¢å¼•ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨æ•°ç»„å‘¢ï¼Ÿä¸»è¦çš„åŒºåˆ«æ˜¯æ•°ç»„çš„ç´¢å¼•å’Œæ•°æ®æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚ä½ å¿…é¡»çŸ¥é“ä½ çš„æ•°æ®åœ¨å“ªé‡Œã€‚

å‡è®¾ä½ æƒ³è®¡ç®—ä¸€ç¯‡æ–‡ç« ä¸­å•è¯çš„ä½¿ç”¨æ¬¡æ•°ã€‚ä½ å°†å¦‚ä½•å®ç°å®ƒï¼Ÿ

1.  å¯ä»¥ç”¨ä¸¤ä¸ªæ•°ç»„(å§‘ä¸”ç§°ä¹‹ä¸º`A`å’Œ`B`)ã€‚ä¸€ä¸ªç”¨äºå­˜å‚¨å•è¯ï¼Œå¦ä¸€ä¸ªç”¨äºå­˜å‚¨ä»–ä»¬çœ‹è¿‡å¤šå°‘æ¬¡(é¢‘ç‡)ã€‚
2.  ä½ å¯ä»¥ä½¿ç”¨æ•£åˆ—è¡¨ã€‚ä»–ä»¬ *`key`* æ˜¯è¯ï¼Œè€Œ *`value`* æ˜¯è¯çš„é¢‘ç‡ã€‚

ä½¿ç”¨**ä¸¤ä¸ªæ•°ç»„**çš„æ–¹æ³•#1 çš„è¿è¡Œæ—¶é—´æ˜¯å¤šå°‘ï¼Ÿå¦‚æœè¯´ï¼Œæ–‡ä¸­çš„å­—æ•°æ˜¯ *`n`* ã€‚ç„¶åæˆ‘ä»¬å¿…é¡»å¯¹æ•°ç»„`A`ä¸­çš„å•è¯è¿›è¡Œ`search`ï¼Œç„¶åé€’å¢æ•°ç»„`B`ä¸­ä¸è¯¥ç´¢å¼•åŒ¹é…çš„å€¼ã€‚å¯¹äº`n`ä¸Šçš„æ¯ä¸ªå•è¯ï¼Œæˆ‘ä»¬å¿…é¡»æµ‹è¯•å®ƒæ˜¯å¦å·²ç»åœ¨æ•°ç»„`A`ä¸Šã€‚è¿™ä¸ªåŒå¾ªç¯ä½¿ç”¨è¿è¡Œæ—¶é—´ä¸º`O(n<sup>2</sup>)`ã€‚

ä½¿ç”¨**æ•£åˆ—è¡¨**çš„æ–¹æ³•#2 çš„è¿è¡Œæ—¶æ˜¯æ€æ ·çš„ï¼Ÿæˆ‘ä»¬éå†æ–‡æœ¬ä¸­çš„æ¯ä¸ªå•è¯ä¸€æ¬¡ï¼Œå¦‚æœæœ‰ä»€ä¹ˆï¼Œå°±å¢åŠ è¿™ä¸ªå€¼ï¼Œå¦‚æœè¿™ä¸ªå•è¯æ˜¯ç¬¬ä¸€æ¬¡å‡ºç°ï¼Œå°±æŠŠå®ƒè®¾ä¸º 1ã€‚è¿è¡Œæ—¶å°†æ˜¯`O(n)`ï¼Œè¿™æ¯”æ–¹æ³•#1 çš„æ€§èƒ½å¥½å¾—å¤šã€‚

HashMap å’Œ Array çš„åŒºåˆ«

*   å¯¹æ•°ç»„çš„æœç´¢æ˜¯ O(n) ï¼Œè€Œå¯¹æ•£åˆ—è¡¨çš„æœç´¢æ˜¯ O(1)
*   æ•°ç»„å¯ä»¥æœ‰é‡å¤çš„å€¼ï¼Œè€Œ HashMap ä¸èƒ½æœ‰é‡å¤çš„é”®(ä½†æ˜¯å®ƒä»¬å¯ä»¥æœ‰é‡å¤çš„å€¼ã€‚)
*   æ•°ç»„æœ‰ä¸€ä¸ªé”®(index ),å®ƒæ€»æ˜¯ä¸€ä¸ªä» 0 åˆ°æœ€å¤§å€¼çš„æ•°å­—ï¼Œè€Œåœ¨ HashMap ä¸­ï¼Œä½ å¯ä»¥æ§åˆ¶è¿™ä¸ªé”®ï¼Œå®ƒå¯ä»¥æ˜¯ä½ æƒ³è¦çš„ä»»ä½•å€¼:æ•°å­—ã€å­—ç¬¦ä¸²æˆ–ç¬¦å·ã€‚

## å“ˆå¸Œå‡½æ•°

å®ç° HashMap çš„ç¬¬ä¸€æ­¥æ˜¯æ‹¥æœ‰ä¸€ä¸ª hash å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°å°†æ¯ä¸ªé”®æ˜ å°„åˆ°å®ƒçš„å€¼ã€‚

> **å®Œç¾æ•£åˆ—å‡½æ•°**æ˜¯ä¸ºæ¯ä¸ªé”®åˆ†é…ä¸€ä¸ªå”¯ä¸€ç´¢å¼•çš„å‡½æ•°ã€‚

ç†æƒ³çš„æ•£åˆ—ç®—æ³•å…è®¸*å¸¸æ•°æ—¶é—´*è®¿é—®/æŸ¥æ‰¾ã€‚ç„¶è€Œï¼Œåœ¨å®è·µä¸­å¾ˆéš¾å®ç°å®Œç¾çš„å“ˆå¸Œå‡½æ•°ã€‚æ‚¨å¯èƒ½ä¼šé‡åˆ°ä¸¤ä¸ªä¸åŒçš„é”®äº§ç”ŸåŒä¸€ç´¢å¼•çš„æƒ…å†µã€‚è¿™å«åš*ç¢°æ’*ã€‚

å½“ä½¿ç”¨ç±»ä¼¼æ•°ç»„çš„åº•å±‚æ•°æ®ç»“æ„æ—¶ï¼ŒHashMaps ä¸­çš„å†²çªæ˜¯ä¸å¯é¿å…çš„ã€‚åœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œæ•°æ®ä¸èƒ½æ”¾å…¥ HashMapï¼Œå°±ä¼šé‡ç”¨æ•°æ®æ§½ã€‚å¤„ç†å†²çªçš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªé“¾è¡¨æˆ–å¦ä¸€ä¸ªæ•°ç»„å°†å¤šä¸ªå€¼å­˜å‚¨åœ¨åŒä¸€ä¸ªæ¡¶ä¸­(ç¨åå°†è¯¦ç»†ä»‹ç»)ã€‚å½“æˆ‘ä»¬è¯•å›¾è®¿é—®é”®å€¼å¹¶æ‰¾åˆ°ä¸åŒçš„å€¼æ—¶ï¼Œæˆ‘ä»¬è¿­ä»£å€¼ *O(n)* ã€‚ç„¶è€Œï¼Œåœ¨å¤§å¤šæ•°å®ç°ä¸­ï¼Œå“ˆå¸Œä¼šåŠ¨æ€è°ƒæ•´å¤§å°ï¼Œä»¥é¿å…è¿‡å¤šçš„å†²çªã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥è¯´**æ‘Šé”€**æŸ¥æ‰¾æ—¶é—´ä¸º *O(1)* ã€‚åœ¨è¿™ç¯‡æ–‡ç« çš„åé¢ï¼Œæˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è§£é‡Šæ‘Šé”€è¿è¡Œæ—¶é—´çš„å«ä¹‰ã€‚

### å¤©çœŸçš„ HashMap å®ç°

ä¸€ä¸ªç®€å•çš„(ä¹Ÿæ˜¯ç³Ÿç³•çš„)æ•£åˆ—å‡½æ•°åº”è¯¥æ˜¯è¿™æ ·çš„:

```
class NaiveHashMap {

  constructor(initialCapacity = 2) {
    this.buckets = new Array(initialCapacity);
  }

  set(key, value) {
    const index = this.getIndex(key);
    this.buckets[index] = value;
  }

  get(key) {
    const index = this.getIndex(key);
    return this.buckets[index];
  }

  hash(key) {
    return key.toString().length;
  }

  getIndex(key) {
    const indexHash = this.hash(key);
    const index = indexHash % this.buckets.length;
    return index;
  }
} 
```

Enter fullscreen mode Exit fullscreen mode

æˆ‘ä»¬ä½¿ç”¨`buckets`è€Œä¸æ˜¯æŠ½å±‰/åƒåœ¾ç®±ï¼Œä½†ä½ å·²ç»æ˜ç™½äº†:)

æˆ‘ä»¬çš„åˆå§‹å®¹é‡ä¸º 2(æ¡¶)ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬æƒ³åœ¨ä¸Šé¢å­˜å‚¨ä»»æ„æ•°é‡çš„å…ƒç´ ã€‚æˆ‘ä»¬ä½¿ç”¨æ¨¡æ•°`%`æ¥éå†å¯ç”¨æ¡¶çš„æ•°é‡ã€‚

çœ‹çœ‹æˆ‘ä»¬çš„æ•£åˆ—å‡½æ•°ã€‚æˆ‘ä»¬ä¸€ä¼šå„¿ä¼šè°ˆåˆ°å®ƒã€‚é¦–å…ˆï¼Œè®©æˆ‘ä»¬ä½¿ç”¨æ–°çš„æ•£åˆ—è¡¨ï¼

```
// Usage:
const assert = require('assert');
const hashMap = new NaiveHashMap();

hashMap.set('cat', 2);
hashMap.set('rat', 7);
hashMap.set('dog', 1);
hashMap.set('art', 8);

console.log(hashMap.buckets);
/*
  bucket #0: <1 empty item>,
  bucket #1: 8
*/

assert.equal(hashMap.get('art'), 8); // this one is ok
assert.equal(hashMap.get('cat'), 8); // got overwritten by art ğŸ˜±
assert.equal(hashMap.get('rat'), 8); // got overwritten by art ğŸ˜±
assert.equal(hashMap.get('dog'), 8); // got overwritten by art ğŸ˜± 
```

Enter fullscreen mode Exit fullscreen mode

è¿™ä¸ª`Map`å…è®¸æˆ‘ä»¬`set`ä¸€ä¸ªé”®å’Œä¸€ä¸ªå€¼ï¼Œç„¶åä½¿ç”¨`key`æ¥`get`è¯¥å€¼ã€‚å…³é”®éƒ¨åˆ†æ˜¯`hash`åŠŸèƒ½ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å¤šä¸ªå®ç°ï¼Œçœ‹çœ‹å®ƒå¦‚ä½•å½±å“åœ°å›¾çš„æ€§èƒ½ã€‚

åœ¨çœ‹ä¸‹é¢çš„ç­”æ¡ˆä¹‹å‰ï¼Œä½ èƒ½è¯´å‡º`NaiveHashMap`æœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ

`NaiveHashMap`çš„é—®é¢˜åœ¨äº...

**1)** **å“ˆå¸Œå‡½æ•°**ç”Ÿæˆè®¸å¤šé‡å¤é¡¹ã€‚ä¾‹å¦‚

```
hash('cat') // 3
hash('dog') // 3 
```

Enter fullscreen mode Exit fullscreen mode

è¿™æ ·ä¼šé€ æˆå¾ˆå¤šç¢°æ’ã€‚

**2)** **ç¢°æ’**æ ¹æœ¬ä¸å¤„ç†ã€‚`cat`å’Œ`dog`éƒ½å°†åœ¨æ•°ç»„çš„ä½ç½® 3(æ¡¶#1)äº’ç›¸è¦†ç›–ã€‚

**3)** **æ•°ç»„çš„å¤§å°**å³ä½¿æˆ‘ä»¬å¾—åˆ°äº†æ›´å¥½çš„å“ˆå¸Œå‡½æ•°ï¼Œæˆ‘ä»¬ä¹Ÿä¼šå¾—åˆ°é‡å¤çš„ï¼Œå› ä¸ºæ•°ç»„çš„å¤§å°ä¸º 3ï¼Œå°äºæˆ‘ä»¬æƒ³è¦å®¹çº³çš„å…ƒç´ æ•°é‡ã€‚æˆ‘ä»¬å¸Œæœ›åˆå§‹å®¹é‡è¿œè¿œè¶…å‡ºæˆ‘ä»¬éœ€è¦çš„å®¹é‡ã€‚

### æ”¹è¿›å“ˆå¸Œå‡½æ•°

> HashMap çš„ä¸»è¦ç›®çš„æ˜¯å°†æ•°ç»„çš„æœç´¢/è®¿é—®æ—¶é—´ä» *`O(n)`* å‡å°‘åˆ° *`O(1)`* ã€‚

ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦:

1.  äº§ç”Ÿå°½å¯èƒ½å°‘å†²çªçš„é€‚å½“æ•£åˆ—å‡½æ•°ã€‚
2.  ä¸€ä¸ªè¶³å¤Ÿå¤§çš„æ•°ç»„æ¥ä¿å­˜æ‰€æœ‰éœ€è¦çš„å€¼ã€‚

è®©æˆ‘ä»¬å†è¯•è¯•æˆ‘ä»¬çš„æ•£åˆ—å‡½æ•°ã€‚ä¸ä½¿ç”¨å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œè®©æˆ‘ä»¬å¯¹æ¯ä¸ªå­—ç¬¦ [ascii ç ](https://simple.wikipedia.org/wiki/ASCII)æ±‚å’Œã€‚

```
 hash(key) {
    let hashValue = 0;
    const stringKey = key.toString();

    for (let index = 0; index < stringKey.length; index++) {
      const charCode = stringKey.charCodeAt(index);
      hashValue += charCode;
    }

    return hashValue;
  } 
```

Enter fullscreen mode Exit fullscreen mode

æˆ‘ä»¬å†è¯•ä¸€æ¬¡:

```
hash('cat') // 312  (c=99 + a=97 + t=116)
hash('dog') // 314 (d=100 + o=111 + g=103) 
```

Enter fullscreen mode Exit fullscreen mode

è¿™ä¸ªæ›´å¥½ï¼å› ä¸ºåŒæ ·é•¿åº¦çš„å•è¯æœ‰ä¸åŒçš„ä»£ç ã€‚

ç„¶è€Œï¼Œä»ç„¶æœ‰ä¸€ä¸ªé—®é¢˜ï¼å› ä¸º`rat`å’Œ`art`éƒ½æ˜¯ 327ï¼Œ**ç¢°æ’ï¼**ğŸ’¥

æˆ‘ä»¬å¯ä»¥é€šè¿‡ç”¨ä½ç½®:
æŠµæ¶ˆæ€»å’Œæ¥è§£å†³è¿™ä¸ªé—®é¢˜

```
 hash(key) {
    let hashValue = 0;
    const stringKey = `${key}`;

    for (let index = 0; index < stringKey.length; index++) {
      const charCode = stringKey.charCodeAt(index);
      hashValue += charCode << (index * 8);
    }

    return hashValue;
  } 
```

Enter fullscreen mode Exit fullscreen mode

ç°åœ¨è®©æˆ‘ä»¬å†è¯•ä¸€æ¬¡ï¼Œè¿™æ¬¡ç”¨åå…­è¿›åˆ¶æ•°ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°åç§»ã€‚

```
// r = 114 or 0x72; a = 97 or 0x61; t = 116 or 0x74
hash('rat'); // 7,627,122 (r: 114 * 1 + a: 97 * 256 + t: 116 * 65,536) or in hex: 0x726174 (r: 0x72 + a: 0x6100 + t: 0x740000)
hash('art'); // 7,631,457 or 0x617274 
```

Enter fullscreen mode Exit fullscreen mode

ä¸åŒç±»å‹å‘¢ï¼Ÿ

```
hash(1); // 49
hash('1'); // 49

hash('1,2,3'); // 741485668
hash([1,2,3]); // 741485668

hash('undefined') // 3402815551
hash(undefined) // 3402815551 
```

Enter fullscreen mode Exit fullscreen mode

ä¼‘æ–¯é¡¿ï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼ï¼ä¸åŒçš„å€¼ç±»å‹ä¸åº”è¯¥è¿”å›ç›¸åŒçš„å“ˆå¸Œä»£ç ï¼

æˆ‘ä»¬å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ

ä¸€ç§æ–¹æ³•æ˜¯å°†å…³é”®å­—`type`è€ƒè™‘åˆ°æ•£åˆ—å‡½æ•°ä¸­ã€‚

```
 hash(key) {
    let hashValue = 0;
    const stringTypeKey = `${key}${typeof key}`;

    for (let index = 0; index < stringTypeKey.length; index++) {
      const charCode = stringTypeKey.charCodeAt(index);
      hashValue += charCode << (index * 8);
    }

    return hashValue;
  } 
```

Enter fullscreen mode Exit fullscreen mode

è®©æˆ‘ä»¬å†æµ‹è¯•ä¸€æ¬¡:

```
console.log(hash(1)); // 1843909523
console.log(hash('1')); // 1927012762

console.log(hash('1,2,3')); // 2668498381
console.log(hash([1,2,3])); // 2533949129

console.log(hash('undefined')); // 5329828264
console.log(hash(undefined)); // 6940203017 
```

Enter fullscreen mode Exit fullscreen mode

è€¶ï¼ï¼ï¼ğŸ‰æˆ‘ä»¬æœ‰ä¸€ä¸ªæ›´å¥½çš„æ•£åˆ—å‡½æ•°ï¼

æˆ‘ä»¬è¿˜å¯ä»¥æ›´æ”¹é˜µåˆ—çš„åˆå§‹å®¹é‡ï¼Œä»¥æœ€å¤§é™åº¦åœ°å‡å°‘å†²çªã€‚è®©æˆ‘ä»¬åœ¨ä¸‹ä¸€èŠ‚å°†æ‰€æœ‰è¿™äº›æ”¾åœ¨ä¸€èµ·ã€‚

## ä½“é¢æ•£åˆ—è¡¨å®ç°

ä½¿ç”¨æˆ‘ä»¬ä¼˜åŒ–çš„æ•£åˆ—å‡½æ•°ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥åšå¾—æ›´å¥½ã€‚

æˆ‘ä»¬ä»ç„¶å¯èƒ½æœ‰å†²çªï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å®ç°ä¸€äº›ä¸œè¥¿æ¥å¤„ç†å®ƒä»¬

è®©æˆ‘ä»¬å¯¹ HashMap å®ç°è¿›è¡Œä»¥ä¸‹æ”¹è¿›:

*   **å“ˆå¸Œå‡½æ•°**ï¼Œæ£€æŸ¥ç±»å‹å’Œå­—ç¬¦é¡ºåºä»¥æœ€å°åŒ–å†²çªã€‚
*   **é€šè¿‡å‘åˆ—è¡¨è¿½åŠ å€¼æ¥å¤„ç†å†²çª**ã€‚æˆ‘ä»¬è¿˜æ·»åŠ äº†ä¸€ä¸ªè®¡æ•°å™¨æ¥è·Ÿè¸ªå®ƒä»¬ã€‚

```
class DecentHashMap {

  constructor(initialCapacity = 2) {
    this.buckets = new Array(initialCapacity);
    this.collisions = 0;
  }

  set(key, value) {
    const bucketIndex = this.getIndex(key);
    if(this.buckets[bucketIndex]) {
      this.buckets[bucketIndex].push({key, value});
      if(this.buckets[bucketIndex].length > 1) { this.collisions++; }
    } else {
      this.buckets[bucketIndex] = [{key, value}];
    }
    return this;
  }

  get(key) {
    const bucketIndex = this.getIndex(key);
    for (let arrayIndex = 0; arrayIndex < this.buckets[bucketIndex].length; arrayIndex++) {
      const entry = this.buckets[bucketIndex][arrayIndex];
      if(entry.key === key) {
        return entry.value
      }
    }
  }

  hash(key) {
    let hashValue = 0;
    const stringTypeKey = `${key}${typeof key}`;

    for (let index = 0; index < stringTypeKey.length; index++) {
      const charCode = stringTypeKey.charCodeAt(index);
      hashValue += charCode << (index * 8);
    }

    return hashValue;
  }

  getIndex(key) {
    const indexHash = this.hash(key);
    const index = indexHash % this.buckets.length;
    return index;
  }
} 
```

Enter fullscreen mode Exit fullscreen mode

è®©æˆ‘ä»¬ä½¿ç”¨å®ƒï¼Œçœ‹çœ‹å®ƒè¡¨ç°å¦‚ä½•:

```
// Usage:
const assert = require('assert');
const hashMap = new DecentHashMap();

hashMap.set('cat', 2);
hashMap.set('rat', 7);
hashMap.set('dog', 1);
hashMap.set('art', 8);

console.log('collisions: ', hashMap.collisions); // 2
console.log(hashMap.buckets);
/*
  bucket #0: [ { key: 'cat', value: 2 }, { key: 'art', value: 8 } ]
  bucket #1: [ { key: 'rat', value: 7 }, { key: 'dog', value: 1 } ]
*/

assert.equal(hashMap.get('art'), 8); // this one is ok
assert.equal(hashMap.get('cat'), 2); // Good. Didn't got overwritten by art
assert.equal(hashMap.get('rat'), 7); // Good. Didn't got overwritten by art
assert.equal(hashMap.get('dog'), 1); // Good. Didn't got overwritten by art 
```

Enter fullscreen mode Exit fullscreen mode

è¿™ä¸ª`DecentHashMap`å®Œæˆäº†å·¥ä½œï¼Œä½†æ˜¯ï¼Œä»ç„¶æœ‰ä¸€äº›é—®é¢˜ã€‚æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨ä¸€ä¸ªä½“é¢çš„å“ˆå¸Œå‡½æ•°ï¼Œä¸ä¼šäº§ç”Ÿé‡å¤çš„å€¼ï¼Œè¿™å¾ˆå¥½ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬åœ¨`bucket#0`ä¸­æœ‰ä¸¤ä¸ªå€¼ï¼Œåœ¨`bucket#1`ä¸­è¿˜æœ‰ä¸¤ä¸ªå€¼ã€‚è¿™æ€ä¹ˆå¯èƒ½å‘¢ï¼Ÿ

å› ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯æœ‰é™çš„æ¡¶å¤§å° 2ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨æ¨¡æ•°`%`æ¥éå†å¯ç”¨æ¡¶çš„æ•°é‡ã€‚å› æ­¤ï¼Œå³ä½¿æ•£åˆ—ç ä¸åŒï¼Œæ‰€æœ‰å€¼éƒ½é€‚åˆæ•°ç»„çš„å¤§å°:bucket#0 æˆ– bucket#1ã€‚

```
hash('cat') => 3789411390; bucketIndex => 3789411390 % 2 = 0
hash('art') => 3789415740; bucketIndex => 3789415740 % 2 = 0
hash('dog') => 3788563007; bucketIndex => 3788563007 % 2 = 1
hash('rat') => 3789411405; bucketIndex => 3789411405 % 2 = 1 
```

Enter fullscreen mode Exit fullscreen mode

å› æ­¤ï¼Œæˆ‘ä»¬è‡ªç„¶å¢åŠ äº†åˆå§‹å®¹é‡ï¼Œä½†å¢åŠ äº†å¤šå°‘å‘¢ï¼Ÿè®©æˆ‘ä»¬çœ‹çœ‹åˆå§‹å¤§å°æ˜¯å¦‚ä½•å½±å“å“ˆå¸Œæ˜ å°„æ€§èƒ½çš„ã€‚

å¦‚æœæˆ‘ä»¬çš„åˆå§‹å®¹é‡ä¸º`1`ã€‚æ‰€æœ‰çš„å€¼éƒ½ä¼šè¿›å…¥ä¸€ä¸ªæ¡¶(`bucket#0`)ï¼Œä¸ä¼šæ¯”åœ¨ä¸€ä¸ªç®€å•çš„æ•°ç»„ *`O(n)`* ä¸­æœç´¢ä¸€ä¸ªå€¼å¥½å¤šå°‘ã€‚

å‡è®¾æˆ‘ä»¬ä»åˆå§‹å®¹é‡è®¾ç½®ä¸º 10 å¼€å§‹:

```
const hashMapSize10 = new DecentHashMap(10);

hashMapSize10.set('cat', 2);
hashMapSize10.set('rat', 7);
hashMapSize10.set('dog', 1);
hashMapSize10.set('art', 8);

console.log('collisions: ', hashMapSize10.collisions); // 1
console.log('hashMapSize10\n', hashMapSize10.buckets);
/*
  bucket#0: [ { key: 'cat', value: 2 }, { key: 'art', value: 8 } ],
            <4 empty items>,
  bucket#5: [ { key: 'rat', value: 7 } ],
            <1 empty item>,
  bucket#7: [ { key: 'dog', value: 1 } ],
            <2 empty items>
*/ 
```

Enter fullscreen mode Exit fullscreen mode

æ¢ä¸ªè§’åº¦æ¥çœ‹

[![](../Images/a6434b057856744f0b3e959757158c29.png "HashMap: hash function translates keys into bucket (array) indexes")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--RMiN08Co--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://adrianmejia.com/images/hash-map.jpg)

å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘ä»¬é€šè¿‡å¢åŠ å“ˆå¸Œè¡¨çš„åˆå§‹å®¹é‡å‡å°‘äº†å†²çªçš„æ•°é‡(ä» 2 ä¸ªå‡å°‘åˆ° 1 ä¸ª)ã€‚

è®©æˆ‘ä»¬è¯•è¯•æ›´å¤§çš„å®¹é‡ğŸ’¯:

```
const hashMapSize100 = new DecentHashMap(100);

hashMapSize100.set('cat', 2);
hashMapSize100.set('rat', 7);
hashMapSize100.set('dog', 1);
hashMapSize100.set('art', 8);

console.log('collisions: ', hashMapSize100.collisions); // 0
console.log('hashMapSize100\n', hashMapSize100.buckets);
/*
            <5 empty items>,
  bucket#5: [ { key: 'rat', value: 7 } ],
            <1 empty item>,
  bucket#7: [ { key: 'dog', value: 1 } ],
            <32 empty items>,
  bucket#41: [ { key: 'art', value: 8 } ],
            <49 empty items>,
  bucket#90: [ { key: 'cat', value: 2 } ],
            <9 empty items>
*/ 
```

Enter fullscreen mode Exit fullscreen mode

è€¶ï¼ğŸŠæ²¡æœ‰ç¢°æ’ï¼

æ‹¥æœ‰ä¸€ä¸ªæ›´å¤§çš„æ¡¶å¤§å°å¯¹äºé¿å…å†²çªæ˜¯éå¸¸å¥½çš„ï¼Œä½†æ˜¯å®ƒæ¶ˆè€—äº†**å¤ªå¤šçš„å†…å­˜**ï¼Œå¹¶ä¸”å¯èƒ½å¤§éƒ¨åˆ†çš„æ¡¶éƒ½ä¸ä¼šè¢«ä½¿ç”¨ã€‚

å¦‚æœæˆ‘ä»¬èƒ½æœ‰ä¸€ä¸ªæ ¹æ®éœ€è¦è‡ªåŠ¨å¢åŠ å¤§å°çš„æ•£åˆ—è¡¨ï¼Œé‚£ä¸æ˜¯å¾ˆå¥½å—ï¼Ÿå—¯ï¼Œé‚£å«**è€è°ƒé‡å¼¹**ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥è¦åšçš„ï¼

## æœ€ä¼˜ HashMap å®ç°

å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªè¶³å¤Ÿå¤§çš„æ¡¶ï¼Œæˆ‘ä»¬å°†ä¸ä¼šæœ‰ç¢°æ’ï¼Œå› æ­¤æœç´¢æ—¶é—´å°†æ˜¯ *`O(1)`* ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬æ€ä¹ˆçŸ¥é“ä¸€ä¸ª hash å›¾çš„å®¹é‡åº”è¯¥æœ‰å¤šå¤§å‘¢ï¼Ÿ100?1,000?ä¸€ç™¾ä¸‡ï¼Ÿ

åˆ†é…å¤§é‡å†…å­˜æ˜¯ä¸åˆ‡å®é™…çš„ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬èƒ½åšçš„å°±æ˜¯è®©å“ˆå¸Œè¡¨æ ¹æ®è´Ÿè½½ç³»æ•°è‡ªåŠ¨è°ƒæ•´å¤§å°ã€‚è¿™ä¸ªæ“ä½œå«åš**é‡æ•£åˆ—**ã€‚

**åŠ è½½å› å­**æ˜¯å¯¹å“ˆå¸Œæ˜ å°„æœ‰å¤šæ»¡çš„åº¦é‡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†ç‰©å“çš„æ•°é‡é™¤ä»¥æ¡¶çš„å¤§å°æ¥å¾—åˆ°è£…è½½ç³»æ•°ã€‚

è¿™å°†æ˜¯æˆ‘ä»¬æœ€æ–°æœ€æ£’çš„å“ˆå¸Œæ˜ å°„å®ç°:

**ä¼˜åŒ–çš„å“ˆå¸Œæ˜ å°„å®ç°**

[github . com/amejiarosario/DSA . js/blob/master/src/data-structures/maps/hash-maps/hash-map . js](https://github.com/amejiarosario/dsa.js/blob/master/src/data-structures/maps/hash-maps/hash-map.js)

ç‰¹åˆ«æ³¨æ„[çš„å†æ•£åˆ—æ–¹æ³•](https://github.com/amejiarosario/dsa.js/blob/master/src/data-structures/maps/hash-maps/hash-map.js#L198-L217)ã€‚è¿™å°±æ˜¯å¥‡è¿¹å‘ç”Ÿçš„åœ°æ–¹ã€‚æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå®¹é‡ç¿»å€çš„æ–°æ•£åˆ—è¡¨ã€‚

æ‰€ä»¥ï¼Œ**æµ‹è¯•**æˆ‘ä»¬çš„æ–°å®ç°æ¥è‡ªä¸Šé¢çš„^

```
const assert = require('assert');
const hashMap = new HashMap();

assert.equal(hashMap.getLoadFactor(), 0);
hashMap.set('songs', 2);
hashMap.set('pets', 7);
hashMap.set('tests', 1);
hashMap.set('art', 8);
assert.equal(hashMap.getLoadFactor(), 4/16);

hashMap.set('Pineapple', 'Pen Pineapple Apple Pen');
hashMap.set('Despacito', 'Luis Fonsi');
hashMap.set('Bailando', 'Enrique Iglesias');
hashMap.set('Dura', 'Daddy Yankee');

hashMap.set('Lean On', 'Major Lazer');
hashMap.set('Hello', 'Adele');
hashMap.set('All About That Bass', 'Meghan Trainor');
hashMap.set('This Is What You Came For', 'Calvin Harris ');

assert.equal(hashMap.collisions, 2);
assert.equal(hashMap.getLoadFactor(), 0.75);
assert.equal(hashMap.buckets.length, 16);

hashMap.set('Wake Me Up', 'Avicii'); // <--- Trigger REHASH

assert.equal(hashMap.collisions, 0);
assert.equal(hashMap.getLoadFactor(), 0.40625);
assert.equal(hashMap.buckets.length, 32); 
```

Enter fullscreen mode Exit fullscreen mode

è¯·æ³¨æ„ï¼Œåœ¨æˆ‘ä»¬æ·»åŠ ç¬¬ 12 ä¸ªé¡¹ç›®åï¼Œè´Ÿè½½ç³»æ•°è¶…è¿‡äº† 0.75ï¼Œå› æ­¤è§¦å‘äº†ä¸€æ¬¡é‡æ•£åˆ—ï¼Œä½¿å®¹é‡åŠ å€(ä» 16 å¢åŠ åˆ° 32)ã€‚æ­¤å¤–ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°ç¢°æ’æ•°æ˜¯å¦‚ä½•ä» 2 æé«˜åˆ° 0 çš„ï¼

è¿™ä¸ªå®ç°è¶³å¤Ÿå¥½ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ææ¸…æ¥šæ’å…¥/æœç´¢/åˆ é™¤/ç¼–è¾‘ç­‰å¸¸è§æ“ä½œçš„è¿è¡Œæ—¶ã€‚

æ€»è€Œè¨€ä¹‹ï¼Œæ•£åˆ—è¡¨çš„æ€§èƒ½å°†ç”±ä¸‹å¼ç»™å‡º:

1.  æ¯ä¸ªé”®ä¸ºä¸åŒçš„è¾“å‡ºäº§ç”Ÿçš„æ•£åˆ—å‡½æ•°ã€‚
2.  ä¿å­˜æ•°æ®çš„å­˜å‚¨æ¡¶çš„å¤§å°ã€‚

æˆ‘ä»¬ä¸¤ä¸ªéƒ½æå®šäº†ğŸ”¨ã€‚æˆ‘ä»¬æœ‰ä¸€ä¸ªä¸é”™çš„å“ˆå¸Œå‡½æ•°ï¼Œå¯ä»¥ä¸ºä¸åŒçš„æ•°æ®äº§ç”Ÿä¸åŒçš„è¾“å‡ºã€‚ä¸¤ä¸ªä¸åŒçš„æ•°æ®æ°¸è¿œä¸ä¼šè¿”å›ç›¸åŒçš„ä»£ç ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªé‡æ–°æ•£åˆ—åŠŸèƒ½ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è‡ªåŠ¨å¢åŠ å®¹é‡ã€‚å¤ªå¥½äº†ï¼

### åœ¨ HashMap è¿è¡Œæ—¶æ’å…¥å…ƒç´ 

åœ¨ HashMap ä¸Šæ’å…¥å…ƒç´ éœ€è¦ä¸¤ä»¶äº‹:ä¸€ä¸ªé”®å’Œä¸€ä¸ªå€¼ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æˆ‘ä»¬å¼€å‘çš„ [DecentHashMap](#DecentHashMap) æ•°æ®ç»“æ„æˆ–è€…ä½¿ç”¨å†…ç½®çš„å¦‚ä¸‹:

```
function insert(object, key, value) {
  object[key] = value;
  return object;
}

const object = {};
console.log(insert(hash, 'word', 1)); // => { word: 1 } 
```

Enter fullscreen mode Exit fullscreen mode

åœ¨ç°ä»£ JavaScript ä¸­ï¼Œå¯ä»¥ä½¿ç”¨`Map` s.

```
function insertMap(map, key, value) {
  map.set(key, value);
  return map;
}

const map = new Map();
console.log(insertMap(map, 'word', 1)); // Map { 'word' => 1 } 
```

Enter fullscreen mode Exit fullscreen mode

**æ³¨æ„:**æˆ‘ä»¬å°†ä½¿ç”¨`Map`è€Œä¸æ˜¯å¸¸è§„çš„`Object`ï¼Œå› ä¸ºåœ°å›¾çš„é”®å¯ä»¥æ˜¯ä»»ä½•ä¸œè¥¿ï¼Œè€Œå¯¹è±¡çš„é”®åªèƒ½æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—ã€‚å¦å¤–ï¼Œ`Map` s ä¿æŒæ’å…¥é¡ºåºã€‚

åœ¨å¹•åï¼Œ`Map.set`åªæ˜¯å°†å…ƒç´ æ’å…¥åˆ°ä¸€ä¸ªæ•°ç»„ä¸­(çœ‹çœ‹ [`DecentHashMap.set`](#DecentHashMap) )ã€‚æ‰€ä»¥ï¼Œç±»ä¼¼äº`Array.push`æˆ‘ä»¬æœ‰è¿™æ ·çš„è¯´æ³•:

> åœ¨ HashMap è¿è¡Œæ—¶æ’å…¥å…ƒç´ æ˜¯ *O(1)* ã€‚å¦‚æœéœ€è¦é‡æ–°æ•£åˆ—ï¼Œé‚£ä¹ˆå°†éœ€è¦ *O(n)*

æˆ‘ä»¬ç”¨[å†æ•£åˆ—](#HashMapWithRehash)åŠŸèƒ½çš„å®ç°å°†å†²çªä¿æŒåœ¨æœ€å°ã€‚å†æ•£åˆ—æ“ä½œéœ€è¦ *`O(n)`* ï¼Œä½†å®ƒå¹¶ä¸æ˜¯ä¸€ç›´å‘ç”Ÿï¼Œåªæ˜¯åœ¨éœ€è¦çš„æ—¶å€™æ‰ä¼šå‘ç”Ÿã€‚

### åœ¨ HashMap è¿è¡Œæ—¶æœç´¢/è®¿é—®å…ƒç´ 

è¿™æ˜¯æˆ‘ä»¬ç”¨æ¥è·å–ä¸é”®ç›¸å…³çš„å€¼çš„`HashMap.get`å‡½æ•°ã€‚è®©æˆ‘ä»¬ä» [`DecentHashMap.get`](#DecentHashMap) æ¥è¯„ä»·ä¸€ä¸‹å®ç°å§:

```
 get(key) {
    const hashIndex = this.getIndex(key);
    const values = this.array[hashIndex];
    for (let index = 0; index < values.length; index++) {
      const entry = values[index];
      if(entry.key === key) {
        return entry.value
      }
    }
  } 
```

Enter fullscreen mode Exit fullscreen mode

å¦‚æœæ²¡æœ‰å†²çªï¼Œé‚£ä¹ˆ`values`å°†åªæœ‰ä¸€ä¸ªå€¼ï¼Œè®¿é—®æ—¶é—´å°†æ˜¯ *`O(1)`* ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬çŸ¥é“ä¼šæœ‰ç¢°æ’ã€‚å¦‚æœåˆå§‹å®¹é‡å¤ªå°ï¼Œå“ˆå¸Œå‡½æ•°å¾ˆç³Ÿç³•ï¼Œå°±åƒ [NaiveHashMap.hash](#NaiveHashMap) ä¸€æ ·ï¼Œé‚£ä¹ˆå¤§éƒ¨åˆ†å…ƒç´ å°†åœ¨å‡ ä¸ªæ¡¶ *`O(n)`* ä¸­ç»“æŸã€‚

> HashMap è®¿é—®æ“ä½œå¹³å‡è¿è¡Œæ—¶é—´ä¸º *`O(1)`* ï¼Œæœ€å·®è¿è¡Œæ—¶é—´ä¸º *`O(n)`* ã€‚

**é«˜çº§æ³¨æ„:**å‡å°‘ä» *O(n)* åˆ° *O(log n)* è·å–å…ƒç´ æ—¶é—´çš„å¦ä¸€ä¸ªæ€è·¯æ˜¯ç”¨ä¸€ä¸ª*äºŒå‰æŸ¥æ‰¾æ ‘*ä»£æ›¿ä¸€ä¸ªæ•°ç»„ã€‚å®é™…ä¸Šï¼Œ [Java çš„ HashMap å®ç°](http://hg.openjdk.java.net/jdk9/jdk9/jdk/file/f08705540498/src/java.base/share/classes/java/util/HashMap.java#l145)åœ¨ä¸€ä¸ª bucket æ‹¥æœ‰è¶…è¿‡ [8 ä¸ªå…ƒç´ ](http://hg.openjdk.java.net/jdk9/jdk9/jdk/file/f08705540498/src/java.base/share/classes/java/util/HashMap.java#l257)æ—¶ä¼šä»æ•°ç»„åˆ‡æ¢åˆ°æ ‘ã€‚

### åœ¨ HashMap è¿è¡Œæ—¶ç¼–è¾‘/åˆ é™¤å…ƒç´ 

ç¼–è¾‘(`HashMap.set`)å’Œåˆ é™¤(`HashMap.delete`)é”®/å€¼å¯¹æœ‰ä¸€ä¸ª *`O(1)`* çš„**åˆ†æ‘Š**è¿è¡Œæ—¶ã€‚åœ¨å¤šæ¬¡ç¢°æ’çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé¢ä¸´ä¸€ä¸ª *`O(n)`* çš„æœ€åæƒ…å†µã€‚ç„¶è€Œï¼Œé€šè¿‡æˆ‘ä»¬çš„å†æ•£åˆ—æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥é™ä½è¿™ç§é£é™©ã€‚

> HashMap çš„ç¼–è¾‘å’Œåˆ é™¤æ“ä½œå¹³å‡è¿è¡Œæ—¶é—´ä¸º *`O(1)`* ï¼Œæœ€å·®è¿è¡Œæ—¶é—´ä¸º *`O(n)`* ã€‚

## HashMap æ“ä½œæ—¶é—´å¤æ‚åº¦

æˆ‘ä»¬å¯ä»¥å°†é˜µåˆ—çš„æ—¶é—´å¤æ‚åº¦æ€»ç»“å¦‚ä¸‹:

**HashMap æ—¶é—´å¤æ‚åº¦**

| æ“ä½œ | æœ€å·®çš„ | åˆ†æœŸå¿è¿˜ | è¯„è®º |
| --- | --- | --- | --- |
| è®¿é—®/æœç´¢(`HashMap.get`) | *T2`O(n)`* | *T2`O(1)`* | *`O(n)`* æ˜¯ç¢°æ’å¤ªå¤šçš„æç«¯æƒ…å†µ |
| æ’å…¥/ç¼–è¾‘(`HashMap.set`) | *T2`O(n)`* | *T2`O(1)`* | *`O(n)`* åªæœ‰å½“ hash ä¸º 0.75 æ»¡æ—¶æ‰ä¼šå‘ç”Ÿå†æ•£åˆ— |
| åˆ é™¤(`HashMap.delete`) | *T2`O(n)`* | *T2`O(1)`* | *`O(n)`* æ˜¯ç¢°æ’å¤ªå¤šçš„æç«¯æƒ…å†µ |

## é›†

é›†åˆä¸æ•°ç»„éå¸¸ç›¸ä¼¼ã€‚ä¸åŒçš„æ˜¯ï¼Œä»–ä»¬ä¸å…è®¸é‡å¤ã€‚

å¦‚ä½•å®ç°ä¸€ä¸ªé›†åˆ(æ²¡æœ‰é‡å¤çš„æ•°ç»„)ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ•°ç»„ï¼Œåœ¨æ’å…¥ä¸€ä¸ªæ–°çš„å…ƒç´ ä¹‹å‰æ£€æŸ¥å®ƒæ˜¯å¦å­˜åœ¨ã€‚ä½†æ˜¯æ£€æŸ¥ä¸€ä¸ªé¡¹ç›®æ˜¯å¦å·²ç»å­˜åœ¨çš„è¿è¡Œæ—¶é—´æ˜¯ *`O(n)`* ã€‚æˆ‘ä»¬èƒ½åšå¾—æ›´å¥½å—ï¼Ÿæˆ‘ä»¬å¼€å‘äº†åˆ†æ‘Šè¿è¡Œæ—¶é—´ä¸º *`O(1)`* çš„`Map`ï¼

### è®¾å®šå®ç°

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†…ç½®çš„ JavaScriptã€‘ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬è‡ªå·±å®ç°çš„è¯ï¼Œæ‰£é™¤è¿è¡Œæ—¶å°±æ›´ç¬¦åˆé€»è¾‘äº†ã€‚æˆ‘ä»¬å°†ä½¿ç”¨å…·æœ‰å†æ•£åˆ—åŠŸèƒ½çš„[ä¼˜åŒ–æ•£åˆ—è¡¨](#HashMapWithRehash)ã€‚

```
const HashMap = require('../hash-maps/hash-map');

class MySet {
  constructor() {
    this.hashMap = new HashMap();
  }

  add(value) {
    this.hashMap.set(value);
  }

  has(value) {
    return this.hashMap.has(value);
  }

  get size() {
    return this.hashMap.size;
  }

  delete(value) {
    return this.hashMap.delete(value);
  }

  entries() {
    return this.hashMap.keys.reduce((acc, key) => {
      if(key !== undefined) {
        acc.push(key.content);
      }
      return acc
    }, []);
  }
} 
```

Enter fullscreen mode Exit fullscreen mode

æˆ‘ä»¬ä½¿ç”¨`HashMap.set`æ¥æ·»åŠ æ²¡æœ‰é‡å¤çš„é›†åˆå…ƒç´ ã€‚æˆ‘ä»¬ä½¿ç”¨é”®ä½œä¸ºå€¼ï¼Œå› ä¸ºå“ˆå¸Œæ˜ å°„é”®æ˜¯æƒŸä¸€çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éƒ½è®¾ç½®å¥½äº†ã€‚

æ£€æŸ¥ä¸€ä¸ªå…ƒç´ æ˜¯å¦å·²ç»å­˜åœ¨å¯ä»¥ä½¿ç”¨`hashMap.has`æ¥å®Œæˆï¼Œå®ƒæœ‰ä¸€ä¸ªåˆ†æ‘Šçš„è¿è¡Œæ—¶é—´ *`O(1)`* ã€‚é™¤äº†å¾—åˆ°`entries`å³ *`O(n)`* ä¹‹å¤–ï¼Œå¤§å¤šæ•°æ“ä½œéƒ½æ˜¯æ‘Šä½™å¸¸æ•°æ—¶é—´ã€‚

æ³¨æ„:JS å†…ç½®çš„`Set.has`æœ‰ä¸€ä¸ªè¿è¡Œæ—¶ä¸º *O(n)* ï¼Œå› ä¸ºå®ƒä½¿ç”¨ä¸€ä¸ªå¸¸è§„çš„å…ƒç´ åˆ—è¡¨ï¼Œå¹¶ä¸”ä¸€æ¬¡æ£€æŸ¥ä¸€ä¸ªå…ƒç´ ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°`Set.has`ç®—æ³•

ä¸‹é¢æ˜¯ä¸€äº›å¦‚ä½•ä½¿ç”¨å®ƒçš„ä¾‹å­:

```
const assert = require('assert');
// const set = new Set(); // Using the built-in
const set = new MySet(); // Using our own implementation

set.add('one');
set.add('uno');
set.add('one'); // should NOT add this one twice

assert.equal(set.has('one'), true);
assert.equal(set.has('dos'), false);

assert.equal(set.size, 2);
// assert.deepEqual(Array.from(set), ['one', 'uno']);

assert.equal(set.delete('one'), true);
assert.equal(set.delete('one'), false);
assert.equal(set.has('one'), false);
assert.equal(set.size, 1); 
```

Enter fullscreen mode Exit fullscreen mode

å¯¹äºè¿™äº›ç¤ºä¾‹ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿäº’æ¢ä½¿ç”¨`MySet`å’Œå†…ç½®`Set`ã€‚

### è®¾å®šæ“ä½œè¿è¡Œæ—¶

ä»æˆ‘ä»¬ä½¿ç”¨ HashMap çš„ Set å®ç°ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ—¶é—´å¤æ‚åº¦æ€»ç»“å¦‚ä¸‹(éå¸¸ç±»ä¼¼äº HashMap):

**è®¾å®šæ—¶é—´å¤æ‚åº¦**

| æ“ä½œ | æœ€å·®çš„ | åˆ†æœŸå¿è¿˜ | è¯„è®º |
| --- | --- | --- | --- |
| è®¿é—®/æœç´¢(`Set.has`) | *T2`O(n)`* | *T2`O(1)`* | *`O(n)`* æ˜¯ç¢°æ’å¤ªå¤šçš„æç«¯æƒ…å†µ |
| æ’å…¥/ç¼–è¾‘(`Set.add`) | *T2`O(n)`* | *T2`O(1)`* | *`O(n)`* åªåœ¨ hash ä¸º 0.75 æ»¡çš„æƒ…å†µä¸‹ä¸*å†æ•£åˆ—*å‘ç”Ÿ |
| åˆ é™¤(`Set.delete`) | *T2`O(n)`* | *T2`O(1)`* | *`O(n)`* æ˜¯ç¢°æ’å¤ªå¤šçš„æç«¯æƒ…å†µ |

## é“¾è¡¨

é“¾è¡¨æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¸ä¸‹ä¸€ä¸ªå…ƒç´ ç›¸è¿ã€‚

[![](../Images/62a675447b14e97d682d56983ac300c1.png "LinkedList")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--cTAuB0Cw--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://adrianmejia.com/images/linked-list.jpg)

é“¾è¡¨æ˜¯æˆ‘ä»¬è¦å®ç°çš„ç¬¬ä¸€ä¸ªä¸ä½¿ç”¨æ•°ç»„çš„æ•°æ®ç»“æ„ã€‚ç›¸åï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ª`node`æ¥ä¿å­˜ä¸€ä¸ª`value`å¹¶æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚

```
class Node {
  constructor(value) {
    this.value = value;
    this.next = null;
  }
} 
```

Enter fullscreen mode Exit fullscreen mode

å½“æˆ‘ä»¬æœ‰ä¸€ä¸ªèŠ‚ç‚¹é“¾ï¼Œæ¯ä¸ªèŠ‚ç‚¹æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œæˆ‘ä»¬å°±æœ‰äº†ä¸€ä¸ª**å•é“¾è¡¨**ã€‚

## å•é“¾è¡¨

å¯¹äºä¸€ä¸ªå•é“¾è¡¨ï¼Œæˆ‘ä»¬åªéœ€è¦æ‹…å¿ƒæ¯ä¸ªå…ƒç´ å¯¹ä¸‹ä¸€ä¸ªå…ƒç´ çš„å¼•ç”¨ã€‚

æˆ‘ä»¬ä»æ„é€ æ ¹å…ƒç´ æˆ–å¤´å…ƒç´ å¼€å§‹ã€‚

```
class LinkedList {
  constructor() {
    this.root = null;
  }

  // ...
} 
```

Enter fullscreen mode Exit fullscreen mode

åœ¨æ¯ä¸ªé“¾è¡¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œå››ç§åŸºæœ¬æ“ä½œ:

1.  `addLast`:å°†ä¸€ä¸ªå…ƒç´ è¿½åŠ åˆ°åˆ—è¡¨çš„æœ«å°¾(å°¾éƒ¨)
2.  `removeLast`:åˆ é™¤åˆ—è¡¨æœ«å°¾çš„å…ƒç´ 
3.  `addFirst`:åœ¨åˆ—è¡¨çš„å¼€å¤´æ·»åŠ ä¸€ä¸ªå…ƒç´ (head)
4.  `removeFirst`:ä»åˆ—è¡¨çš„å¼€å¤´åˆ é™¤ä¸€ä¸ªå…ƒç´ (head/root)

**æ·»åŠ /åˆ é™¤é“¾è¡¨æœ«å°¾çš„å…ƒç´ **

ä¸»è¦æœ‰ä¸¤ç§æƒ…å†µ:

1.  å¦‚æœ list first (root/head)è¿˜æ²¡æœ‰ä»»ä½•å…ƒç´ ï¼Œæˆ‘ä»¬å°†è¿™ä¸ªèŠ‚ç‚¹ä½œä¸ºåˆ—è¡¨çš„å¤´éƒ¨ã€‚
2.  ç›¸åï¼Œå¦‚æœåˆ—è¡¨å·²ç»æœ‰äº†æ¡ç›®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¿…é¡»è¿­ä»£ï¼Œç›´åˆ°æ‰¾åˆ°æœ€åä¸€ä¸ªæ¡ç›®ï¼Œå¹¶å°†æ–°èŠ‚ç‚¹è¿½åŠ åˆ°æœ«å°¾ã€‚

```
 addLast(value) { // similar Array.push
    const node = new Node(value);

    if(this.root) {
      let currentNode = this.root;
      while(currentNode && currentNode.next) {
        currentNode = currentNode.next;
      }
      currentNode.next = node;
    } else {
      this.root = node;
    }
  } 
```

Enter fullscreen mode Exit fullscreen mode

è¿™æ®µä»£ç çš„è¿è¡Œæ—¶æ˜¯æ€æ ·çš„ï¼Ÿå¦‚æœæ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆåŠ åˆ°æ ¹å°±æ˜¯ *O(1)* ã€‚ä½†æ˜¯ï¼Œæ‰¾åˆ°æœ€åä¸€é¡¹æ˜¯ *O(n)* ã€‚

ç°åœ¨ï¼Œä»åˆ—è¡¨æœ«å°¾åˆ é™¤ä¸€ä¸ªå…ƒç´ æœ‰ç±»ä¼¼çš„ä»£ç ã€‚æˆ‘ä»¬å¿…é¡»åœ¨æœ€åä¹‹å‰æ‰¾åˆ°ç”µæµï¼Œå¹¶ä½¿å…¶`next`å‚è€ƒ`null`ã€‚

```
 removeLast() {
    let current = this.root;
    let target;

    if(current && current.next) {
      while(current && current.next && current.next.next) {
        current = current.next;
      }
      target = current.next;
      current.next = null;
    } else {
      this.root = null;
      target = current;
    }

    if(target) {
      return target.value;
    }
  } 
```

Enter fullscreen mode Exit fullscreen mode

è¿è¡Œæ—¶ä¹Ÿæ˜¯ *O(n)* ï¼Œå› ä¸ºæˆ‘ä»¬å¿…é¡»è¿­ä»£åˆ°å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ï¼Œå¹¶åˆ é™¤å¯¹æœ€åä¸€ä¸ªå…ƒç´ çš„å¼•ç”¨(ç¬¬ 10 è¡Œ)ã€‚

**ä»é“¾è¡¨çš„å¼€å¤´æ·»åŠ /åˆ é™¤å…ƒç´ **

å‘åˆ—è¡¨çš„å¤´éƒ¨æ·»åŠ ä¸€ä¸ªå…ƒç´ å¦‚ä¸‹æ‰€ç¤º:

```
 addFirst(value) {
    const node = new Node(value);
    node.next = this.first;
    this.first = node;
  } 
```

Enter fullscreen mode Exit fullscreen mode

ä»å¤´å¼€å§‹æ·»åŠ å’Œåˆ é™¤å…ƒç´ æ˜¯ä¸€ä¸ªæ’å®šçš„æ—¶é—´ï¼Œå› ä¸ºæˆ‘ä»¬æŒæœ‰å¯¹ç¬¬ä¸€ä¸ªå…ƒç´ çš„å¼•ç”¨:

```
 addFirst(value) {
    const node = new Node(value);
    node.next = this.first;
    this.first = node;
  } 
```

Enter fullscreen mode Exit fullscreen mode

æ­£å¦‚æ‰€æ–™ï¼Œä»é“¾è¡¨ä¸­ç§»é™¤/æ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´ çš„è¿è¡Œæ—¶é—´æ€»æ˜¯å¸¸æ•° *O(1)*

**ä»é“¾è¡¨ä¸­ç§»é™¤ä»»æ„ä½ç½®çš„å…ƒç´ **

ç§»é™¤åˆ—è¡¨ä¸­ä»»æ„ä½ç½®çš„å…ƒç´ ä¼šåˆ©ç”¨`removeLast`å’Œ`removeFirst`ã€‚ä½†æ˜¯ï¼Œå¦‚æœåˆ é™¤æ˜¯åœ¨ä¸­é—´è¿›è¡Œçš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†å‰ä¸€ä¸ªèŠ‚ç‚¹åˆ†é…ç»™ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚ä»å½“å‰èŠ‚ç‚¹ç§»é™¤ä»»ä½•å¼•ç”¨çš„ï¼›è¿™å°†ä»åˆ—è¡¨ä¸­åˆ é™¤:

```
 remove(index = 0) {
    if(index === 0) {
      return this.removeFirst();
    }

    for (let current = this.first, i = 0; current;  i++, current = current.next) {
      if(i === index) {
        if(!current.next) { // if it doesn't have next it means that it is the last
          return this.removeLast();
        }
        current.previous = current.next;
        this.size--;
        return current.value;
      }
    }
  } 
```

Enter fullscreen mode Exit fullscreen mode

æ³¨æ„`index`æ˜¯ä¸€ä¸ªä»é›¶å¼€å§‹çš„ç´¢å¼•:0 å°†æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œ1 ç§’ä»¥æ­¤ç±»æ¨ã€‚

> ç§»é™¤åˆ—è¡¨ä¸­ä»»ä½•ä½ç½®çš„å…ƒç´ éƒ½æ˜¯ *O(n)* ã€‚

**åœ¨é“¾è¡¨ä¸­æœç´¢å…ƒç´ **

åœ¨é“¾è¡¨ä¸­æœç´¢ä¸€ä¸ªå…ƒç´ ä¸`remove`éå¸¸ç›¸ä¼¼:

```
 contains(value) {
    for (let current = this.first, index = 0; current;  index++, current = current.next) {
      if(current.value === value) {
        return index;
      }
    }
  } 
```

Enter fullscreen mode Exit fullscreen mode

è¯¥å‡½æ•°æŸ¥æ‰¾å…·æœ‰ç»™å®šå€¼çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚

> åœ¨é“¾è¡¨ä¸­æœç´¢å…ƒç´ çš„è¿è¡Œæ—¶é—´æ˜¯ *O(n)*

### å•é“¾è¡¨æ—¶é—´å¤æ‚åº¦

æ¯ä¸ªå‡½æ•°çš„å•é“¾è¡¨æ—¶é—´å¤æ‚åº¦å¦‚ä¸‹ã€‚

| æ“ä½œ | è¿è¡Œæ—¶é—´ | è¯„è®º |
| --- | --- | --- |
| [T2`addFirst`](//#DoublyLinkedList.addFirst) | *O(1)* | åœ¨åˆ—è¡¨çš„å¼€å¤´æ’å…¥å…ƒç´  |
| [T2`addLast`](//#SinglyLinkedList.addLast) | *O(n)* | åœ¨åˆ—è¡¨æœ«å°¾æ’å…¥å…ƒç´  |
| [T2`add`](//#DoublyLinkedList.add) | *O(n)* | åœ¨åˆ—è¡¨ä¸­çš„ä»»æ„ä½ç½®æ’å…¥å…ƒç´ ã€‚ |
| [T2`removeFirst`](//#DoublyLinkedList.removeFirst) | *O(1)* | ç§»é™¤åˆ—è¡¨å¼€å¤´çš„å…ƒç´  |
| [T2`removeLast`](//#SinglyLinkedList.removeLast) | *O(n)* | ç§»é™¤åˆ—è¡¨æœ«å°¾çš„å…ƒç´  |
| [T2`remove`](//#LinkedList.remove) | *O(n)* | ä»åˆ—è¡¨ä¸­åˆ é™¤ä»»ä½•å…ƒç´  |
| [T2`contains`](//#LinkedList.contains) | *O(n)* | ä»åˆ—è¡¨ä¸­æœç´¢å…ƒç´  |

è¯·æ³¨æ„ï¼Œæ¯æ¬¡æˆ‘ä»¬ä»æœ€åä¸€ä¸ªä½ç½®æ·»åŠ /åˆ é™¤æ—¶ï¼Œæ“ä½œéƒ½éœ€è¦ *O(n)* ...

> ä½†æ˜¯æˆ‘ä»¬å¯ä»¥å°†`addLast` / `removeLast`ä» *O(n)* å‡å°‘åˆ°ä¸€ä¸ªå¹³å¦çš„ *O(1)* ï¼Œå¦‚æœæˆ‘ä»¬ä¿ç•™æœ€åä¸€ä¸ªå…ƒç´ çš„å¼•ç”¨ï¼

æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚æ·»åŠ æœ€åä¸€ä¸ªå¼•ç”¨ï¼

### åŒå‘é“¾è¡¨

å½“æˆ‘ä»¬æœ‰ä¸€ä¸ªèŠ‚ç‚¹é“¾ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œæˆ‘ä»¬å°±æœ‰äº†ä¸€ä¸ª**å•é“¾è¡¨**ã€‚å½“æˆ‘ä»¬æœ‰ä¸€ä¸ªé“¾è¡¨æ—¶ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½é€šå‘ä¸‹ä¸€ä¸ªçš„**å’Œä¸Šä¸€ä¸ª**å…ƒç´ çš„**æ—¶ï¼Œæˆ‘ä»¬å°±æœ‰äº†ä¸€ä¸ª**åŒé‡é“¾è¡¨****

[![](../Images/9988482058bc41e1b01cd9660db5da40.png "Doubly Linked List")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--dM-ocdsR--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://adrianmejia.com/images/doubly-linked-list.jpg)

åŒå‘é“¾è¡¨èŠ‚ç‚¹æœ‰åŒé‡å¼•ç”¨(next å’Œ previous)ã€‚æˆ‘ä»¬è¿˜å°†è·Ÿè¸ªåˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå…ƒç´ ã€‚

```
class Node {
  constructor(value) {
    this.value = value;
    this.next = null;
    this.previous = null;
  }
}

class LinkedList {
  constructor() {
    this.first = null; // head/root element
    this.last = null; // last element of the list
    this.size = 0; // total number of elements in the list
  }

  // ...
} 
```

Enter fullscreen mode Exit fullscreen mode

**ä»åˆ—è¡¨å¼€å§‹å¤„æ·»åŠ å’Œåˆ é™¤**

ä»åˆ—è¡¨å¼€å§‹æ·»åŠ å’Œåˆ é™¤å¾ˆç®€å•ï¼Œå› ä¸ºæˆ‘ä»¬æœ‰`this.first`å¼•ç”¨:

```
 addFirst(value) {
    const node = new Node(value);

    node.next = this.first;

    if(this.first) {
      this.first.previous = node;
    } else {
      this.last = node;
    }

    this.first = node; // update head
    this.size++;

    return node;
  } 
```

Enter fullscreen mode Exit fullscreen mode

è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å¿…é¡»éå¸¸å°å¿ƒï¼Œæ›´æ–°ä»¥å‰çš„ï¼Œå¤§å°å’Œæœ€åã€‚

```
 removeFirst() {
    const first = this.first;

    if(first) {
      this.first = first.next;
      if(this.first) {
        this.first.previous = null;
      }

      this.size--;

      return first.value;
    } else {
      this.last = null;
    }
  } 
```

Enter fullscreen mode Exit fullscreen mode

è¿è¡Œæ—¶é—´æ˜¯å¤šå°‘ï¼Ÿ

> ä»(å•/åŒ)é“¾è¡¨ä¸­æ·»åŠ å’Œåˆ é™¤å…ƒç´ æœ‰ä¸€ä¸ªæ’å®šçš„è¿è¡Œæ—¶é—´ *O(1)*

**åœ¨åˆ—è¡¨æœ«å°¾æ·»åŠ å’Œåˆ é™¤**

ä»åˆ—è¡¨çš„æœ«å°¾æ·»åŠ å’Œåˆ é™¤*æœ‰ç‚¹æ£˜æ‰‹ã€‚å¦‚æœä½ æ£€æŸ¥äº†å•é“¾è¡¨ï¼Œä¸¤ä¸ªæ“ä½œéƒ½éœ€è¦èŠ±è´¹ *O(n)* ï¼Œå› ä¸ºæˆ‘ä»¬å¿…é¡»éå†é“¾è¡¨æ¥æ‰¾åˆ°æœ€åä¸€ä¸ªå…ƒç´ ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰äº†`last`å‚è€ƒ:*

```
 addLast(value) {
    const node = new Node(value);

    if(this.first) {
      let currentNode = this.first;
      node.previous = this.last;
      this.last.next = node;
      this.last = node;
    } else {
      this.first = node;
      this.last = node;
    }

    this.size++;

    return node;
  } 
```

Enter fullscreen mode Exit fullscreen mode

åŒæ ·ï¼Œæˆ‘ä»¬å¿…é¡»å°å¿ƒæ›´æ–°å¼•ç”¨å’Œå¤„ç†ç‰¹æ®Šæƒ…å†µï¼Œæ¯”å¦‚åªæœ‰ä¸€ä¸ªå…ƒç´ æ—¶ã€‚

```
 removeLast() {
    let current = this.first;
    let target;

    if(current && current.next) {
      current = this.last.previous;
      this.last = current;
      target = current.next;
      current.next = null;
    } else {
      this.first = null;
      this.last = null;
      target = current;
    }

    if(target) {
      this.size--;
      return target.value;
    }
  } 
```

Enter fullscreen mode Exit fullscreen mode

ä½¿ç”¨åŒå‘é“¾è¡¨ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦éå†æ•´ä¸ªé“¾è¡¨æ¥è·å¾—å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨`this.last.previous`å’Œ is `O(1)`ã€‚

ä½ è¿˜è®°å¾—å¯¹äºé˜Ÿåˆ—ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨ä¸¤ä¸ªæ•°ç»„å—ï¼Ÿç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹å˜å®ç°ï¼Œä½¿ç”¨ä¸€ä¸ªåŒå‘é“¾è¡¨æ¥ä»£æ›¿ï¼Œå®ƒæœ‰ä¸€ä¸ª *O(1)* ç”¨äºåœ¨å¼€å§‹æ—¶æ’å…¥ï¼Œåœ¨ç»“æŸæ—¶åˆ é™¤ã€‚

**åœ¨é“¾è¡¨çš„ä»»æ„ä½ç½®æ·»åŠ å…ƒç´ **

åœ¨åˆ—è¡¨çš„ä»»æ„ä½ç½®æ·»åŠ å…ƒç´ åˆ©ç”¨äº†æˆ‘ä»¬çš„`addFirst`å’Œ`addLast`å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
 add(value, index = 0) {
    if(index === 0) {
      return this.addFirst(value);
    }

    for (let current = this.first, i = 0; i <= this.size;  i++, current = (current && current.next)) {
      if(i === index) {
        if(i === this.size) { // if it doesn't have next it means that it is the last
          return this.addLast(value);
        }
        const newNode = new Node(value);
        newNode.previous = current.previous;
        newNode.next = current;

        current.previous.next = newNode;
        if(current.next) { current.next.previous = newNode; }
        this.size++;
        return newNode;
      }
    }
  } 
```

Enter fullscreen mode Exit fullscreen mode

å¦‚æœæˆ‘ä»¬åœ¨æ•°ç»„ä¸­é—´æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¿…é¡»æ›´æ–°å‘¨å›´å…ƒç´ çš„`next`å’Œ`previous`å¼•ç”¨ã€‚

> åœ¨åˆ—è¡¨ä¸­çš„ä»»æ„ä½ç½®æ·»åŠ å…ƒç´ æ˜¯ *O(n)* ã€‚

## åŒé“¾è¡¨æ—¶é—´å¤æ‚åº¦

æ¯ä¸ªå‡½æ•°çš„åŒå‘é“¾è¡¨æ—¶é—´å¤æ‚åº¦å¦‚ä¸‹:

| æ“ä½œ | è¿è¡Œæ—¶é—´ | è¯„è®º |
| --- | --- | --- |
| [T2`addFirst`](//#DoublyLinkedList.addFirst) | *O(1)* | åœ¨åˆ—è¡¨çš„å¼€å¤´æ’å…¥å…ƒç´ ã€‚ |
| [T2`addLast`](//#DoublyLinkedList.addLast) | *O(1)* | åœ¨åˆ—è¡¨æœ«å°¾æ’å…¥å…ƒç´ ã€‚ |
| [T2`add`](//#DoublyLinkedList.add) | *O(n)* | åœ¨åˆ—è¡¨ä¸­çš„ä»»æ„ä½ç½®æ’å…¥å…ƒç´ ã€‚ |
| [T2`removeFirst`](//#DoublyLinkedList.removeFirst) | *O(1)* | ç§»é™¤åˆ—è¡¨å¼€å¤´çš„å…ƒç´ ã€‚ |
| [T2`removeLast`](//#DoublyLinkedList.removeLast) | *O(1)* | ç§»é™¤åˆ—è¡¨æœ«å°¾çš„å…ƒç´ ã€‚ |
| [T2`remove`](//#LinkedList.remove) | *O(n)* | ä»åˆ—è¡¨ä¸­åˆ é™¤ä»»ä½•å…ƒç´  |
| [T2`contains`](//#LinkedList.contains) | *O(n)* | ä»åˆ—è¡¨ä¸­æœç´¢ä»»ä½•å…ƒç´  |

ä¸å•é“¾è¡¨ç›¸æ¯”ï¼ŒåŒå‘é“¾è¡¨æ˜¯ä¸€ä¸ªæ˜¾è‘—çš„æ”¹è¿›ï¼æˆ‘ä»¬é€šè¿‡ä»¥ä¸‹æ–¹å¼ä» *O(n)* æ”¹è¿›ä¸º *O(1)* :

*   æ·»åŠ å¯¹å‰ä¸€ä¸ªå…ƒç´ çš„å¼•ç”¨ã€‚
*   æŒæœ‰å¯¹åˆ—è¡¨ä¸­æœ€åä¸€é¡¹çš„å¼•ç”¨ã€‚

ç§»é™¤ç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ªå¯ä»¥åœ¨æ’å®šæ—¶é—´å†…å®Œæˆï¼›ä½†æ˜¯åœ¨æ•°ç»„ä¸­é—´æ¶ˆå»è¿˜æ˜¯ *O(n)* ã€‚

# ä¹¦åº“

Stacks æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå…¶ä¸­æœ€åè¾“å…¥çš„æ•°æ®é¦–å…ˆå‡ºç°ã€‚ä¹Ÿç§°ä¸ºåè¿›å…ˆå‡º(LIFO)ã€‚

[![](../Images/ef9cfe25952daa86455349fb884e7c9e.png "Stack: push and pop")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--kd2-Ir7Y--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://adrianmejia.com/images/stack.jpg)

è®©æˆ‘ä»¬ä»å¤´å¼€å§‹å®ç°ä¸€ä¸ªå †æ ˆï¼

```
class Stack {
  constructor() {
    this.input = [];
  }

  push(element) {
    this.input.push(element);
    return this;
  }

  pop() {
    return this.input.pop();
  }
} 
```

Enter fullscreen mode Exit fullscreen mode

å¦‚ä½ æ‰€è§ï¼Œè¿™å¾ˆå®¹æ˜“ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†å†…ç½®çš„`Array.push`å’Œ`Array.pop`ã€‚ä¸¤è€…éƒ½æœ‰è¿è¡ŒæœŸçš„ *`O(1)`* ã€‚

è®©æˆ‘ä»¬æ¥çœ‹ä¸€äº›å®ƒçš„ç”¨æ³•çš„ä¾‹å­:

```
 const stack = new Stack();

  stack.push('a');
  stack.push('b');
  stack.push('c');

  stack.pop(); // c
  stack.pop(); // b
  stack.pop(); // a 
```

Enter fullscreen mode Exit fullscreen mode

ç¬¬ä¸€ä¸ªè¿›æ¥(`a`)ä½œä¸ºæœ€åä¸€ä¸ªå‡ºå»ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨é“¾è¡¨ä»£æ›¿æ•°ç»„æ¥å®ç°å †æ ˆã€‚è¿è¡Œæ—¶é—´æ˜¯ä¸€æ ·çš„ã€‚

ä»…æ­¤è€Œå·²ï¼

# é˜Ÿåˆ—

é˜Ÿåˆ—æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªè¿›å…¥çš„æ•°æ®ä¹Ÿæ˜¯ç¬¬ä¸€ä¸ªå‡ºå»çš„æ•°æ®ã€‚åˆç§°å…ˆè¿›å…ˆå‡º(FIFO)ã€‚
è¿™å°±åƒçœ‹ç”µå½±çš„ä¸€é˜Ÿäººï¼Œç¬¬ä¸€ä¸ªè¿›æ¥çš„å°±æ˜¯ç¬¬ä¸€ä¸ªå‡ºæ¥çš„ã€‚

[![](../Images/3120e260d583ec05d31e033fb4f2cc44.png "Queue: enqueue and dequeue")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--zVi7Aoom--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://adrianmejia.com/images/queue.jpg)

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ•°ç»„æ¥å®ç°é˜Ÿåˆ—ï¼Œè¿™ä¸æˆ‘ä»¬å®ç°å †æ ˆçš„æ–¹å¼éå¸¸ç›¸ä¼¼ã€‚

## ç”¨æ•°ç»„å®ç°çš„é˜Ÿåˆ—

ä¸€ä¸ªç®€å•çš„å®ç°æ˜¯ä½¿ç”¨`Array.push`å’Œ`Array.shift`:

```
class Queue {
  constructor() {
    this.input = [];
  }

  add(element) {
    this.input.push(element);
  }

  remove() {
    return this.input.shift();
  }
} 
```

Enter fullscreen mode Exit fullscreen mode

`Queue.add`å’Œ`Queue.remove`çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿ

*   `Queue.add`ä½¿ç”¨å…·æœ‰æ’å®šè¿è¡Œæ—¶é—´çš„`array.push`ã€‚èµ¢äº†ï¼
*   `Queue.remove`ä½¿ç”¨å…·æœ‰çº¿æ€§è¿è¡Œæ—¶é—´çš„`array.shift`ã€‚æˆ‘ä»¬èƒ½æ¯” *`O(n)`* åšå¾—æ›´å¥½å—ï¼Ÿ

æƒ³ä¸€ä¸ªæ–¹æ³•ï¼Œä½ å¯ä»¥åªç”¨`Array.push`å’Œ`Array.pop`æ¥å®ç°ä¸€ä¸ªé˜Ÿåˆ—ã€‚

```
class Queue {
  constructor() {
    this.input = [];
    this.output = [];
  }

  add(element) {
    this.input.push(element);
  }

  remove() {
    if(!this.output.length) {
      while(this.input.length) {
        this.output.push(this.input.pop());
      }
    }
    return this.output.pop();
  }
} 
```

Enter fullscreen mode Exit fullscreen mode

ç°åœ¨æˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªæ•°ç»„è€Œä¸æ˜¯ä¸€ä¸ªã€‚

```
const queue = new Queue();

queue.add('a');
queue.add('b');

queue.remove() // a
queue.add('c');
queue.remove() // b
queue.remove() // c 
```

Enter fullscreen mode Exit fullscreen mode

å½“æˆ‘ä»¬ç¬¬ä¸€æ¬¡åˆ é™¤æŸä¸ªä¸œè¥¿æ—¶ï¼Œ`output`æ•°ç»„æ˜¯ç©ºçš„ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬æŠŠ`input`çš„å†…å®¹åƒ`['b', 'a']`ä¸€æ ·å‘åæ’å…¥ã€‚ç„¶åæˆ‘ä»¬ä»`output`æ•°ç»„ä¸­å¼¹å‡ºå…ƒç´ ã€‚æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œä½¿ç”¨è¿™ä¸ªæŠ€å·§ï¼Œæˆ‘ä»¬ä»¥ç›¸åŒçš„æ’å…¥é¡ºåº(FIFO)å¾—åˆ°è¾“å‡ºã€‚

è¿è¡Œæ—¶é—´æ˜¯å¤šå°‘ï¼Ÿ

å¦‚æœè¾“å‡ºå·²ç»æœ‰äº†ä¸€äº›å…ƒç´ ï¼Œé‚£ä¹ˆç§»é™¤æ“ä½œå°±æ˜¯å¸¸é‡ *`O(1)`* ã€‚å½“è¾“å‡ºæ•°ç»„éœ€è¦é‡æ–°å¡«å……æ—¶ï¼Œéœ€è¦ *`O(n)`* æ¥å®Œæˆã€‚é‡æ–°å¡«å……åï¼Œæ¯ä¸ªæ“ä½œå°†å†æ¬¡ä¿æŒä¸å˜ã€‚æ‘Šé”€æ—¶é—´ä¸º *`O(1)`* ã€‚

å¦‚æœæˆ‘ä»¬ä½¿ç”¨ LinkedListï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªçº¯å¸¸é‡å®ç°ä¸€ä¸ª`Queue`ã€‚è®©æˆ‘ä»¬çœ‹çœ‹ä¸‹ä¸€èŠ‚æ˜¯ä»€ä¹ˆï¼

## ç”¨åŒå‘é“¾è¡¨å®ç°é˜Ÿåˆ—

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é“¾è¡¨è€Œä¸æ˜¯æ•°ç»„æ¥è·å¾—æœ€ä½³çš„æ€§èƒ½ã€‚

```
const LinkedList = require('../linked-lists/linked-list');

class Queue {
  constructor() {
    this.input = new LinkedList();
  }

  add(element) {
    this.input.addFirst(element);
  }

  remove() {
    return this.input.removeLast();
  }

  get size() {
    return this.input.size;
  }
} 
```

Enter fullscreen mode Exit fullscreen mode

ä½¿ç”¨å¸¦æœ‰æœ€åä¸€ä¸ªå…ƒç´ å¼•ç”¨çš„åŒå‘é“¾è¡¨ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ª *O(1)* çš„`add`ã€‚è¿™å°±æ˜¯ä¸ºæ­£ç¡®çš„å·¥ä½œä½¿ç”¨æ­£ç¡®çš„å·¥å…·çš„é‡è¦æ€§ğŸ’ª

# æ€»ç»“

æˆ‘ä»¬æ¢ç´¢äº†å¤§å¤šæ•°çº¿æ€§æ•°æ®ç»“æ„ã€‚æˆ‘ä»¬çœ‹åˆ°ï¼Œæ ¹æ®æˆ‘ä»¬å®ç°æ•°æ®ç»“æ„çš„æ–¹å¼ï¼Œä¼šæœ‰ä¸åŒçš„è¿è¡Œæ—¶ã€‚è½¬åˆ°é¡¶éƒ¨ï¼Œé‚£é‡Œæœ‰ä¸€ä¸ªè¡¨æ ¼ï¼Œåˆ—å‡ºäº†æˆ‘ä»¬åœ¨æ­¤æ¢ç´¢çš„æ‰€æœ‰ç¤ºä¾‹ã€‚