# 关于 Vim 的初步思考

> 原文：<https://dev.to/noblebe4st/initial-thoughts-on-vim-1jjo>

在阅读了 Jaime González 的精彩的[帖子](https://dev.to/vintharas/exploring-vim-4k1i)后，我决定兑现我之前关于学习 Vim 的空洞威胁。我认为让我退缩的是，我已经尝试了 Emacs，所以我不想在生活中遇到这种麻烦。此外，如果我有时间学习 Vim，我应该学习更多的 Emacs。这完全合理，但碰巧的是，我的工作流程中确实有一个持续的、令人烦恼的漏洞，而这似乎正是我所需要的。或者至少比我现在做得更好。

我想我会分享我的想法，观点，和一些我到目前为止学到的东西。在写这篇文章的时候，我已经学习 Vim 一周了，我对自己的进步感到惊喜。当我学习 Emacs 的时候，在这一点上，我离这个能力还很远。公平地说，尽管这次我有很多后知之明。我仍然有大量的工作要做，让我的 Vim 设置在它需要的地方，但我没问题。我正在研究基本原理，并把它们都记下来。我不想操之过急，太快地添加太多插件。即使我基本上知道我想要的东西的种类和我为什么想要它们，如果我一下子把它们都扔给我自己，我就不会理解它们，也不知道如何使用它们。所以我慢慢来，按照我大脑的接受速度添加功能。

如果你像我一样刚开始，你会发现几乎每个人都会告诉你从 vimtutor 开始。我会坚持这个传统，但我会给你一个专业的建议。一次都不要做 vimtutor。每天做一次，每天不少于一周。这不需要很长时间，而且你做得越多需要的时间就越少。我也建议你不要疯狂地使用插件并马上加载你的 vimrc 文件。如果你想的话，选择一个主题，然后添加一些基本的设置，就可以开始了。

## 基本配置

在 Google 了一下之后，我回来了，我认为这是 vimrc 文件的一个很好的开始。我还添加了一个主题、NerdTree 和 airline 插件，但是为了简单起见，我在这里省略了它们。我在下面列出了核心设置，我将在块后简要描述每个设置。

```
set nocompatible 
syntax enable
filetype plugin indent on
set autoindent
set ruler
set number
set cursorline

" Tabs
set tabstop=2
set shiftwidth=2
set expandtab

" Finding files
set path+=**
set wildmenu 
```

Enter fullscreen mode Exit fullscreen mode

显然，Vim 认为你想向后兼容 Vi，而 **nocompatible** 纠正了这一点，给了你完全改进的体验。**语法使能**开启语法高亮显示。下一行做了一些事情。Vim 将尝试识别您正在加载的文件类型，寻找该文件类型的内置插件，以及定义缩进行为的相关缩进文件。**设置自动缩进**会将您键入的下一行文本设置为与当前行相同的缩进级别。**设置标尺**在状态行中向下显示当前光标位置的行号和列号。**设置编号**显示窗口左侧下方的行号。**设置光标线**高亮光标当前所在的线。

下一个街区可能会有点争议。正如你可能已经猜到的，设置制表符的宽度。我相信缺省值是 4，但是我更喜欢更紧凑的外观，所以我把我的设置为 2。**设置 shiftwidth** 决定缩进的深度，这适用于 Vim 自动缩进或者使用缩进和缩进命令( **<** ， **>** )时。 **set expandtab** 将制表位转换为等效距离所需的空格数。

最后一点来自马克斯·康托。这最后两个命令设置了模糊文件搜索。我们首先设置路径，或者用+=操作符附加到路径变量上。双星号是一个特殊的通配符，只匹配目录。具体来说，它告诉 Vim 向下搜索目录树。因此，您可以在项目文件夹的根目录下，Vim 将递归地在所有子目录中搜索您指定的文件。默认情况下，它会搜索多达 30 层的子目录。您可以通过在命令后附加一个数字来指定更多或更少，最大值为 100，最小值为 0。例如，为了最大化它，你可以说…

```
set path+=**100 
```

Enter fullscreen mode Exit fullscreen mode

现在，当您使用:find Vim 将在整个项目中查找文件时，您可以在输入文件名时使用制表符补全，并使用星号 glob 使其更加模糊。假设你输入*_test.rb，匹配的不止一个。 **set wildmenu** 提供所有匹配的列表。您可以按 tab 键在列表中向前移动，或者按 shift-tab 键向后移动。

我还想提到最后一个搜索技巧，但它需要熟悉 Vim 缓冲区。下面是对缓冲区、窗口和标签的快速而友好的介绍。但是简单地说，你可以把缓冲区想象成你打开的每个文件的内存空间。它们不一定在任何给定的时间是可见的，但是当它们是可见的时候，窗口的工作就是显示它们。窗口一次只能显示一个缓冲区。可以通过几种不同的方式调用缓冲区。一种方法是键入:b *文件名*。但是您不必键入完整的文件名。您甚至不需要键入文件名的开头来完成制表符。任何出现在名称中的唯一子字符串都可以。这是免费的；不需要额外的配置。

我清单上的下一个项目是深入研究文本对象。对于任何感兴趣的人来说，那里并不缺乏资源，但是这个应该让你开始。

有些事情很好，没什么大不了的。其他事情似乎比它们应该的要困难。感觉很难，因为我什么都不知道就踏进去了，之前所有的经历都没给我买多少。在某些情况下，这种经历对我不利。理智上我知道进入其中。了解一件事固然很好，但置身其中却是另一回事。我确实认为 Vim 是一个要么全有要么全无的命题。我在 Emacs 上犯了这个错误，结果不得不重新学习了几次。我怀疑，Vim 的模态特性会让兼职关系变得更加困难，至少在一开始是这样。

另外要记住的是，有掉进又深又黑的牦牛毛洞里的危险。你不能把所有的时间都花在学习越来越多的命令、插件和无止境的定制上。那是生产力的反义词。我担心在因小失大之间有一个微妙的平衡。

如果你还不是 Vim 爱好者，如果成为一名 Vim 爱好者的前景听起来确实...糟糕，没关系，我理解，我尊重。这不一定对每个人都适用。从长远来看，我也不知道这对我是否有用。但是现在它填补了一个空白，我很快就能达到速度，我不得不说总体上我很喜欢它。它满足了我内心的修补匠。我仍然喜欢 Emacs，我不会放弃它，我认为我将永远更喜欢 Lisp 而不是 Vimscript。但我看到了这里的吸引力。

### Postscript

我感谢布莱姆·米勒创造了这个东西，感谢所有这些年来为此做出贡献的人们。

我感谢 Ben Halpern 和他的团队，以及整个 dev.to 社区。

我很感激能在这里写代码。

最重要的是，我感谢我的家人。

> 对于一个人来说，最大的幸福莫过于在一天结束时走近一扇门，知道门的另一边有人在等着他的脚步声。罗纳德·里根

大家感恩节快乐。