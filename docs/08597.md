# åœ¨ Winds ä¸­é›†æˆ Algolia æœç´¢â€”â€”ä¸€ä¸ªæ¼‚äº®çš„ RSS å’Œæ’­å®¢åº”ç”¨ç¨‹åº

> åŸæ–‡:[https://dev . to/nick Parsons/integrating-algolia-search-in-winds-a-beautiful-RSS-podcast-application-8d 2](https://dev.to/nickparsons/integrating-algolia-search-in-winds--a-beautiful-rss--podcast-application-8d2)

[![Winds](../Images/f6e5a25f7e168fa12d526db2969dab4b.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--izylzlIN--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/q6m6jqhqfstlsa6jo2hy.png)

ä»Šå¹´æ—©äº›æ—¶å€™ï¼Œ [Stream](https://getstream.io) æ¨å‡ºäº† [Winds 2.0](https://getstream.io/winds) ï¼Œè¿™æ˜¯æˆ‘ä»¬å¹¿å—æ¬¢è¿çš„é¢å‘ macOSã€Windows å’Œ Linux çš„å¼€æºåŸç”Ÿåº”ç”¨ç¨‹åºçš„ç¬¬äºŒæ¬¡è¿­ä»£ï¼Œå®ƒæä¾›äº†ä¸€ç§å…¨æ–°çš„æ¶ˆè´¹ RSS è®¢é˜…å’Œæ’­å®¢çš„æ–¹å¼ã€‚å¦‚æœä½ æ²¡æœ‰ç”¨è¿‡ Windsï¼Œä½ å¯ä»¥åœ¨ https://getstream.io/winds çš„[æŠ¥åã€‚æˆ–è€…ï¼Œå¦‚æœä½ åªæ˜¯æƒ³è¦ä¸€ä¸ªè§†è§‰æ•ˆæœï¼Œä¸‹é¢æ˜¯ Winds çš„æˆªå›¾:](https://getstream.io/winds)

[![Winds](../Images/435c43176f470b8b21ceb8d8121f7e96.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--54CUn2PM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/tqpyvnudwbuwdx7jdd8e.png)

å¯¹äºæˆ‘ä»¬æ­£åœ¨ç¼–è¯‘å’ŒæŸ¥è¯¢çš„æ‰€æœ‰å†…å®¹ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§ç›´è§‚çš„æ–¹å¼æ¥å‘ˆç°å†…å®¹ä¾›ç”¨æˆ·æœç´¢ã€‚è¿™å°±æ˜¯ Algolia å‡ºç°çš„åŸå› ã€‚Algolia æ˜¯ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„æ’ä»¶ï¼Œå…è®¸åƒæˆ‘ä»¬è¿™æ ·çš„å¼€å‘äººå‘˜ä¸ºæˆ‘ä»¬çš„ç”¨æˆ·åˆ›å»ºç‹¬ç‰¹çš„æœç´¢å’Œå‘ç°ä½“éªŒã€‚æœ€æ£’çš„æ˜¯ï¼ŒAlgolia çš„é€Ÿåº¦éå¸¸å¿«ï¼Œå¯ä»¥ä»åç«¯ä»ªè¡¨æ¿æˆ–å‰ç«¯ä»£ç è¿›è¡Œé…ç½®ï¼Œè¿”å›ç»™ç”¨æˆ·çš„ç»“æœä¹Ÿéå¸¸ç›¸å…³ã€‚

åœ¨æœ¬å¸–ä¸­ï¼Œæˆ‘ä»¬å°†åšä¸€ä¸ªå¿«é€Ÿçš„æŠ€æœ¯æ·±åº¦æ¢ç©¶ï¼Œçœ‹çœ‹æˆ‘ä»¬æ˜¯å¦‚ä½•å¤„ç†é£çš„å®‰è£…å’Œé…ç½®çš„ã€‚å¦‚æœä½ æƒ³è·Ÿè¿›ï¼ŒWinds çš„ä»£ç æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå¯ä»¥åœ¨ GitHub ä¸Šæ‰¾åˆ°ã€‚

## [](#getting-started)å…¥é—¨ğŸ˜‡

Algolia é€šè¿‡äº†è§£ä¼ ç»Ÿå¼€å‘äººå‘˜å¸Œæœ›åœ¨å¯¹ä»˜è´¹è®¡åˆ’åšå‡ºé•¿æœŸæ‰¿è¯ºä¹‹å‰è¯•ç”¨äº§å“ï¼Œå®Œå–„äº†ä»–ä»¬çš„å¼€å‘äººå‘˜å…¥èŒæµç¨‹ã€‚è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼Œä»–ä»¬é€šè¿‡æä¾›å¼€æºé€‰é¡¹çš„å…è´¹å±‚æ¥æ”¯æŒç¤¾åŒºï¼›å”¯ä¸€çš„è¦æ±‚æ˜¯ä½ åœ¨æœç´¢æ ä¸­æ˜¾ç¤º Algolia æ ‡å¿—(å¦‚ä¸‹å›¾æ‰€ç¤º)ã€‚

[![Winds](../Images/c3c6180a5a5506524c0b538930455374.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--_c8BHwLQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/qnppzjbaemr661u0cwl9.png)

å¦‚æœä½ å¯¹ä½¿ç”¨ Algolia æ„Ÿå…´è¶£ï¼Œå¼€å§‹ä½¿ç”¨ä»–ä»¬çš„å…è´¹å¼€æºè®¡åˆ’ï¼Œè¯¥è®¡åˆ’æä¾› 10ï¼Œ000 æ¡è®°å½•å’Œ 100ï¼Œ000 æ¬¡æ“ä½œã€‚åªéœ€å¡«å†™æ­¤å¤„çš„è¡¨æ ¼ï¼ŒAlgolia å›¢é˜Ÿå°†ä¼šå›å¤æ‚¨â€”â€”ä»–ä»¬ä¼šå¾ˆå¿«å›å¤æ‚¨ï¼

> æ³¨æ„:è¿™ä¸ªèŒä½ä¸éœ€è¦å¸æˆ·ã€‚æˆ‘ä»¬åªæ˜¯è®¨è®ºé£çš„é›†æˆï¼Œè€Œä¸æ˜¯è®¨è®ºé¡¹ç›®ä¸­çš„ä¸€èˆ¬å®‰è£…ã€‚ç„¶è€Œï¼Œè¿™ç¯‡æ–‡ç« å¯ä»¥ä½œä¸ºåœ¨ä½ è‡ªå·±çš„åº”ç”¨ç¨‹åºä¸­å®‰è£… Algolia çš„æŒ‡å—ã€‚

## [](#the-algolia-integration)é˜¿å°”æˆˆåˆ©äºšä¸€ä½“åŒ–ğŸ‘¨â€ğŸ’»

ä¸ Algolia é›†æˆéå¸¸ç®€å•ã€‚å› ä¸ºæˆ‘ä»¬ç”¨çš„æ˜¯ Node.jsï¼Œæ‰€ä»¥å®‰è£…äº† JavaScript å®¢æˆ·ç«¯([https://www . npmjs . com/package/Algolia search)(ç”± Algolia æä¾›](https://www.npmjs.com/package/algoliasearch)(provided))(Algolia search)ã€‚ä¸ºäº†è®©äº‹æƒ…å˜å¾—æ›´ç®€å•ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåŠ©æ‰‹æ–‡ä»¶ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°å°†æœç´¢ç»“æœ(ä½œä¸ºå¯¹è±¡)ä¼ é€’ç»™:

```
import algolia from 'algoliasearch';
import config from '../../config';
import util from 'util';
import logger from '../../utils/logger';

if (config.algolia.appId && config.algolia.writeKey && config.algolia.index) {
    const client = algolia(config.algolia.appId, config.algolia.writeKey);
    const index = client.initIndex(config.algolia.index);

    module.exports = async data => {
        if (!data.type) {
            throw new Error('Missing data.type key and value.');
        }
        await util.promisify(index.addObject.bind(index))(data);
    };

    module.exports.indexMany = async data => {
        await util.promisify(index.addObjects.bind(index))(data);
    };
} else {
    module.exports = async () => {
        logger.info('Faking search indexing');
    };

    module.exports.indexMany = function() {
        logger.info('Faking search indexing');
    };
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

if è¯­å¥çš„ç¬¬ä¸€éƒ¨åˆ†ç”¨äºç”Ÿäº§æˆ–å¼€å‘ç¯å¢ƒï¼Œå› ä¸ºå®ƒæ£€æŸ¥æœ‰æ•ˆçš„ Algolia å¯†é’¥å’Œç§˜å¯†ã€‚ååŠéƒ¨åˆ†ç”¨äºä¼ªé€ å¯¹ Algolia çš„æµ‹è¯•è¯·æ±‚ã€‚

### [](#the-following-is-called-inside-of-one-of-our-controllers-when-we-need-to-add-a-single-object)å½“æˆ‘ä»¬éœ€è¦æ·»åŠ å•ä¸ªå¯¹è±¡æ—¶ï¼Œåœ¨æˆ‘ä»¬çš„ä¸€ä¸ªæ§åˆ¶å™¨å†…éƒ¨è°ƒç”¨ä»¥ä¸‹å†…å®¹:

`await util.promisify(index.addObject.bind(index))(data);`

### [](#to-add-multiple-objects-algolia-supports-a-bulk-insert-using-the-following-code)è¦æ·»åŠ å¤šä¸ªå¯¹è±¡ï¼ŒAlgolia æ”¯æŒä½¿ç”¨ä»¥ä¸‹ä»£ç è¿›è¡Œæ‰¹é‡æ’å…¥:

`await util.promisify(index.addObjects.bind(index))(data);`

æ·»åŠ å®Œæ‰€æœ‰å†…å®¹åï¼Œå®ƒä»¬ä¼šæ˜¾ç¤ºåœ¨æˆ‘ä»¬çš„ç´¢å¼•ä¸­(è§ä¸‹æ–‡)ï¼

[![Winds](../Images/b8d8502ff37cd7e70aec8f7f63229598.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--fi8dovrN--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/dx7dno62ld70fmsz6k7n.png)

## [](#fetching-search-results-from-algolia)ä» Algolia è·å–æœç´¢ç»“æœğŸ”

åœ¨åº”ç”¨ç¨‹åºæ–¹é¢ï¼Œæœ‰å¾ˆå¤šç§æ–¹æ³•å¯ä»¥æœç´¢å’Œæµè§ˆ Algolia çš„æ•°æ®ã€‚ä¸€ä¸ªä¾‹å­å¯èƒ½æ˜¯ JavaScript å®¢æˆ·ç«¯ algoliasearch æ‚¨è¿˜å¯ä»¥é€‰æ‹©ä½¿ç”¨æ›´é«˜çº§çš„ã€åŸºäºç»„ä»¶çš„æŠ½è±¡ï¼Œæ¯”å¦‚ InstantSearch.jsã€‚éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œæ— è®ºæ‚¨ä½¿ç”¨ä½•ç§æ–¹æ³•ï¼Œæ‚¨éƒ½åº”è¯¥å°è¯•ä»å®¢æˆ·ç«¯è·å–ç»“æœï¼Œä»¥å‡å°‘å»¶è¿Ÿã€‚

åœ¨æˆ‘ä»¬çš„ React åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬è·å–ç»“æœå¹¶ç”¨ä¸‹é¢çš„ä»£ç å¡«å……ä¸€ä¸ªä¸‹æ‹‰èœå•:

```
import Algolia from 'algoliasearch';

const client = Algolia(`APP_ID`, `SEARCH_API_SECRET`); // your api credentials
const index = client.initIndex(INDEX_NAME); // your index name (e.g. dev_winds)

index.search({ query: text, }, (err, results) => {
    if (err) {
        console.log(err);
        return;
    }

    this.setState({
        results: results.hits,
    });
}); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[![Winds](../Images/e29b5f7b77aae854727fd1cfd72f7e01.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--t57LcCbZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/cv2cpk3uzj025y3f1q4h.png)

ä¸ Algolia é›†æˆçš„ç¾å¦™ä¹‹å¤„åœ¨äºï¼Œæ‚¨å¯ä»¥æ„å»ºä¸€ä¸ªç•Œé¢ï¼Œä»¥å¤šç§æ–¹å¼æœç´¢å’Œæµè§ˆæ‚¨çš„æ•°æ®ã€‚å› ä¸ºæ˜¾ç¤ºæœç´¢ç»“æœæ‰€éœ€çš„æ‰€æœ‰æ•°æ®éƒ½å·²ç»å­˜åœ¨äºæˆ‘ä»¬çš„ Algolia è®°å½•ä¸­ï¼Œæ‰€ä»¥å‘ˆç°æ—¶çš„å¤æ‚æ€§å¾ˆå°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é¿å…å¯èƒ½ä¼šæ˜¾è‘—é™ä½å…¶ä»–å·¥å…·çš„é€Ÿåº¦æˆ–æ•ˆç‡çš„æ–¹æ³•ã€‚

## [](#performance-with-algolia-%E2%80%8D)åŒé˜¿å°”æˆˆåˆ©äºšçš„è¡¨ç°ğŸƒâ€

å¦‚å‰æ‰€è¿°ï¼Œæˆ‘ä»¬ä»å®¢æˆ·ç«¯è·å–ç»“æœã€‚è¿™æ˜¯ä¸ºäº†é¿å…åœ¨æˆ‘ä»¬é€šè¿‡ API ä¼ è¾“ç»“æœæ—¶å¯èƒ½é‡åˆ°çš„ä»»ä½•å»¶è¿Ÿã€‚ä¸ç®¡æŸ¥è¯¢æ˜¯ä»€ä¹ˆï¼ŒAlgolia çš„æœç´¢å“åº”åº”è¯¥åœ¨ä½æ¯«ç§’èŒƒå›´å†…ã€‚è¿™è¦å½’åŠŸäº Algolia èƒŒåçš„åŸºç¡€è®¾æ–½ã€‚è¿™æ˜¯ä¸€ç¯‡ç›¸å½“å¼•äººå…¥èƒœçš„æ–‡ç« ï¼Œå¦‚æœä½ åƒæˆ‘ä¸€æ ·ï¼Œä½ ä¼šæƒ³è¦é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œè¿™ç¯‡æ–‡ç« æ¶µç›–äº†å¯¹é˜¿å°”æˆˆåˆ©äºšå’Œ T2 çš„é€Ÿåº¦æµ‹è¯•ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªæˆªå›¾ï¼Œå±•ç¤ºäº† Algolia çš„æœç´¢åŠŸèƒ½åœ¨åŒ…å« 70ï¼Œ000 å¤šæ¡è®°å½•çš„æ•°æ®é›†ä¸Šæœ‰å¤šå¿«(ä»¥æ¯«ç§’è®¡):

[![Winds](../Images/074fc2f59c9116aed7c51d61c6048d92.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Vbae1yta--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/vxcex1990bb6magn7sq5.png)

## [](#final-thoughts)æœ€åçš„æƒ³æ³•ğŸ¤”

ä¸ç®¡ä½ çš„æœç´¢éœ€æ±‚å¦‚ä½•ï¼Œæˆ‘ä»¬åœ¨ [Stream](https://getstream.io) å¼ºçƒˆæ¨èä½¿ç”¨ Algoliaã€‚å®ƒå¿«é€Ÿã€æ˜“äºé…ç½®ï¼Œç”±åƒæ‚¨è¿™æ ·å……æ»¡çƒ­æƒ…çš„å¼€å‘äººå‘˜æ„å»ºã€‚æœ€åï¼Œæˆ‘å¯ä»¥è‡ªä¿¡åœ°è¯´ï¼Œæˆ‘ä»¬ç©å¾—å¾ˆå¼€å¿ƒï¼Œè®¨è®ºäº†æ‰€æœ‰è®©æˆ‘ä»¬åœ¨æœç´¢ä¸­æä¾›ç»ˆæç”¨æˆ·ä½“éªŒçš„å¯èƒ½æ€§ã€‚

æƒ³äº†è§£æ›´å¤šå…³äºé£çš„ä¿¡æ¯ï¼Œè¯·å…³æ³¨æœªæ¥å…³äºç§‘æŠ€å’Œé£çš„åšå®¢æ–‡ç« ï¼Œå¹¶åœ¨ Twitter ä¸Šå…³æ³¨æˆ‘ï¼Œåœ°å€æ˜¯ [@nickparsons](https://dev.to/nickparsons) ã€‚å¦‚æœä½ è®¤ä¸ºæˆ‘é”™è¿‡äº†ä»€ä¹ˆï¼Œè¯·åœ¨ä¸‹é¢çš„è¯„è®ºä¸­ç•™è¨€ã€‚å¯»æ‰¾å¿«ä¹ï¼ğŸ‰