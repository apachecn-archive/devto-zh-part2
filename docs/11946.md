# 2018 年设计安全、高性能的 web 会话有什么推荐方法？

> 原文:[https://dev . to/eroneon/whats-the-recommended-method-for-design-secure-and-performant-web-sessions-in-2018-2l 26](https://dev.to/eronaeon/whats-the-recommended-method-for-designing-secure-and-performant-web-sessions-in-2018-2l26)

大家好！设计会话对所有现代 web 应用程序来说都是非常重要的，但是很少有人讨论它。让我们假设一个 webapp 默认使用 HTTPS(即不用担心窃听或修改 cookies)。

假设我只想设计一个只存储用户 id 的会话，设计会话的最佳方法是什么？据我所知:

## [](#web-based-sessions)基于 Web 的会话:

很明显，主要的缺点是我必须在每次 http 请求时访问数据库并检查会话 ID。当然，我可以使用 Redis 来缓存会话 id，但是如果我碰巧更新了会话内容，我还必须实现一个写通逻辑，以便 Redis 和 DB 同步

### [](#djangos-approach)姜戈的做法

只需生成一个随机的会话 id(足够长，比如超过 20 个 ascii 字符)并将其存储在一个 cookie 中。

### [](#express-sessions-approach)表达会话的方法

与 Django 相同，但也将 HMAC 添加到会话 id cookie 中(这对 HTTPS 连接来说不是多余的吗？)

## [](#client-based-sessions)基于客户端的会话:

### [](#jwt)JWT

尽管它听起来很安全，性能也更好，但还是有很多人讨厌和批评它，我也不确定有多少值得尊敬的网站真的实现了它

* * *

你推荐什么？2018 年，目前推荐的为网站设计会话逻辑的方法是什么(希望可以扩展到移动应用程序)？