# Firebase 的匿名认证是为了什么-安全篇

> 原文:[https://dev.to/dala00/firebase-22 M8](https://dev.to/dala00/firebase----22m8)

Firebase 的身份验证是一种方便的方法，可以方便地进行 Google 和 Twitter 登录，但其中也有匿名身份验证。 从安全的角度来看这到底是为了什么。 这次是关于在浏览器上工作的 web APP 应用的故事。

## 到底什么是匿名认证？

匿名认证是指用户不进行任何操作等，也能在内部随意登录的功能。

## 是为了什么？

基本上是突然写在官方的说明上的。

[使用 JavaScript 进行 Firebase 匿名认证| Firebase](https://firebase.google.com/docs/auth/web/anonymous-auth?hl=ja)

> 允许未注册 APP 的用户使用受安全规则保护的数据。

## 什么是安全？

Firebase 虽然方便，但有可怕的地方。 在 web APP 应用程序中，用于初始化 fire base APP 应用程序的配置信息会因使用 JavaScript 而变得模糊。 因此，如果没有部署任何安全措施，任何人都可以使用该设置信息随意读写该 APP 介绍的信息。

作为限制这一点的方法，Forestore 和 Storage 有安全规则。 例如，可以设定以下内容。

*   有的数据谁都可以浏览
*   某些数据只能由登录的用户写入

Wait.

### 如果不设定安全规则会怎么样？

如上所述，由于配置信息是完全可见的，如果有人将其复制并装入自己的程序中，就可以用他人的 Firebase 账户自由处理数据等了。

会看到不该被看到的数据，而且根据使用量的不同金额也有可能增加，所以非常危险。

## 使用了匿名认证的安全设定的一例

我举一个使用匿名认证的简单例子，它被认为没有安全问题。

### 仅在已认证的情况下允许读写所有数据

如果没有验证，则无法读写任何数据。

### 匿名认证中，每个人都必须处于被认证的状态

这样，即使不登录，所有用户也能读写。

### 将可登录的主机名仅限于生产环境

您可以通过 Firebase Console 的身份验证设置来设置可以登录的主机名。 在此处只允许验证生产主机名。 这样，即使使用 Firebase 的设定信息也无法访问数据。

当然也把 localhost 等关掉吧。 开发时请另外准备开发用的 fire base APP 软件，并使用那里的设定。 我觉得构建的时候使用 cross-env 比较好。

## 总结

这样，通过加入匿名认证，只能在生产中处理数据，可以加强安全的基础部分。

总之，能看到完整的设定信息是非常可怕的事情。 不要囫囵吞枣地理解本文的内容，好好考虑各种各样的模式，加强安保吧。 (反而如果有错误的话请指出来)

将与 Firebase 合作的所有处理实现在 functions 中，使设定信息不被公开，或许可以考虑得如此坚固。