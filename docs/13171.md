# 如何在 HTML 中使用内联 JavaScript？你肯定喜欢非常糟糕的代码

> 原文:[https://dev . to/chiefoleka/how-to-use-inline-JavaScript-with-html-you-very-like-really-bad-code-1a1o](https://dev.to/chiefoleka/how-to-use-inline-javascript-with-html-you-definitely-like-really-bad-code-1a1o)

[![Horrible code everywhere](../Images/579a6db401c97297cb3e79672578e1c9.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--H2epPLwO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://memegenerator.net/img/instances/64093317/horrible-code-horrible-code-everywhere.jpg)

在我短暂的编码生涯中，我犯了太多的错误，以至于不知道如何使用 DOM 调用 javascript 方法:

```
<button type="submit" onclick="shoutout()">YAY!</button> 
```

那样做很糟糕，非常非常糟糕。你不应该这样做。永远不要这样做。诚实而公平地说，你的代码通常会在你做的时候工作，一切都会好的。但是，当你下定决心优化你的网页...可怕的故事将在此后被讲述。

## 避免内联 Javascript 诱惑的几个理由

我甚至不需要考虑太多。只需快速搜索一下，我就会看到一个 stackoverflow 线程，它突出显示了我对内联 js 的许多保留意见，甚至更多。我会把它们列在这里

*   不建议内联 javascript，因为你不能缓存它们。你肯定知道缓存为你的客户端节省了多少资源，以及你的网站加载速度有多快。不要牺牲它。
*   可维护性！如何开始追踪调用 javascript 方法的位置来修复它呢？你怎么知道什么在使用什么？
*   关注点分离
*   优化和缩小——我试着提取 js 文件并缩小它们，但是代码根本不工作，这就是我写这篇文章的原因。
*   与外部脚本相比，内联没有任何直接的性能提升。然而，当您谈到在加载页面后缓存和运行脚本时，为什么不这样做就开始有意义了。

好的。我想我能想到的就这些了。现在，请阅读我如何开始写这篇文章的完整故事。

## 我自己的恐怖故事

所以，我遇到了这个很酷的项目，喜欢这个想法，所以我就欣然接受了。这是在金融科技领域，我一直热爱金钱、金融科技和金钱。我一直想知道所有这些事情在幕后是如何运作的。所以你可以看到当它出现在我面前时，我是如何跳起来张开双手接受它的。

当我开始做这个项目时，原来是有一个开发人员试图让它工作，但是没有成功，所以他退出了(我仍然不明白为什么)。显然，他写的一些 javascript 代码仍然存在于 HTML 页面中。作为一个很酷的人，我一点也不介意。我愉快地继续从事这个项目，并学习如何以这种方式使用代码。我必须在这里提到的是`class names`和`id names`是完全模糊和不可描述的。我现在一想起来就头疼。

我喜欢保持东西干净，但只是在它开始工作之后。我继续用 HTML 下面的脚本编码，因为它对我来说更快(顺便说一下，这是完全正常的)。当我完成所有的工作后，是时候把所有的 Javascript 拿出来放到一个单独的文件中，这样我就可以缩小它了。

我很好地缩小了它，应用程序的一些部分工作，而其他部分不工作。我取消了缩小版本的链接，链接了“未缩小”版本，页面运行良好。我再次复制并粘贴了它的所有内容，并再次缩小，但它仍然没有工作。显然有些事情不对劲。

我又浏览了一遍页面，发现当我缩小文件时，由于某种奇怪的原因，上面例子中直接从 HTML 调用的每个方法不知何故都不存在了(嗯，很明显它被缩小了)。我检查了有多少这样的存在，我确定在滚动页面之前我数了至少 10 个。这样有多条线。

## 我会做什么

最好的办法是对所有事情都使用事件侦听器。这样，我怎么缩小它都没关系，一切都会很好。我可能有 10 页要重写并使用事件监听器，但那很好。想象一下，如果应用程序的页面数量是这个数量的几倍，您必须这样做...嘘！！！

我已经很害怕了。

祝我好运...我肯定需要很多。

**PS:** *在一个完全不相关的话题中，请始终适当缩进您的代码，并删除您注释掉的任何您不再需要的内容。可怜下一个开发人员吧。*